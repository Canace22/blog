<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Mac 安装 Mysql</title>
      <link href="/2019/11/13/mac%E5%AE%89%E8%A3%85mysql/"/>
      <url>/2019/11/13/mac%E5%AE%89%E8%A3%85mysql/</url>
      
        <content type="html"><![CDATA[<p>mac mysql 安装和使用的基本步骤</p><a id="more"></a><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>1、<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">下载</a></p><p>2、一路 next 之后，安装完成，会看到系统偏好栏多了一个 mysql 图标，点击可以进行一些基本的设置，也可以控制数据库的开关</p><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>1、执行命令：<code>PATH=&quot;$PATH&quot;:/usr/local/mysql/bin</code>，配置环境变量</p><p>2、登录 mysql：<code>mysql -u root -p</code></p><p>3、查看数据库：<code>show databases;</code></p><h3 id="安装数据库图形化工具-Navicat"><a href="#安装数据库图形化工具-Navicat" class="headerlink" title="安装数据库图形化工具 Navicat"></a>安装数据库图形化工具 Navicat</h3><p>这里有可能会连接失败，使用 mysql 支持的加密方式改一下密码就好，比如：<code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;&lt;psd&gt;&#39;;</code></p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pixi 极简教程</title>
      <link href="/2019/11/12/pixi%E5%9F%BA%E7%A1%80/"/>
      <url>/2019/11/12/pixi%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<p>pixi.js 是比较常用的 canvas 库，用来展示 2d 的平面图，相比 canvas，封装了更多的功能，也更简单容易上手，但是其官网的文档写得极其的简陋，可阅读性很差，综合了一些其他的文档，写出了这份极简教程，让小白也可以拿来即用。</p><a id="more"></a><h3 id="一、创建画布"><a href="#一、创建画布" class="headerlink" title="一、创建画布"></a>一、创建画布</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建别名</span></span><br><span class="line"><span class="keyword">let</span> Application = PIXI.Application,</span><br><span class="line">  loader = PIXI.Loader.shared,</span><br><span class="line">  resources = PIXI.Loader.shared.resources,</span><br><span class="line">  Texture = PIXI.Texture,</span><br><span class="line">  TextureCache = PIXI.utils.TextureCache,</span><br><span class="line">  Rectangle = PIXI.Rectangle,</span><br><span class="line">  Sprite = PIXI.Sprite;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一张 canvas 画布</span></span><br><span class="line"><span class="keyword">let</span> app = <span class="keyword">new</span> Application(&#123;</span><br><span class="line">  width: <span class="number">256</span>,</span><br><span class="line">  height: <span class="number">256</span>,</span><br><span class="line">  antialiasing: <span class="literal">true</span>,</span><br><span class="line">  transparent: <span class="literal">false</span>,</span><br><span class="line">  resolution: <span class="number">1</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 把新创建的 canvas 画布挂载到对应的节点上</span></span><br><span class="line"><span class="keyword">this</span>.$refs.container.appendChild(app.view);</span><br></pre></td></tr></table></figure><h3 id="二、画布设置"><a href="#二、画布设置" class="headerlink" title="二、画布设置"></a>二、画布设置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//canvas 全屏样式</span></span><br><span class="line">app.renderer.view.style.position = <span class="string">"absolute"</span>;</span><br><span class="line">app.renderer.view.style.width = <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>;</span><br><span class="line">app.renderer.view.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>;</span><br><span class="line">app.renderer.view.style.display = <span class="string">"block"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//`renderer.view` 代表原始的 `&lt;canvas&gt;`标签.</span></span><br><span class="line"><span class="comment">//给 canvas 加条虚线，就像平常操作 canvas 一样</span></span><br><span class="line">app.renderer.view.style.border = <span class="string">"1px dashed black"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//重置画布大小</span></span><br><span class="line">app.renderer.resize(<span class="number">512</span>, <span class="number">512</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变画布背颜色，颜色使用的是十六进制色</span></span><br><span class="line">app.renderer.backgroundColor = <span class="number">0x000000</span>;</span><br></pre></td></tr></table></figure><h3 id="三、显示图片"><a href="#三、显示图片" class="headerlink" title="三、显示图片"></a>三、显示图片</h3><p>1、texture 方法创建精灵</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个 cat 精灵</span></span><br><span class="line"><span class="keyword">const</span> texture = Texture.from(<span class="string">"./img/pixi/cat.png"</span>);</span><br><span class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> Sprite(texture);</span><br><span class="line"><span class="comment">// 把新创建的精灵加到舞台上</span></span><br><span class="line">app.stage.addChild(cat);</span><br></pre></td></tr></table></figure><p>2、loder 方法创建精灵</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">loader</span><br><span class="line">  .add([<span class="string">"./img/pixi/cat.png"</span>, <span class="string">"./img/pixi/blob.png"</span>, <span class="string">"./img/pixi/explorer.png"</span>])</span><br><span class="line">  .load(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//创建精灵</span></span><br><span class="line">    <span class="keyword">let</span> cat = <span class="keyword">new</span> Sprite(resources[<span class="string">"./img/pixi/cat.png"</span>].texture),</span><br><span class="line">      blob = <span class="keyword">new</span> Sprite(resources[<span class="string">"./img/pixi/blob.png"</span>].texture),</span><br><span class="line">      explorer = <span class="keyword">new</span> Sprite(resources[<span class="string">"./img/pixi/explorer.png"</span>].texture);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把新创建的精灵加到舞台上</span></span><br><span class="line">    app.stage.addChild(cat);</span><br><span class="line">    app.stage.addChild(blob);</span><br><span class="line">    app.stage.addChild(explorer);</span><br><span class="line">    loader.reset();</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>3、改变精灵的属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//改变精灵位置</span></span><br><span class="line">blob.position.set(<span class="number">82</span>, <span class="number">82</span>);</span><br><span class="line">explorer.position.set(<span class="number">128</span>, <span class="number">128</span>);</span><br><span class="line"><span class="comment">// 改变精灵大小</span></span><br><span class="line">cat.scale.set(<span class="number">1.2</span>, <span class="number">1.2</span>);</span><br><span class="line"><span class="comment">//旋转精灵</span></span><br><span class="line">cat.rotation = <span class="number">0.5</span>;</span><br><span class="line"><span class="comment">// 设置旋转的中心点</span></span><br><span class="line">cat.anchor.set(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// 精灵显示情况控制</span></span><br><span class="line">cat.visible = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><p>4、加载雪碧图</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">loader.add(<span class="string">"./img/pixi/tileset.png"</span>).load(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> texture = TextureCache[<span class="string">"./img/pixi/tileset.png"</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 图片在雪碧图上的位置截取 new Rectangle(x, y, w, h)</span></span><br><span class="line">  <span class="keyword">let</span> rectangle = <span class="keyword">new</span> Rectangle(<span class="number">192</span>, <span class="number">128</span>, <span class="number">64</span>, <span class="number">64</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 告诉 texture 使用截取的区域</span></span><br><span class="line">  texture.frame = rectangle;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> rocket = <span class="keyword">new</span> Sprite(texture);</span><br><span class="line"></span><br><span class="line">  rocket.position.set(<span class="number">32</span>, <span class="number">32</span>);</span><br><span class="line">  app.stage.addChild(rocket);</span><br><span class="line">  loader.reset();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>5、加载 json 贴图数据集</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Loader.add(&#123;</span><br><span class="line">  name: <span class="string">"treasure"</span>,</span><br><span class="line">  url: <span class="string">"./img/pixi/treasureHunter.json"</span></span><br><span class="line">&#125;).load(<span class="function">(<span class="params">loader, resources</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> dungeon, explorer, treasure, door;</span><br><span class="line">  <span class="keyword">const</span> things = resources[<span class="string">"treasure"</span>].textures;</span><br><span class="line"></span><br><span class="line">  dungeon = <span class="keyword">new</span> Sprite(things[<span class="string">"dungeon.png"</span>]);</span><br><span class="line">  app.stage.addChild(dungeon);</span><br><span class="line"></span><br><span class="line">  explorer = <span class="keyword">new</span> Sprite(things[<span class="string">"explorer.png"</span>]);</span><br><span class="line">  app.stage.addChild(explorer);</span><br><span class="line"></span><br><span class="line">  treasure = <span class="keyword">new</span> Sprite(things[<span class="string">"treasure.png"</span>]);</span><br><span class="line">  app.stage.addChild(treasure);</span><br><span class="line"></span><br><span class="line">  loader.reset();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>json 数据长这样：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"frames"</span>: &#123;</span><br><span class="line">    <span class="attr">"blob.png"</span>: &#123;</span><br><span class="line">      <span class="attr">"frame"</span>: &#123; <span class="attr">"x"</span>: <span class="number">55</span>, <span class="attr">"y"</span>: <span class="number">2</span>, <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"rotated"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"trimmed"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"spriteSourceSize"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0</span>, <span class="attr">"y"</span>: <span class="number">0</span>, <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"sourceSize"</span>: &#123; <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"pivot"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0.5</span>, <span class="attr">"y"</span>: <span class="number">0.5</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"door.png"</span>: &#123;</span><br><span class="line">      <span class="attr">"frame"</span>: &#123; <span class="attr">"x"</span>: <span class="number">89</span>, <span class="attr">"y"</span>: <span class="number">2</span>, <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"rotated"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"trimmed"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"spriteSourceSize"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0</span>, <span class="attr">"y"</span>: <span class="number">0</span>, <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"sourceSize"</span>: &#123; <span class="attr">"w"</span>: <span class="number">32</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"pivot"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0.5</span>, <span class="attr">"y"</span>: <span class="number">0.5</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"dungeon.png"</span>: &#123;</span><br><span class="line">      <span class="attr">"frame"</span>: &#123; <span class="attr">"x"</span>: <span class="number">2</span>, <span class="attr">"y"</span>: <span class="number">36</span>, <span class="attr">"w"</span>: <span class="number">512</span>, <span class="attr">"h"</span>: <span class="number">512</span> &#125;,</span><br><span class="line">      <span class="attr">"rotated"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"trimmed"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"spriteSourceSize"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0</span>, <span class="attr">"y"</span>: <span class="number">0</span>, <span class="attr">"w"</span>: <span class="number">512</span>, <span class="attr">"h"</span>: <span class="number">512</span> &#125;,</span><br><span class="line">      <span class="attr">"sourceSize"</span>: &#123; <span class="attr">"w"</span>: <span class="number">512</span>, <span class="attr">"h"</span>: <span class="number">512</span> &#125;,</span><br><span class="line">      <span class="attr">"pivot"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0.5</span>, <span class="attr">"y"</span>: <span class="number">0.5</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"explorer.png"</span>: &#123;</span><br><span class="line">      <span class="attr">"frame"</span>: &#123; <span class="attr">"x"</span>: <span class="number">2</span>, <span class="attr">"y"</span>: <span class="number">2</span>, <span class="attr">"w"</span>: <span class="number">21</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"rotated"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"trimmed"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"spriteSourceSize"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0</span>, <span class="attr">"y"</span>: <span class="number">0</span>, <span class="attr">"w"</span>: <span class="number">21</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"sourceSize"</span>: &#123; <span class="attr">"w"</span>: <span class="number">21</span>, <span class="attr">"h"</span>: <span class="number">32</span> &#125;,</span><br><span class="line">      <span class="attr">"pivot"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0.5</span>, <span class="attr">"y"</span>: <span class="number">0.5</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"treasure.png"</span>: &#123;</span><br><span class="line">      <span class="attr">"frame"</span>: &#123; <span class="attr">"x"</span>: <span class="number">25</span>, <span class="attr">"y"</span>: <span class="number">2</span>, <span class="attr">"w"</span>: <span class="number">28</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"rotated"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"trimmed"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"spriteSourceSize"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0</span>, <span class="attr">"y"</span>: <span class="number">0</span>, <span class="attr">"w"</span>: <span class="number">28</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"sourceSize"</span>: &#123; <span class="attr">"w"</span>: <span class="number">28</span>, <span class="attr">"h"</span>: <span class="number">24</span> &#125;,</span><br><span class="line">      <span class="attr">"pivot"</span>: &#123; <span class="attr">"x"</span>: <span class="number">0.5</span>, <span class="attr">"y"</span>: <span class="number">0.5</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"app"</span>: <span class="string">"http://www.codeandweb.com/texturepacker"</span>,</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"1.0"</span>,</span><br><span class="line">    <span class="attr">"image"</span>: <span class="string">"treasureHunter.png"</span>,</span><br><span class="line">    <span class="attr">"format"</span>: <span class="string">"RGBA8888"</span>,</span><br><span class="line">    <span class="attr">"size"</span>: &#123; <span class="attr">"w"</span>: <span class="number">516</span>, <span class="attr">"h"</span>: <span class="number">550</span> &#125;,</span><br><span class="line">    <span class="attr">"scale"</span>: <span class="string">"1"</span>,</span><br><span class="line">    <span class="attr">"smartupdate"</span>: <span class="string">"$TexturePacker:SmartUpdate:51ede84c7a85e4d6aeb31a6020a20858:3923663e59fb40b578d66a492a2cda2d:9995f8b4db1ac3cb75651b1542df8ee2$"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看着很复杂，不像人写的是吧？确实，可以自动生成的，你需要 TexturePacker 这个神奇，生成雪碧图的同时，可以到处 json 数据集，有专门针对 pixi 的拿来即用的版本。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 2D </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机图形学 —————— 空间中的物体（2）</title>
      <link href="/2019/11/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-2/"/>
      <url>/2019/11/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-2/</url>
      
        <content type="html"><![CDATA[<p>在计算机图形学 —————— 空间中的物体（1）中，我讲到了网页中颜色的填充方法，这一篇，我来讲讲网页中的视点。有空间观念的话，应该知道我们的眼睛看物体总是越近的物体看得越清楚，越大，越远的物体显得越渺小，也就是近大远小的规律。</p><p>空间中的物体，从不同角度看，给我们的视觉效也是不一样的，而视点又有上下左右之分，每个方向的视点位置也同样会影响到物体的视觉效果。</p><p>综上，要展示一个空间中的物体，我们还需要三个值，即：视点，视角以及物体的远近值，可以这么表示：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PerspectiveCamera</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(eye, front, up, fov) &#123;</span><br><span class="line">    <span class="comment">// @eye：视点, @front：视野前方坐标点, @up：视野后方坐标点, @fov：视野远近，近大远小;</span></span><br><span class="line">    <span class="keyword">this</span>.eye = eye;</span><br><span class="line">    <span class="keyword">this</span>.front = front;</span><br><span class="line">    <span class="keyword">this</span>.refUp = up;</span><br><span class="line">    <span class="keyword">this</span>.fov = fov;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  initialize() &#123;</span><br><span class="line">    <span class="keyword">this</span>.right = <span class="keyword">this</span>.front.cross(<span class="keyword">this</span>.refUp);</span><br><span class="line">    <span class="keyword">this</span>.up = <span class="keyword">this</span>.right.cross(<span class="keyword">this</span>.front);</span><br><span class="line">    <span class="keyword">this</span>.fovScale = <span class="built_in">Math</span>.tan((<span class="keyword">this</span>.fov * <span class="number">0.5</span> * <span class="built_in">Math</span>.PI) / <span class="number">180</span>) * <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3D </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机图形学 ———— 空间中的物体（1）</title>
      <link href="/2019/11/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-1/"/>
      <url>/2019/11/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-1/</url>
      
        <content type="html"><![CDATA[<p>学过素描的应该都知道，物体的空间感/立体感是通过阴影渲染出来的，要画出一个具有立体感的物体，要清楚的区分出黑白灰三面，还有五调子，其中的黑灰是根据光线的强弱来判别的，比如光线的聚点，可能就是高光的位置，比较亮，而背面则是阴影，是比较暗的，但是这并不是最暗的位置，最暗的的位置应该是明暗交界线。</p><p>想要在网页上展现一个有立体感的物体，也可以用类似的原理。等等，计算机怎么去渲染这么有层次的颜色呢？画素描的时候都是一条线一条线的去画，才能勉强画出这种层次感，计算机去画就更难了。别担心，计算机显示画面不是一个像素一个像素的显示嘛，那么我们就一个像素一个像素的填充颜色，只要算法写的好，还怕填充不出来吗？</p><p>说到网页画图，我们首先想到的应是 canvas 吧，所以我们可以先给出一张画布：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"><span class="keyword">const</span> w = canvas.attributes.width.value;</span><br><span class="line"><span class="keyword">const</span> h = canvas.attributes.height.value;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br></pre></td></tr></table></figure><p>有了画布之后，我们可以获取他里面所有的像素点集合 pixels：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imgdata = ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line"><span class="keyword">const</span> pixels = imgdata.data;</span><br></pre></td></tr></table></figure><p>有了像素点集合之后，我们可以往里面填充颜色</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; h; y++)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; w; x++) &#123;</span><br><span class="line">    pixels[i++] = <span class="number">0</span>;</span><br><span class="line">    pixels[i++] = <span class="number">255</span>;</span><br><span class="line">  &#125;</span><br><span class="line">ctx.putImageData(imgdata, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>因为像素点集合是二维的，所以，y 表示从上到下的像素点， x 表示从左往右的像素点，这样我们就格子里填充颜色了。做到了这一步，相当于你已经会画线条了，接下来应该要熟悉一下构图了。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3D </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目模块化原则</title>
      <link href="/2019/11/08/%E9%A1%B9%E7%9B%AE%E6%A8%A1%E5%9D%97%E5%8C%96%E5%8E%9F%E5%88%99/"/>
      <url>/2019/11/08/%E9%A1%B9%E7%9B%AE%E6%A8%A1%E5%9D%97%E5%8C%96%E5%8E%9F%E5%88%99/</url>
      
        <content type="html"><![CDATA[<p>1、组件划分为业务组件和 UI 组件</p><p>2、按照先业务后功能的方式去颗粒化组件</p><p>3、数据驱动，业务操作在业务组件里完成</p><p>4、ＵＩ组件不参与业务，不处理业务逻辑，只做展示之用</p><p>5、公共的组件、接口、css，抽离出来，不掺杂在业务逻辑里</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 项目模块化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件命名为什么提倡用英文小写字母而不用大写字母</title>
      <link href="/2019/11/08/%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/"/>
      <url>/2019/11/08/%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>开发遇到了个问题，项目在本地编译得好好的，在 ci 上编译一直报错，说是找不到路径，本地看了好多遍路径都是对的，感觉是玄学。</p><p>想了想没做什么操作，就是看不习惯之前的命名方式，好几个单词写在一起，想统一成驼峰命名法，于是把两个文件夹的两 a 个单词开头写成了大写字母~</p><p>后来发现就是这个在 win 系统下手动改文件名由大写改为小写的锅，因为在 win 系统中是大小写不区分的，导致在 git push 的时候，push 上去的文件还是那个全是小写字母的，所以会一直报找不到路径的错误。但是如果文件一开始就是驼峰命名法，就不存在这个问题了，因为提交上去的就是新的文件。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开发风格 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>说说网页自适应和响应式布局</title>
      <link href="/2019/11/05/%E8%AF%B4%E8%AF%B4%E7%BD%91%E9%A1%B5%E8%87%AA%E9%80%82%E5%BA%94%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/"/>
      <url>/2019/11/05/%E8%AF%B4%E8%AF%B4%E7%BD%91%E9%A1%B5%E8%87%AA%E9%80%82%E5%BA%94%E5%92%8C%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<p>忙完一段时间，发布了一版之后，习惯性的放下手头一些需求，去整理之前的项目，看看存在什么问题，是否有可优化的空间。发现我写的页面存在一个很大的问题，那就是多分辨率适配的问题。之前一直用着响应式的理念，根据页面调整布局，但是发现与产品的需求相悖，他们希望看到的是所有分辨率的显示屏显示的效果一致。</p><p>要做到我们产品的这种需求，那就只能用 web 2.0 时期的百分比 + float 布局了，也就是我们常说的网页自适应，这种页面布局方式在老版本的网页体现的比较明显，其应用场景一般比较局限于 pc 浏览区。</p><p>而响应式布局是互联网新时代的产物，是随着移动端的兴起而发展起来的，这种布局方式，根据屏幕的分辨率不同，给用户呈现不同的视觉效果，更进一步发展为现在常说的 pwa ，渐进式网页布局，多用于屏幕分辨率比较广泛的环境。</p><p>说说现在的自适应怎么做，我总结出以下原则：</p><p>1、 viewport: content=”width=device-width, initial-scale=1”</p><p>2、使相对宽度(vw)或者百分比宽度</p><p>3、适当使用相对大小的字体（rem)</p><p>4、使用 float 布局</p><p>5、使用媒体查询，有选择的加载 CSS</p><p>6、图片自适应</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React Hooks 创建电影 App</title>
      <link href="/2019/11/01/react-hooks%E5%88%9B%E5%BB%BA%E7%94%B5%E5%BD%B1app/"/>
      <url>/2019/11/01/react-hooks%E5%88%9B%E5%BB%BA%E7%94%B5%E5%BD%B1app/</url>
      
        <content type="html"><![CDATA[<p>使用 react hooks 搭建一个电影 App，该 demo 属于一个极简版，参考自一个外国哥们写的 《How to build a movie search app using React Hooks》，文章的核心围绕用 react hook 搭建一个电影 App 的关键步骤展开，没有多余的描述，代码可以开箱即用，欢迎食用。</p><a id="more"></a><h3 id="1、-项目创建"><a href="#1、-项目创建" class="headerlink" title="1、 项目创建"></a>1、 项目创建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g create-react-app</span><br><span class="line"></span><br><span class="line">create-react-app &lt;item-name&gt;</span><br><span class="line"></span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure><h3 id="2、创建-components-目录"><a href="#2、创建-components-目录" class="headerlink" title="2、创建 components 目录"></a>2、创建 components 目录</h3><p>(1) 把 App.js 拉到该目录下，同时更新 index.js 下 App.js 的路径</p><p>(2) 创建 Header.js，header 组件，接收父组件传过来的标题，App-header 是 App.css 中的一个 class</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Header = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;header className=<span class="string">"App-header"</span>&gt;</span><br><span class="line">      &lt;h2&gt;&#123;props.text&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>header&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Header;</span><br></pre></td></tr></table></figure><p>(3) 创建 Movie.js，该组件用于展示父组件传过来的电影相关数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_PLACEHOLDER_IMAGE =</span><br><span class="line">  <span class="string">"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Movie = <span class="function">(<span class="params">&#123; movie &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> poster =</span><br><span class="line">    movie.Poster === <span class="string">"N/A"</span> ? DEFAULT_PLACEHOLDER_IMAGE : movie.Poster;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"movie"</span>&gt;</span><br><span class="line">      &lt;h2&gt;&#123;movie.Title&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;img</span></span><br><span class="line"><span class="regexp">          width="200"</span></span><br><span class="line"><span class="regexp">          alt=&#123;`The movie titled: $&#123;movie.Title&#125;`&#125;</span></span><br><span class="line"><span class="regexp">          src=&#123;poster&#125;</span></span><br><span class="line"><span class="regexp">        /</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;(&#123;movie.Year&#125;)&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Movie;</span></span><br></pre></td></tr></table></figure><p>(4) 创建 Search.js，该组件实现搜索功能，其中用到了 react 的 useState 钩子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Search = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [searchValue, setSearchValue] = useState(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleSearchInputChanges = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    setSearchValue(e.target.value);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> resetInputField = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setSearchValue(<span class="string">""</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> callSearchFunction = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    props.search(searchValue);</span><br><span class="line">    resetInputField();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;form className=<span class="string">"search"</span>&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        value=&#123;searchValue&#125;</span><br><span class="line">        onChange=&#123;handleSearchInputChanges&#125;</span><br><span class="line">        type=<span class="string">"text"</span></span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;input onClick=&#123;callSearchFunction&#125; type=<span class="string">"submit"</span> value=<span class="string">"SEARCH"</span> /&gt;</span><br><span class="line">    &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Search;</span></span><br></pre></td></tr></table></figure><h3 id="3、更新-App-js-文件，引用上述新组件"><a href="#3、更新-App-js-文件，引用上述新组件" class="headerlink" title="3、更新 App.js 文件，引用上述新组件"></a>3、更新 App.js 文件，引用上述新组件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useReducer, useEffect &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"../App.css"</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">"./Header"</span>;</span><br><span class="line"><span class="keyword">import</span> Movie <span class="keyword">from</span> <span class="string">"./Movie"</span>;</span><br><span class="line"><span class="keyword">import</span> Search <span class="keyword">from</span> <span class="string">"./Search"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MOVIE_API_URL = <span class="string">"https://www.omdbapi.com/?s=man&amp;apikey=4a3b711b"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  loading: <span class="literal">true</span>,</span><br><span class="line">  movies: [],</span><br><span class="line">  errorMessage: <span class="literal">null</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"SEARCH_MOVIES_REQUEST"</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        loading: <span class="literal">true</span>,</span><br><span class="line">        errorMessage: <span class="literal">null</span></span><br><span class="line">      &#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"SEARCH_MOVIES_SUCCESS"</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        loading: <span class="literal">false</span>,</span><br><span class="line">        movies: action.payload</span><br><span class="line">      &#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"SEARCH_MOVIES_FAILURE"</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        loading: <span class="literal">false</span>,</span><br><span class="line">        errorMessage: action.error</span><br><span class="line">      &#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    fetch(MOVIE_API_URL)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">      .then(<span class="function"><span class="params">jsonResponse</span> =&gt;</span> &#123;</span><br><span class="line">        dispatch(&#123;</span><br><span class="line">          type: <span class="string">"SEARCH_MOVIES_SUCCESS"</span>,</span><br><span class="line">          payload: jsonResponse.Search</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> search = <span class="function"><span class="params">searchValue</span> =&gt;</span> &#123;</span><br><span class="line">    dispatch(&#123;</span><br><span class="line">      type: <span class="string">"SEARCH_MOVIES_REQUEST"</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    fetch(<span class="string">`https://www.omdbapi.com/?s=<span class="subst">$&#123;searchValue&#125;</span>&amp;apikey=4a3b711b`</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">      .then(<span class="function"><span class="params">jsonResponse</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (jsonResponse.Response === <span class="string">"True"</span>) &#123;</span><br><span class="line">          dispatch(&#123;</span><br><span class="line">            type: <span class="string">"SEARCH_MOVIES_SUCCESS"</span>,</span><br><span class="line">            payload: jsonResponse.Search</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          dispatch(&#123;</span><br><span class="line">            type: <span class="string">"SEARCH_MOVIES_FAILURE"</span>,</span><br><span class="line">            error: jsonResponse.Error</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; movies, errorMessage, loading &#125; = state;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">      &lt;Header text=<span class="string">"REACT MOVIE APP"</span> /&gt;</span><br><span class="line">      &lt;Search search=&#123;search&#125; /&gt;</span><br><span class="line">      &lt;p className=<span class="string">"App-intro"</span>&gt;Sharing a few <span class="keyword">of</span> our favourite movies&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="movies"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;loading &amp;&amp; !errorMessage ? (</span></span><br><span class="line"><span class="regexp">          &lt;span&gt;loading... &lt;/</span>span&gt;</span><br><span class="line">        ) : errorMessage ? (</span><br><span class="line">          &lt;div className=<span class="string">"errorMessage"</span>&gt;&#123;errorMessage&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        ) : (</span></span><br><span class="line"><span class="regexp">          movies.map((movie, index) =&gt; (</span></span><br><span class="line"><span class="regexp">            &lt;Movie key=&#123;`$&#123;index&#125;-$&#123;movie.Title&#125;`&#125; movie=&#123;movie&#125; /</span>&gt;</span><br><span class="line">          ))</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure><h3 id="4、完结撒花"><a href="#4、完结撒花" class="headerlink" title="4、完结撒花"></a>4、完结撒花</h3>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Canvas绘制雪碧图导出</title>
      <link href="/2019/10/26/canvas%E7%BB%98%E5%88%B6%E9%9B%AA%E7%A2%A7%E5%9B%BE%E5%AF%BC%E5%87%BA/"/>
      <url>/2019/10/26/canvas%E7%BB%98%E5%88%B6%E9%9B%AA%E7%A2%A7%E5%9B%BE%E5%AF%BC%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<p>在开发中，我们经常会用到雪碧图，有时候 UI 可能给了很多小图，没有给到雪碧图，为了减少请求，我们会选择自己去在线生成或 ps，但是这样太繁琐了，能不能我们用一个函数实现呢？网上很多方案是借助 webpack 实现这个功能的，但是我想能不能简单点，于是就有了这个 demo，目前该 demo 可以合成雪碧图导出，但是没有导出对应的坐标 json 文件，后期再完善，先这样。</p><a id="more"></a><p>一、主要思路</p><p>1、要合成雪碧图的前提是拿到对应图片的路径，网页要拿图片的路径无非就是通过 input file 上传的时候拿本地路径或者更加简单粗暴地自己写；</p><p>2、要合成雪碧图，需要有个工具去把他们拼凑在一起，网页怎么把图片拼在一起呢？当然是用 canvas 画啦；</p><p>3、已经可以组合图片了，怎么导出呢？客户端的 js 没有操作文件系统的高端属性啊，我选择的是用一个保存文件的第三方库 file-saver，这是一个客户端 js 保存文件的神器。</p><p>二、实现</p><p>demo:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; saveAs &#125; <span class="keyword">from</span> <span class="string">"file-saver"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newSprite</span>(<span class="params">&#123; canvasId, images, width, height &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(canvasId);</span><br><span class="line">  canvas.setAttribute(<span class="string">"width"</span>, width);</span><br><span class="line">  canvas.setAttribute(<span class="string">"height"</span>, height);</span><br><span class="line">  <span class="keyword">const</span> initX = <span class="number">0</span>;</span><br><span class="line">  images.forEach(<span class="function">(<span class="params">ele, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    ctx.drawImage(ele, initX + <span class="number">50</span> * index, <span class="number">0</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  canvas.toBlob(<span class="function"><span class="params">blob</span> =&gt;</span> &#123;</span><br><span class="line">    saveAs(blob, <span class="string">"sprite.png"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>预览：</p><p><a href="https://canace22.github.io/Demos/#/" target="_blank" rel="noopener">Demos</a> =&gt; canvas 绘图 =&gt; 合成雪碧图</p><p>三、扩展</p><p>如果觉得这样还不够好用的话，可以学习 smithSprite，把对应图片的 css 坐标样式也导出来</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web 优化 ——— 添加骨架屏</title>
      <link href="/2019/09/26/%E6%B7%BB%E5%8A%A0%E9%AA%A8%E6%9E%B6%E5%B1%8F/"/>
      <url>/2019/09/26/%E6%B7%BB%E5%8A%A0%E9%AA%A8%E6%9E%B6%E5%B1%8F/</url>
      
        <content type="html"><![CDATA[<p>摘要：<br>最近做网页优化，发现页面会有一段白屏时间，给人的体验就是网页会有一闪而出的感觉，也就是我们常说的闪屏，查了一些资料，发现实现思路都是异曲同工的，就是在页面节点还没加载之前，先插一段静态网页，节点加载了再去掉这段静态代码，显示数据渲染出来界面。一般需要加骨架屏的界面，是一些动态加载数据的界面，因为数据没出来，会有一段比较长的白屏时间会给用户网加载慢的感觉。加了骨架屏，用会觉得网页加载比较快，属于一种视觉欺骗的手段吧。</p><p>下面来讲讲 vue-cli3 添骨架屏方法。</p><p>为节省时间成本，我没有自己去造轮子，而是选择了一个现成的轮子 vue-skeleton-webpack-plugin，骨架屏的实现步骤如下：</p><p>1、安装轮子的包：<code>yarn add vue-skeleton-webpack-plugin</code></p><p>2、webpack 中引入该插件(vue.config.js)，具体的配置项可以去看看该插件的<a href="https://github.com/lavas-project/vue-skeleton-webpack-plugin" target="_blank" rel="noopener">说明</a>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SkeletonWebpackPlugin = <span class="built_in">require</span>(<span class="string">'vue-skeleton-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line">configureWebpack: &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> SkeletonWebpackPlugin(&#123;</span><br><span class="line">      webpackConfig: &#123;</span><br><span class="line">        entry: &#123;</span><br><span class="line">          app: path.join(__dirname, <span class="string">'./src/common/skeleton.js'</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      minimize: <span class="literal">true</span>,</span><br><span class="line">      quiet: <span class="literal">true</span>,</span><br><span class="line">      router: &#123;</span><br><span class="line">        mode: <span class="string">'hash'</span>,</span><br><span class="line">        routes: [</span><br><span class="line">          &#123;</span><br><span class="line">            path: <span class="string">'/'</span>,</span><br><span class="line">            skeletonId: <span class="string">'skeleton-home'</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            path: <span class="string">'/home'</span>,</span><br><span class="line">            skeletonId: <span class="string">'skeleton-home'</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>3、添加一个骨架组件，skeleton.js 中引入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">"vue"</span>;</span><br><span class="line"><span class="keyword">import</span> Skeleton <span class="keyword">from</span> <span class="string">"../components/skeletonPage.vue"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Skeleton</span><br><span class="line">  &#125;,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(Skeleton)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>4、因为在 vue-cli 里默认样式是不分离的，打包出来的骨架屏会没有样式，所以需要设置一下样式分离：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">css: &#123;</span><br><span class="line">  extract: <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>5、因为 vue-cli 脚手架打包出来的样式是带 tag 的，骨架的样式依然不可用，这里我是先启用样式分离，编译出 css ，然后手动去掉 tag，放到 public/index 里，再关闭样式分离，这样骨架屏就正常了。</p><p>6、按照文档做了上面这些，会发现骨架屏还是无效的，还需要修改一下 main.js 的组件挂载方式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  components: &#123;</span><br><span class="line">    App</span><br><span class="line">  &#125;,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.mountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  app.$mount(<span class="string">"#app"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.mountApp();</span><br></pre></td></tr></table></figure><p>7、此外需要注意：</p><ul><li><p>App.vue 文件引用组件的方式不要用 router-view，改用直接引入组件</p></li><li><p>首屏的组件不要懒加载，不然会有闪屏的问题</p></li><li><p>目前只测试了单页应用，多页面的应用还未尝试，有待探索</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单向列表拼接</title>
      <link href="/2019/09/15/%E5%8D%95%E5%90%91%E5%88%97%E8%A1%A8%E6%8B%BC%E6%8E%A5/"/>
      <url>/2019/09/15/%E5%8D%95%E5%90%91%E5%88%97%E8%A1%A8%E6%8B%BC%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># Input: 1 -&gt; 2 -&gt; 4, 1 -&gt; 3 -&gt; 4</span></span><br><span class="line"><span class="comment"># Output: 1 -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https: // leetcode-cn.com/problems/merge-two-sorted-lists</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span><span class="params">(self, l1, l2)</span>:</span></span><br><span class="line">        prehead = ListNode(<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">        prev = prehead</span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">            <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">                prev.next = l1</span><br><span class="line">                l1 = l1.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                prev.next = l2</span><br><span class="line">                l2 = l2.next</span><br><span class="line">            prev = prev.next</span><br><span class="line">        prev.next = l1 <span class="keyword">if</span> l1 <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> l2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> prehead.next</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arr1, arr2)</span>:</span></span><br><span class="line">        n1 = ListNode(arr1[<span class="number">0</span>])</span><br><span class="line">        x1 = ListNode(arr2[<span class="number">0</span>])</span><br><span class="line">        self.mergeTwoLists(n1, x1)</span><br><span class="line">        print(self.mergeTwoLists(n1, x1).val)</span><br><span class="line"></span><br><span class="line">Solution([<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure><p>通过比较两个列表节点的大小，替换节点的方式，拼接出一个由小到大排序的有序单向列表，这题对于我来说，难点在于列表的实现，由于之前没怎么接触过链表，还得慢慢去理解。</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>获取最长公共前缀</title>
      <link href="/2019/09/15/%E8%8E%B7%E5%8F%96%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/"/>
      <url>/2019/09/15/%E8%8E%B7%E5%8F%96%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Write a function to find the longest common prefix string amongst an array of strings.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If there is no common prefix, return an empty string "".</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example 1:</span></span><br><span class="line"><span class="comment"># Input: ["flower", "flow", "flight"]</span></span><br><span class="line"><span class="comment"># Output: "fl"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example 2:</span></span><br><span class="line"><span class="comment"># Input: ["dog", "racecar", "car"]</span></span><br><span class="line"><span class="comment"># Output: ""</span></span><br><span class="line"><span class="comment"># Explanation: There is no common prefix among the input strings.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note:</span></span><br><span class="line"><span class="comment"># All given inputs are in lowercase letters a-z.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https: // leetcode-cn.com/problems/longest-common-prefix</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestCommonPrefix</span><span class="params">(self, strs)</span> -&gt; str:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> strs:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">        r = []</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> zip(*strs):  <span class="comment"># 将 str 转换为二维矩阵式，遍历每个单元</span></span><br><span class="line">            <span class="comment"># 若二维矩阵式每一项用 set 方式去重，三个都为重复的话，长度将为 1，此时 str 中每个元素该位置的值相同，将 true 添加到结果集合中</span></span><br><span class="line">            r.append(len(set(item)) == <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 用于解决全部字符串相等时的情况，在后面加个 0，可以截取整个数组</span></span><br><span class="line">        r += [<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># r.index(0) 表示相同字符串的截取位置，res 则为最长公共前缀</span></span><br><span class="line">        res = strs[<span class="number">0</span>][:r.index(<span class="number">0</span>)]</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arr)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> ex:</span><br><span class="line">            print(self.longestCommonPrefix(item))</span><br><span class="line"></span><br><span class="line">ex = [[<span class="string">"dog"</span>, <span class="string">"racecar"</span>, <span class="string">"car"</span>], [<span class="string">"flower"</span>, <span class="string">"flow"</span>, <span class="string">"flight"</span>], []]</span><br><span class="line">Solution(ex)</span><br></pre></td></tr></table></figure><p>这道题用到了 python 的一个独有的数据处理能力，把数组转置为矩阵，通过判断矩阵每行的重复数为 1，判别数组中的每个元素的公共前缀。有点曲径通幽处的感觉，很妙。题解是我看了一个老哥的解答之后优化的，那老哥直接用了生成器，两行搞定了，可能理解上需要花点时间，我就按照自己的理解写成了一般式了。</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回文数判断</title>
      <link href="/2019/09/08/%E5%9B%9E%E6%96%87%E6%95%B0%E5%88%A4%E6%96%AD/"/>
      <url>/2019/09/08/%E5%9B%9E%E6%96%87%E6%95%B0%E5%88%A4%E6%96%AD/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断一个整数是否是回文数。回文数是指正序（从左向右）和倒序（从右向左）读都是一样的整数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 1:</span></span><br><span class="line"><span class="comment"># 输入: 121</span></span><br><span class="line"><span class="comment"># 输出: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 2:</span></span><br><span class="line"><span class="comment"># 输入: -121</span></span><br><span class="line"><span class="comment"># 输出: false</span></span><br><span class="line"><span class="comment"># 解释: 从左向右读, 为 - 121 。 从右向左读, 为 121 - 。因此它不是一个回文数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 3:</span></span><br><span class="line"><span class="comment"># 输入: 10</span></span><br><span class="line"><span class="comment"># 输出: false</span></span><br><span class="line"><span class="comment"># 解释: 从右向左读, 为 01 。因此它不是一个回文数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https: // leetcode-cn.com/problems/palindrome-number</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, x: int)</span> -&gt; bool:</span></span><br><span class="line">        <span class="comment"># x 若是 0 或者负数，返回 false</span></span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> (int(x % <span class="number">10</span> == <span class="number">0</span>) <span class="keyword">and</span> x != <span class="number">0</span>)):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="comment"># 初始化翻转数字</span></span><br><span class="line">        reverse = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 若原始数字 x 大于从后面开始翻转的数字，说明已经翻转了后半部分，翻转阶段完成</span></span><br><span class="line">        <span class="keyword">while</span> (x &gt; reverse):</span><br><span class="line">            reverse = int(reverse * <span class="number">10</span>) + int(x % <span class="number">10</span>)</span><br><span class="line">            x = int(x / <span class="number">10</span>)</span><br><span class="line">            print(<span class="string">'x:'</span>, x)</span><br><span class="line">            print(<span class="string">'reverse'</span>, reverse)</span><br><span class="line">        <span class="comment"># 若翻转的后半部分数字 reverse 等于前半部分数字，返回 true，否则返回 false，利用 int 向上取整的特性，当 x 为奇数时，去掉最后一位</span></span><br><span class="line">        <span class="keyword">return</span> x == reverse <span class="keyword">or</span> x == int(reverse/<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">x = Solution()</span><br><span class="line">arr = [<span class="number">121</span>, <span class="number">-121</span>, <span class="number">10</span>]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> arr:</span><br><span class="line">    print(x.isPalindrome(item))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>括号匹配</title>
      <link href="/2019/09/08/%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D/"/>
      <url>/2019/09/08/%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 给定一个只包括 '('，')'，'&#123;'，'&#125;'，'['，']' 的字符串，判断字符串是否有效。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有效字符串需满足：</span></span><br><span class="line"><span class="comment"># 左括号必须用相同类型的右括号闭合。</span></span><br><span class="line"><span class="comment"># 左括号必须以正确的顺序闭合。</span></span><br><span class="line"><span class="comment"># 注意空字符串可被认为是有效字符串。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 1:</span></span><br><span class="line"><span class="comment"># 输入: "()"</span></span><br><span class="line"><span class="comment"># 输出: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 2:</span></span><br><span class="line"><span class="comment"># 输入: "()[]&#123;&#125;"</span></span><br><span class="line"><span class="comment"># 输出: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 3:</span></span><br><span class="line"><span class="comment"># 输入: "(]"</span></span><br><span class="line"><span class="comment"># 输出: false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 4:</span></span><br><span class="line"><span class="comment"># 输入: "([)]"</span></span><br><span class="line"><span class="comment"># 输出: false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 5:</span></span><br><span class="line"><span class="comment"># 输入: "&#123;[]&#125;"</span></span><br><span class="line"><span class="comment"># 输出: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https: // leetcode-cn.com/problems/valid-parentheses</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="comment"># 简洁但是效率低</span></span><br><span class="line">        <span class="comment"># while '&#123;&#125;' in s or '()' in s or '[]' in s:</span></span><br><span class="line">        <span class="comment">#     s = s.replace('&#123;&#125;', '')</span></span><br><span class="line">        <span class="comment">#     s = s.replace('[]', '')</span></span><br><span class="line">        <span class="comment">#     s = s.replace('()', '')</span></span><br><span class="line">        <span class="comment"># return s == ''</span></span><br><span class="line">        stack = []  <span class="comment"># 初始化栈</span></span><br><span class="line">        mapping = &#123;<span class="string">')'</span>: <span class="string">'('</span>, <span class="string">']'</span>: <span class="string">'['</span>, <span class="string">'&#125;'</span>: <span class="string">'&#123;'</span>&#125;  <span class="comment"># 字典存储所有的匹配类型</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> s:  <span class="comment"># 遍历字符串</span></span><br><span class="line">            <span class="keyword">if</span> (char <span class="keyword">in</span> mapping):  <span class="comment"># 当前字符为闭合符号时</span></span><br><span class="line">                top_element = stack.pop() <span class="keyword">if</span> stack <span class="keyword">else</span> <span class="string">'#'</span>  <span class="comment"># 栈顶元素出栈</span></span><br><span class="line">                <span class="keyword">if</span> mapping[char] != top_element:  <span class="comment"># 没有匹配的类型，返回 false</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                stack.append(char)  <span class="comment"># 开括号存储到栈里</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> stack</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_init_</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.isValid(<span class="string">"([)]"</span>)</span><br><span class="line"></span><br><span class="line">res = Solution()</span><br><span class="line">print(res._init_())</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>反转整数</title>
      <link href="/2019/09/08/%E5%8F%8D%E8%BD%AC%E6%95%B4%E6%95%B0/"/>
      <url>/2019/09/08/%E5%8F%8D%E8%BD%AC%E6%95%B4%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 1:</span></span><br><span class="line"><span class="comment"># 输入: 123</span></span><br><span class="line"><span class="comment"># 输出: 321</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  示例 2:</span></span><br><span class="line"><span class="comment"># 输入: -123</span></span><br><span class="line"><span class="comment"># 输出: -321</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例 3:</span></span><br><span class="line"><span class="comment"># 输入: 120</span></span><br><span class="line"><span class="comment"># 输出: 21</span></span><br><span class="line"><span class="comment"># 注意:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231, 231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https: // leetcode-cn.com/problems/reverse-integer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        INT_MAX = <span class="number">2</span>**<span class="number">31</span></span><br><span class="line">        INT_MIN = <span class="number">-2</span>**<span class="number">31</span></span><br><span class="line">        cur = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> x != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> (x &lt; <span class="number">0</span>):</span><br><span class="line">                pop = int(x % <span class="number">-10</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pop = int(x % <span class="number">10</span>)</span><br><span class="line">            <span class="keyword">if</span> cur &gt; INT_MAX / <span class="number">10</span> <span class="keyword">or</span> (cur == INT_MAX / <span class="number">10</span> <span class="keyword">and</span> pop &gt; <span class="number">7</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> cur &lt; INT_MIN / <span class="number">10</span> <span class="keyword">or</span> (cur == INT_MIN / <span class="number">10</span> <span class="keyword">and</span> pop &lt; <span class="number">-8</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            cur = cur * <span class="number">10</span> + pop</span><br><span class="line">            x = int(x/<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">return</span> cur</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_init_</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(res.reverse(<span class="number">-123</span>))</span><br><span class="line">        <span class="keyword">return</span> self.reverse(<span class="number">-123</span>)</span><br><span class="line"></span><br><span class="line">res = Solution()</span><br><span class="line">res._init_()</span><br></pre></td></tr></table></figure><p>从个位开始从高到低重新排位，最后得到的就是当前整数倒过来的数字</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>找出数组中相加等于目标值的两个元素下标</title>
      <link href="/2019/09/08/%E6%89%BE%E5%87%BA%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9B%B8%E5%8A%A0%E7%AD%89%E4%BA%8E%E7%9B%AE%E6%A0%87%E5%80%BC%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E4%B8%8B%E6%A0%87/"/>
      <url>/2019/09/08/%E6%89%BE%E5%87%BA%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9B%B8%E5%8A%A0%E7%AD%89%E4%BA%8E%E7%9B%AE%E6%A0%87%E5%80%BC%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E4%B8%8B%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 你可以假设每种输入只会对应一个答案。但是，你不能重复利用这个数组中同样的元素。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例:</span></span><br><span class="line"><span class="comment"># 给定 nums = [2, 7, 11, 15], target = 9</span></span><br><span class="line"><span class="comment"># 因为 nums[0] + nums[1] = 2 + 7 = 9</span></span><br><span class="line"><span class="comment"># 所以返回 [0, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 来源：力扣（LeetCode）</span></span><br><span class="line"><span class="comment"># 链接：https://leetcode-cn.com/problems/two-sum</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span><span class="params">(self, nums, target)</span>:</span></span><br><span class="line">        hashmap = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i, val <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">            complement = target - val</span><br><span class="line">            <span class="keyword">if</span> complement <span class="keyword">in</span> hashmap:</span><br><span class="line">                <span class="keyword">return</span> [hashmap[complement], i]</span><br><span class="line">            hashmap[val] = i</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_init_</span><span class="params">(self)</span>:</span></span><br><span class="line">       <span class="keyword">return</span> self.twoSum([<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], <span class="number">22</span>)</span><br><span class="line"></span><br><span class="line">x = Solution()</span><br><span class="line">print(x))</span><br></pre></td></tr></table></figure><p>遍历列表，目标值与当前元素相减得到符合条件的元素，查找字典，如果存在符合条件的键，返回值，否则把该元素作为键，索引作为值存到字典里，重复以上步骤，直到找到对应的两个元素，返回索引列表</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithmn-simple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>下拉列表的实现</title>
      <link href="/2019/09/01/%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
      <url>/2019/09/01/%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>用别人的组件总有各种不可控的问题，而且不好维护，还是造轮子比较舒畅。</p><p>下拉列表是工作中经常用到的一个功能，点击按钮，显示下拉列表，点击列表中的项目显示对应的值到按钮中，这是下拉列表的常用交互。这里的一个比较有意思的点就是如何在点击别的地方时关闭列表。我采用的方法是监听组件最外层的 blur 事件，当该组件失去焦点时，关闭列表。由于按钮用的是 div 实现，默认 div 是没有 blur 事件的，这里添加一个 tabindex 属性， blur 就有效了。</p><p>demo：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dropDown-wrap"</span> <span class="attr">tabindex</span>=<span class="string">"1"</span> @<span class="attr">blur</span>=<span class="string">"hidden"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dropDown"</span> @<span class="attr">click</span>=<span class="string">"isDropDown=!isDropDown"</span>&gt;</span></span><br><span class="line">    &#123;&#123;selected.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"arrow-right"</span> <span class="attr">role</span>=<span class="string">"presentation"</span> <span class="attr">v-show</span>=<span class="string">"isIcon"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">polyline</span> <span class="attr">points</span>=<span class="string">"7,0 14,7 7,14"</span> <span class="attr">fill</span>=<span class="string">"none"</span> <span class="attr">stroke-width</span>=<span class="string">"2px"</span> <span class="attr">stroke</span>=<span class="string">"#fff"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"arrow-up"</span> <span class="attr">:class</span>=<span class="string">"&#123;isDropDown:isDropDown&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dropDown-list"</span> <span class="attr">:class</span>=<span class="string">"&#123;isDropDown:isDropDown&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"dropDown-item"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:class</span>=<span class="string">"&#123;isSelected:selected.id===item.id&#125;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-for</span>=<span class="string">"(item,index) in list"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:key</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">"selectItem(item)"</span></span></span><br><span class="line"><span class="tag">    &gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">selectItem (item) &#123;</span><br><span class="line">  <span class="keyword">this</span>.$emit(<span class="string">'changeItem'</span>, item)</span><br><span class="line">  <span class="keyword">this</span>.isDropDown = <span class="literal">false</span></span><br><span class="line">&#125;,</span><br><span class="line">hidden () &#123;</span><br><span class="line">  <span class="keyword">this</span>.isDropDown = <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="三、Demo-地址"><a href="#三、Demo-地址" class="headerlink" title="三、Demo 地址"></a>三、Demo 地址</h4><p><a href="https://canace22.github.io/Demos/#/" target="_blank" rel="noopener">Demo</a> =&gt; 媒体 =&gt; 列表控件</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue 组件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Canvas 画动态路径</title>
      <link href="/2019/08/25/Canvas%E7%94%BB%E5%8A%A8%E6%80%81%E8%B7%AF%E5%BE%84/"/>
      <url>/2019/08/25/Canvas%E7%94%BB%E5%8A%A8%E6%80%81%E8%B7%AF%E5%BE%84/</url>
      
        <content type="html"><![CDATA[<p>这个函数是一个用于画 canvas 路径的，也就是把 canvas 画线的过程演示出来的一个东东。采用的是纯 js 和 canvas 描绘方法。当然前提是得有路径的点集，不然画不了。</p><a id="more"></a><h4 id="一、参数列表"><a href="#一、参数列表" class="headerlink" title="一、参数列表"></a>一、参数列表</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>config.color</td><td>String</td><td>路径颜色</td></tr><tr><td>config.path</td><td>Object</td><td>路径的点集</td></tr><tr><td>config.padding.left</td><td>Number</td><td>路径图的左偏移值</td></tr><tr><td>config.padding.top</td><td>Number</td><td>路径图的上偏移值</td></tr><tr><td>config.img</td><td>HTMLElement</td><td>描绘路径的图</td></tr><tr><td>config.sw</td><td>Number</td><td>描绘路径图的原始宽</td></tr><tr><td>config.sh</td><td>Number</td><td>描绘路径图的原始高</td></tr><tr><td>config.scale</td><td>Number</td><td>缩放尺度</td></tr></tbody></table><h4 id="二、函数"><a href="#二、函数" class="headerlink" title="二、函数"></a>二、函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">drawPolygon</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="keyword">let</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> [scale, path, color, sw, sh, padding, handleEl] = [</span><br><span class="line">    config.scale,</span><br><span class="line">    config.path,</span><br><span class="line">    config.color,</span><br><span class="line">    config.sw,</span><br><span class="line">    config.sh,</span><br><span class="line">    config.padding,</span><br><span class="line">    config.handleEl</span><br><span class="line">  ];</span><br><span class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> draw = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (t &gt;= config.path.length) &#123;</span><br><span class="line">      clearInterval(clock);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">    t += <span class="number">2</span>;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(</span><br><span class="line">      path[<span class="number">0</span>].x * scale + padding.left,</span><br><span class="line">      path[<span class="number">0</span>].y * scale + padding.top</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">if</span> (t &gt; path.length) &#123;</span><br><span class="line">      t = path.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (handleEl) &#123;</span><br><span class="line">      ctx.drawImage(</span><br><span class="line">        handleEl,</span><br><span class="line">        path[t - <span class="number">1</span>].x * scale + padding.left,</span><br><span class="line">        (path[t - <span class="number">1</span>].y - <span class="number">240</span>) * scale + padding.top,</span><br><span class="line">        sw * scale,</span><br><span class="line">        sh * scale</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; t; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (config.path[i]) &#123;</span><br><span class="line">        ctx.lineTo(</span><br><span class="line">          config.path[i].x * scale + config.padding.left,</span><br><span class="line">          config.path[i].y * scale + config.padding.top</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ctx.strokeStyle = color || <span class="string">"#07B1CA"</span>;</span><br><span class="line">    ctx.lineWidth = <span class="number">3</span>;</span><br><span class="line">    ctx.stroke();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> clock = setInterval(draw, <span class="number">50</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="三、Demo-地址"><a href="#三、Demo-地址" class="headerlink" title="三、Demo 地址"></a>三、Demo 地址</h4><p><a href="https://canace22.github.io/Demos/#/" target="_blank" rel="noopener">Demo</a> =&gt; 绘图 =&gt; canvas 路径</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Npm 常用命令</title>
      <link href="/2019/08/17/npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/08/17/npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>npm 常用命令</p><a id="more"></a><p>1、安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm i &lt;package&gt;</span><br><span class="line"></span><br><span class="line">npm i &lt;package&gt; -g</span><br><span class="line"></span><br><span class="line">npm i &lt;package&gt; --save-dev</span><br><span class="line"></span><br><span class="line">npm install @myco/my-package</span><br></pre></td></tr></table></figure><p>2、切换源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 长久切换</span><br><span class="line">npm config set registry &lt;https://registry.npm.taobao.org&gt;</span><br><span class="line"></span><br><span class="line"># 临时切换</span><br><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure><p>3、添加私有源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 需要先登录</span><br><span class="line">npm config set &lt;@myco&gt;:registry &lt;http://reg.example.com&gt;</span><br><span class="line">.npmrc</span><br><span class="line">registry=https://registry.npmjs.org/</span><br><span class="line">//registry.npm.dreamdev.cn/:_password=&lt;password&gt;</span><br><span class="line">//registry.npm.dreamdev.cn/:username=&lt;user&gt;</span><br><span class="line">//registry.npm.dreamdev.cn/:email=&lt;email&gt;</span><br><span class="line">//registry.npm.dreamdev.cn/:always-auth=false</span><br><span class="line">@myco:registry= &lt;http://reg.example.com&gt;</span><br><span class="line">https://registry.npm.dreamdev.cn/=</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 布局篇</title>
      <link href="/2019/08/11/css%E5%B8%83%E5%B1%80%E7%AF%87/"/>
      <url>/2019/08/11/css%E5%B8%83%E5%B1%80%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<p>css 基本布局介绍，包括元素的水平、垂直居中，单列布局、三列布局等，文章分析了多种情况下的布局方案，参考自知乎《css 十八般武艺全在这里了》。</p><a id="more"></a><p>一、布局</p><p>1、居中</p><p>(1) 水平居中</p><p>A、子元素行内元素</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>子元素为行内元素<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>B、子元素为定宽块状元素</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>定宽子元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C、子元素为不定宽块状元素</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>子元素为不定宽块状元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>D、flex 布局</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>flex 布局<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) 垂直居中</p><p>A、父元素一定，子元素为单行内联文本</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>父元素一定，子元素为单行内联文本<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">260px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>B、父元素一定，子元素为多行内联文本</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></span><br><span class="line">    父元素一定，子元素为多行内联文本父元素一定，子元素为多行内联文本父元素一定，子元素为多行内联文本父元素一定，子元素为多行内联文本</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">260px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C、子元素为块级元素</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>D、flex 布局</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-item</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、单列布局</p><p>(1) header、content、footer 宽度相同</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>头部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>尾部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layout</span> &#123;</span><br><span class="line">  <span class="comment">/*   width: 960px; */</span></span><br><span class="line">  <span class="comment">/*设置width当浏览器窗口宽度小于960px时，单列布局不会自适应。*/</span></span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">960px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">72px</span>;</span><br><span class="line">  <span class="attribute">background</span>: palegoldenrod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">calc</span>(100% - 144px);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(27, 27, 26);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">72px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(211, 211, 75);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) header、footer 宽度为浏览器宽度，content 宽度小于浏览器宽度居中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span>头部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span>尾部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layout</span> &#123;</span><br><span class="line">  <span class="comment">/*   width: 960px; */</span></span><br><span class="line">  <span class="comment">/*设置width当浏览器窗口宽度小于960px时，单列布局不会自适应。*/</span></span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">960px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span>,</span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">72px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(211, 211, 75);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">calc</span>(100% - 144px);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(27, 27, 26);</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、三列布局</p><p>(1) float + margin，要点两边元素固定宽度，中间元素的 margin-left、margin-right 对应左右元素的宽，先写两侧栏，再写主面板</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span>sub<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"extra"</span>&gt;</span>extra<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>main<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sub</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(56, 165, 238);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.extra</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(56, 165, 238);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) position + margin，左右元素绝对定位，中间元素的 margin-left、margin-right 对应左右元素的宽度</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sub"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>main<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"extra"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sub</span>,</span><br><span class="line"><span class="selector-class">.extra</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(56, 165, 238);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sub</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.extra</span> &#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(3) flex</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>主内容栏宽度自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>主内容栏宽度自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>左侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>主内容栏宽度自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>右侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>第1个侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>第2个侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>主内容栏宽度自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>主内容栏宽度自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>第1个侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">"aside"</span>&gt;</span>第2个侧边栏宽度固定<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layout</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aside</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>统计函数</title>
      <link href="/2019/08/11/%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0/"/>
      <url>/2019/08/11/%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>摘要：<br>本文集合了 JS 数组统计的各种案例，包括：统计数组中每个元素出现的次数、数组数据总和统计等。</p><p>1、统计数组中每个元素出现的次数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">22</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">22</span>, <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = nums.reduce(<span class="function">(<span class="params">tally, amt</span>) =&gt;</span> &#123;</span><br><span class="line">  tally[amt] ? tally[amt]++ : (tally[amt] = <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> tally;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">//&#123; '1': 1, '3': 2, '4': 1, '5': 2, '6': 1, '82': 2 &#125;</span></span><br></pre></td></tr></table></figure><p>2、数组数据总和</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> books = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">"Showings"</span>,</span><br><span class="line">    author: <span class="string">"Julian of Norwich"</span>,</span><br><span class="line">    checkouts: <span class="number">45</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">"The Triads"</span>,</span><br><span class="line">    author: <span class="string">"Gregory Palamas"</span>,</span><br><span class="line">    checkouts: <span class="number">32</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">"The Praktikos"</span>,</span><br><span class="line">    author: <span class="string">"Evagrius Ponticus"</span>,</span><br><span class="line">    checkouts: <span class="number">29</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> total = books</span><br><span class="line">  .map(<span class="function"><span class="params">b</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> b.checkouts;</span><br><span class="line">  &#125;)</span><br><span class="line">  .reduce(<span class="function">(<span class="params">p, c</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> p + c;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(total); <span class="comment">//106</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodeJs</title>
      <link href="/2019/08/11/nodeJs/"/>
      <url>/2019/08/11/nodeJs/</url>
      
        <content type="html"><![CDATA[<p>nodeJS 模块化编程指的是将一些通用的功能转移到不同的文件里，每个文件作为一个模块，暴露给其他文件使用。这样可以使代码更容易维护，更具通用性。</p><a id="more"></a><h2 id="一、模块化编程"><a href="#一、模块化编程" class="headerlink" title="一、模块化编程"></a>一、模块化编程</h2><p>nodeJS 模块化编程指的是将一些通用的功能转移到不同的文件里，每个文件作为一个模块，暴露给其他文件使用。这样可以使代码更容易维护，更具通用性。</p><p>nodeJS 模块导出的方式有两种：module.exports 和 exports，前者可以直接被赋值，后者不能。 通过模块导出的函数所声明的全局变量不会污染其他全局变量的原因是：module.exports 和 exports 实际上都是作为 load 函数的属性存在的，每次引入，源模块中的全局变量就是函数内的变量了，所以各模块全局变量间不会互相污染。</p><p>nodeJS 引入模块的方式是 require。</p><h2 id="二、nodeJS-内置模块"><a href="#二、nodeJS-内置模块" class="headerlink" title="二、nodeJS 内置模块"></a>二、nodeJS 内置模块</h2><p>1、fs 模块</p><p>(1) 文件读取</p><p>A、异步读取文件</p><ul><li><p>文本文件读取</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取普通文本文件</span></span><br><span class="line">fs.readFile(<span class="string">"sample.txt"</span>, <span class="string">"utf-8"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>二进制文件读取</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"><span class="comment">// 读取二进制文件</span></span><br><span class="line">fs.readFile(<span class="string">"sample.png"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    <span class="built_in">console</span>.log(data.length + <span class="string">" bytes"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>B、同步读取文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"><span class="comment">// 同步读取文件</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> data = fs.readFileSync(<span class="string">"sample.txt"</span>, <span class="string">"utf-8"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="comment">// 出错了</span></span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) 文件写入</p><p>A、异步写入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = <span class="string">"Hello, Node.js"</span>;</span><br><span class="line">fs.writeFile(<span class="string">"output.txt"</span>, data, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ok."</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>B、同步写入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = <span class="string">"Hello, Node.js"</span>;</span><br><span class="line">fs.writeFileSync(<span class="string">"output.txt"</span>, data);</span><br></pre></td></tr></table></figure><p>(3) 获取文件或目录的详细信息</p><p>A、同步获取</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"><span class="comment">// 获取文件详情</span></span><br><span class="line">fs.stat(<span class="string">"sample.txt"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, stat</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 是否是文件:</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"isFile: "</span> + stat.isFile());</span><br><span class="line">    <span class="comment">// 是否是目录:</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"isDirectory: "</span> + stat.isDirectory());</span><br><span class="line">    <span class="keyword">if</span> (stat.isFile()) &#123;</span><br><span class="line">      <span class="comment">// 文件大小:</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"size: "</span> + stat.size);</span><br><span class="line">      <span class="comment">// 创建时间, Date对象:</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"birth time: "</span> + stat.birthtime);</span><br><span class="line">      <span class="comment">// 修改时间, Date对象:</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"modified time: "</span> + stat.mtime);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>B、异步获取</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line">fs.statSync(<span class="string">"sample.txt"</span>, stat);</span><br></pre></td></tr></table></figure><p>ps：在启动和结束时只执行一次的读写程序，可以用同步，其他情况用异步。</p><p>2、stream 模块</p><p>(1) 利用 stream 模块读取文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打开一个流:</span></span><br><span class="line"><span class="keyword">const</span> rs = fs.createReadStream(<span class="string">"sample.txt"</span>, <span class="string">"utf-8"</span>);</span><br><span class="line"></span><br><span class="line">rs.on(<span class="string">"data"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"DATA:"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(chunk);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">rs.on(<span class="string">"end"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"END"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">rs.on(<span class="string">"error"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"ERROR: "</span> + err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>(2) 利用 stream 模块写入数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ws1 = fs.createWriteStream(<span class="string">"output1.txt"</span>, <span class="string">"utf-8"</span>);</span><br><span class="line">ws1.write(<span class="string">"使用Stream写入文本数据...\n"</span>);</span><br><span class="line">ws1.write(<span class="string">"END."</span>);</span><br><span class="line">ws1.end();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ws2 = fs.createWriteStream(<span class="string">"output2.txt"</span>);</span><br><span class="line">ws2.write(<span class="keyword">new</span> Buffer(<span class="string">"使用Stream写入二进制数据...\n"</span>, <span class="string">"utf-8"</span>));</span><br><span class="line">ws2.write(<span class="keyword">new</span> Buffer(<span class="string">"END."</span>, <span class="string">"utf-8"</span>));</span><br><span class="line">ws2.end();</span><br></pre></td></tr></table></figure><p>(3) 利用 pipe 串接流</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rs = fs.createReadStream(<span class="string">"sample.txt"</span>);</span><br><span class="line"><span class="keyword">const</span> ws = fs.createWriteStream(<span class="string">"copied.txt"</span>, <span class="string">"utf-8"</span>);</span><br><span class="line"></span><br><span class="line">ws.write(<span class="string">"写入新数据\n"</span>);</span><br><span class="line">rs.pipe(ws);</span><br></pre></td></tr></table></figure><p>3、http 模块</p><p>(1) 第一个 HTTP 服务器程序</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入http模块:</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建http server，并传入回调函数:</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 回调函数接收request和response对象,</span></span><br><span class="line">  <span class="comment">// 获得HTTP请求的method和url:</span></span><br><span class="line">  <span class="built_in">console</span>.log(request.method + <span class="string">": "</span> + request.url);</span><br><span class="line">  <span class="comment">// 将HTTP响应200写入response, 同时设置Content-Type: text/html:</span></span><br><span class="line">  response.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">    <span class="string">"Content-Type"</span>: <span class="string">"text/html"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 将HTTP响应的HTML内容写入response:</span></span><br><span class="line">  response.end(<span class="string">"&lt;h1&gt;Hello world!&lt;/h1&gt;"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 让服务器监听8080端口:</span></span><br><span class="line">server.listen(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Server is running at http://127.0.0.1:8080/"</span>);</span><br></pre></td></tr></table></figure><p>(2) 文件服务器</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [fs, url, path, http] = [</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">"fs"</span>),</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">"url"</span>),</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">"path"</span>),</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">"http"</span>)</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从命令行参数获取root目录，默认是当前目录:</span></span><br><span class="line"><span class="keyword">const</span> root = path.resolve(process.argv[<span class="number">2</span>] || <span class="string">"."</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Static root dir: "</span> + root);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建服务器:</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 获得URL的path，类似 '/css/bootstrap.css':</span></span><br><span class="line">  <span class="keyword">const</span> pathname = url.parse(request.url).pathname;</span><br><span class="line">  <span class="comment">// 获得对应的本地文件路径，类似 '/srv/www/css/bootstrap.css':</span></span><br><span class="line">  <span class="keyword">const</span> filepath = path.join(root, pathname);</span><br><span class="line">  <span class="comment">// 获取文件状态:</span></span><br><span class="line">  fs.stat(filepath, <span class="function"><span class="keyword">function</span>(<span class="params">err, stats</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!err &amp;&amp; stats.isFile()) &#123;</span><br><span class="line">      <span class="comment">// 没有出错并且文件存在:</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"200 "</span> + request.url);</span><br><span class="line">      <span class="comment">// 发送200响应:</span></span><br><span class="line">      response.writeHead(<span class="number">200</span>);</span><br><span class="line">      <span class="comment">// 将文件流导向response:</span></span><br><span class="line">      fs.createReadStream(filepath).pipe(response);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 出错了或者文件不存在:</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"404 "</span> + request.url);</span><br><span class="line">      <span class="comment">// 发送404响应:</span></span><br><span class="line">      response.writeHead(<span class="number">404</span>);</span><br><span class="line">      response.end(<span class="string">"404 Not Found"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Server is running at http://172.16.1.83:8080/"</span>);</span><br></pre></td></tr></table></figure><p>4、crypto 模块</p><p>(1) MD5 和 SHA1 ，每一次生成的都是一样的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">"crypto"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hash = crypto.createHash(<span class="string">"md5"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可任意多次调用update():</span></span><br><span class="line">hash.update(<span class="string">"Hello, world!"</span>);</span><br><span class="line">hash.update(<span class="string">"Hello, nodejs!"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hash.digest(<span class="string">"hex"</span>));</span><br></pre></td></tr></table></figure><p>(2) Hmac ，根据秘钥改变</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">"crypto"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hmac = crypto.createHmac(<span class="string">"sha256"</span>, <span class="string">"secret-key"</span>);</span><br><span class="line"></span><br><span class="line">hmac.update(<span class="string">"Hello, world!"</span>);</span><br><span class="line">hmac.update(<span class="string">"Hello, nodejs!"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hmac.digest(<span class="string">"hex"</span>));</span><br></pre></td></tr></table></figure><p>(3) AES，对称加密，含加解密过程</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">"crypto"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aesEncrypt</span>(<span class="params">data, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> cipher = crypto.createCipher(<span class="string">"aes192"</span>, key);</span><br><span class="line">  <span class="keyword">var</span> crypted = cipher.update(data, <span class="string">"utf8"</span>, <span class="string">"hex"</span>);</span><br><span class="line">  crypted += cipher.final(<span class="string">"hex"</span>);</span><br><span class="line">  <span class="keyword">return</span> crypted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aesDecrypt</span>(<span class="params">encrypted, key</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> decipher = crypto.createDecipher(<span class="string">"aes192"</span>, key);</span><br><span class="line">  <span class="keyword">var</span> decrypted = decipher.update(encrypted, <span class="string">"hex"</span>, <span class="string">"utf8"</span>);</span><br><span class="line">  decrypted += decipher.final(<span class="string">"utf8"</span>);</span><br><span class="line">  <span class="keyword">return</span> decrypted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = <span class="string">"Hello, this is a secret message!"</span>;</span><br><span class="line"><span class="keyword">const</span> key = <span class="string">"Password!"</span>;</span><br><span class="line"><span class="keyword">const</span> encrypted = aesEncrypt(data, key);</span><br><span class="line"><span class="keyword">const</span> decrypted = aesDecrypt(encrypted, key);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Plain text: "</span> + data);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Encrypted text: "</span> + encrypted);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Decrypted text: "</span> + decrypted);</span><br></pre></td></tr></table></figure><p>(3) RSA 非对称加密</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Egg</title>
      <link href="/2019/08/04/egg/"/>
      <url>/2019/08/04/egg/</url>
      
        <content type="html"><![CDATA[<p>egg 笔记</p><a id="more"></a><h2 id="一、入门"><a href="#一、入门" class="headerlink" title="一、入门"></a>一、入门</h2><h3 id="1、初始化项目"><a href="#1、初始化项目" class="headerlink" title="1、初始化项目"></a>1、初始化项目</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用脚手架初始化项目</span></span><br><span class="line">mkdir egg-example</span><br><span class="line">cd egg-example</span><br><span class="line">npm init egg --type=simple</span><br><span class="line">npm i</span><br><span class="line">yarn dev</span><br></pre></td></tr></table></figure><h3 id="2、-安装并配置模板引擎插件"><a href="#2、-安装并配置模板引擎插件" class="headerlink" title="2、 安装并配置模板引擎插件"></a>2、 安装并配置模板引擎插件</h3><p>(1)、安装：<code>npm i egg-view-nunjucks --save</code></p><p>(2)、开启插件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/plugin.js</span></span><br><span class="line">exports.nunjucks = &#123;</span><br><span class="line">  enable: <span class="literal">true</span>,</span><br><span class="line">  package: <span class="string">"egg-view-nunjucks"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/config.default.js</span></span><br><span class="line">config.view = &#123;</span><br><span class="line">  defaultViewEngine: <span class="string">"nunjucks"</span>,</span><br><span class="line">  mapping: &#123;</span><br><span class="line">    <span class="string">".tpl"</span>: <span class="string">"nunjucks"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="3、创建模板文件"><a href="#3、创建模板文件" class="headerlink" title="3、创建模板文件"></a>3、创建模板文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- app/view/news/list.tpl --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hacker News<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/public/css/news.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"news-view view"</span>&gt;</span></span><br><span class="line">      &#123;% for item in list %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; item.url &#125;&#125;"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4、创建静态资源文件-news-css-到-public-css"><a href="#4、创建静态资源文件-news-css-到-public-css" class="headerlink" title="4、创建静态资源文件 news.css 到 public/css"></a>4、创建静态资源文件 news.css 到 public/css</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.link</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(10px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.link</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(136, 131, 131);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.time</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(136, 131, 131);</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5、添加-Controller-和-Router"><a href="#5、添加-Controller-和-Router" class="headerlink" title="5、添加 Controller 和 Router"></a>5、添加 Controller 和 Router</h3><p>(1)、新建 news.js 到 //app/controller</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/controller/news.js</span></span><br><span class="line"><span class="keyword">const</span> Controller = <span class="built_in">require</span>(<span class="string">"egg"</span>).Controller;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewsController</span> <span class="keyword">extends</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">  <span class="keyword">async</span> list() &#123;</span><br><span class="line">    <span class="keyword">const</span> dataList = &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          title: <span class="string">"this is news 1"</span>,</span><br><span class="line">          url: <span class="string">"/news/1"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          title: <span class="string">"this is news 2"</span>,</span><br><span class="line">          url: <span class="string">"/news/2"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">this</span>.ctx.render(<span class="string">"news/list.tpl"</span>, dataList);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = NewsController;</span><br></pre></td></tr></table></figure><p>(2)、router.js 添加语句：<code>router.get(&#39;/news&#39;, controller.news.list);</code></p><p>(3)、查看效果：<code>yarn dev</code> =&gt; 打开 <a href="http://127.0.0.1:7002/news" target="_blank" rel="noopener">http://127.0.0.1:7002/news</a></p><h3 id="6、编写业务逻辑-爬取-hacker-news-数据"><a href="#6、编写业务逻辑-爬取-hacker-news-数据" class="headerlink" title="6、编写业务逻辑,爬取 hacker-news 数据"></a>6、编写业务逻辑,爬取 hacker-news 数据</h3><p>(1) 新建目录：// app/service/news.js，这里请求时设置了 proxy，是因为 hacker-news 的 api 被墙了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">const</span> Service = <span class="built_in">require</span>(<span class="string">"egg"</span>).Service;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewsService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">  <span class="keyword">async</span> list(page = <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// read config</span></span><br><span class="line">    <span class="keyword">const</span> &#123; serverUrl, pageSize &#125; = <span class="keyword">this</span>.config.news;</span><br><span class="line">    <span class="comment">// use build-in http client to GET hacker-news api</span></span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">data</span>: idList &#125; = <span class="keyword">await</span> <span class="keyword">this</span>.ctx.curl(</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;serverUrl&#125;</span>/topstories.json`</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        enableProxy: <span class="literal">true</span>,</span><br><span class="line">        proxy: <span class="string">"http://127.0.0.1:1080"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">          orderBy: <span class="string">'"$key"'</span>,</span><br><span class="line">          startAt: <span class="string">`"<span class="subst">$&#123;pageSize * (page - <span class="number">1</span>)&#125;</span>"`</span>,</span><br><span class="line">          endAt: <span class="string">`"<span class="subst">$&#123;pageSize * page - <span class="number">1</span>&#125;</span>"`</span></span><br><span class="line">        &#125;,</span><br><span class="line">        dataType: <span class="string">"json"</span></span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// parallel GET detail</span></span><br><span class="line">    <span class="keyword">const</span> newsList = <span class="keyword">await</span> <span class="built_in">Promise</span>.all(</span><br><span class="line">      <span class="built_in">Object</span>.keys(idList).map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;serverUrl&#125;</span>/item/<span class="subst">$&#123;idList[key]&#125;</span>.json`</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ctx.curl(url, &#123;</span><br><span class="line">          enableProxy: <span class="literal">true</span>,</span><br><span class="line">          proxy: <span class="string">"http://127.0.0.1:1080"</span>,</span><br><span class="line">          dataType: <span class="string">"json"</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> newsList.map(<span class="function"><span class="params">res</span> =&gt;</span> res.data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = NewsService;</span><br></pre></td></tr></table></figure><p>(2) // app/controller/news.js 修改语句</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> list() &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = <span class="keyword">this</span>.ctx;</span><br><span class="line">  <span class="keyword">const</span> page = ctx.query.page || <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> newsList = <span class="keyword">await</span> ctx.service.news.list(page);</span><br><span class="line">  <span class="keyword">await</span> ctx.render(<span class="string">'news/list.tpl'</span>, &#123; <span class="attr">list</span>: newsList &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(3) // config/config.default.js 添加下面代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config.news = &#123;</span><br><span class="line">  pageSize: <span class="number">5</span>,</span><br><span class="line">  serverUrl: <span class="string">"https://hacker-news.firebaseio.com/v0"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="7、编写扩展插件-moment，美化时间"><a href="#7、编写扩展插件-moment，美化时间" class="headerlink" title="7、编写扩展插件 moment，美化时间"></a>7、编写扩展插件 moment，美化时间</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下载 moment 插件</span></span><br><span class="line">npm i moment --save</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/extend/helper.js</span></span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">"moment"</span>);</span><br><span class="line"></span><br><span class="line">exports.relativeTime = <span class="function"><span class="params">time</span> =&gt;</span> moment(<span class="keyword">new</span> <span class="built_in">Date</span>(time * <span class="number">1000</span>)).fromNow();</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// views/news/list.tpl</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hacker News<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/public/css/news.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"news-view view"</span>&gt;</span></span><br><span class="line">      &#123;% for item in list %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; item.url &#125;&#125;"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"time"</span>&gt;</span>&#123;&#123; helper.relativeTime(item.time) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8、站点禁止百度爬虫访问"><a href="#8、站点禁止百度爬虫访问" class="headerlink" title="8、站点禁止百度爬虫访问"></a>8、站点禁止百度爬虫访问</h3><p>(1) app/middleware/robot.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="comment">// options === app.config.robot</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">options, app</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">robotMiddleware</span>(<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> source = ctx.get(<span class="string">"user-agent"</span>) || <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">const</span> match = options.ua.some(<span class="function"><span class="params">ua</span> =&gt;</span> ua.test(source));</span><br><span class="line">    <span class="keyword">if</span> (match) &#123;</span><br><span class="line">      ctx.status = <span class="number">403</span>;</span><br><span class="line">      ctx.message = <span class="string">"Go away, robot."</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> next();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>(2) config/config.default.js 添加如下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// add middleware robot</span></span><br><span class="line">config.middleware = [<span class="string">"robot"</span>];</span><br><span class="line"><span class="comment">// robot's configurations</span></span><br><span class="line">config.robot = &#123;</span><br><span class="line">  ua: [<span class="regexp">/Baiduspider/i</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="9、单元测试"><a href="#9、单元测试" class="headerlink" title="9、单元测试"></a>9、单元测试</h2><p>(1) // test/app/middleware/robot.test.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; app, mock, assert &#125; = <span class="built_in">require</span>(<span class="string">"egg-mock/bootstrap"</span>);</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"test/app/middleware/robot.test.js"</span>, () =&gt; &#123;</span><br><span class="line">  it(<span class="string">"should block robot"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> app</span><br><span class="line">      .httpRequest()</span><br><span class="line">      .get(<span class="string">"/"</span>)</span><br><span class="line">      .set(<span class="string">"User-Agent"</span>, <span class="string">"Baiduspider"</span>)</span><br><span class="line">      .expect(<span class="number">403</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>(2) 执行测试脚本 <code>yarn test-local</code></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> egg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则</title>
      <link href="/2019/08/04/%E6%AD%A3%E5%88%99/"/>
      <url>/2019/08/04/%E6%AD%A3%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h2 id="一、正则表达式是什么"><a href="#一、正则表达式是什么" class="headerlink" title="一、正则表达式是什么"></a>一、正则表达式是什么</h2><p>正则表达式就是记录文本规则的代码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配中国的电话号码</span></span><br><span class="line"><span class="number">0</span>\d\d-\d\d\d\d\d\d\d\d</span><br><span class="line"><span class="number">0</span>\d&#123;<span class="number">2</span>&#125;-\d&#123;<span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="二、安装正则测试软件"><a href="#二、安装正则测试软件" class="headerlink" title="二、安装正则测试软件"></a>二、安装正则测试软件</h2><p>地址： <a href="https://deerchao.net/tools/regester/index.htm" target="_blank" rel="noopener">https://deerchao.net/tools/regester/index.htm</a></p><h2 id="三、常用元字符"><a href="#三、常用元字符" class="headerlink" title="三、常用元字符"></a>三、常用元字符</h2><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>.</td><td>匹配除换行符以外的任意字符</td></tr><tr><td>\w</td><td>匹配字母或数字或下划线或汉字</td></tr><tr><td>\s</td><td>匹配任意的空白符</td></tr><tr><td>\d</td><td>匹配数字</td></tr><tr><td>\b</td><td>匹配单词的开始或结束</td></tr><tr><td>^</td><td>匹配字符串的开始</td></tr><tr><td>$</td><td>匹配字符串的结束</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配 qq 号，5——12位</span></span><br><span class="line">^\d&#123;<span class="number">5</span>,<span class="number">12</span>&#125;$</span><br></pre></td></tr></table></figure><h2 id="四、字符转义"><a href="#四、字符转义" class="headerlink" title="四、字符转义"></a>四、字符转义</h2><p>常用的需要转义的字符：(\), <em>(\</em>), .(.)</p><h2 id="五、重复"><a href="#五、重复" class="headerlink" title="五、重复"></a>五、重复</h2><p>常用限定符</p><table><thead><tr><th>代码/语法</th><th>说明</th></tr></thead><tbody><tr><td>*</td><td>重复零次或更多次</td></tr><tr><td>+</td><td>重复一次或更多次</td></tr><tr><td>?</td><td>重复零次或一次</td></tr><tr><td>{n}</td><td>重复n次</td></tr><tr><td>{n,}</td><td>重复n次或更多次</td></tr><tr><td>{n,m}</td><td>重复n到m次</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Windows\d+  <span class="comment">//匹配Windows后面的1个或更多数字</span></span><br><span class="line"></span><br><span class="line">^\w+  <span class="comment">//匹配一行的第一个单词(或整个字符串的第一个单词，具体匹配哪个意思得看选项设置)</span></span><br></pre></td></tr></table></figure><h2 id="六、字符类，直接写到中括号-中即可"><a href="#六、字符类，直接写到中括号-中即可" class="headerlink" title="六、字符类，直接写到中括号 [] 中即可"></a>六、字符类，直接写到中括号 [] 中即可</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[aeiou] <span class="comment">//匹配任何一个英文元音字母</span></span><br><span class="line"></span><br><span class="line">[.?!] <span class="comment">//匹配标点符号</span></span><br></pre></td></tr></table></figure><h2 id="七、分枝条件"><a href="#七、分枝条件" class="headerlink" title="七、分枝条件 (|)"></a>七、分枝条件 (|)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>\d&#123;<span class="number">2</span>&#125;-\d&#123;<span class="number">8</span>&#125;|<span class="number">0</span>\d&#123;<span class="number">3</span>&#125;-\d&#123;<span class="number">7</span>&#125;   <span class="comment">//这个表达式能匹配两种以连字号分隔的电话号码：一种是三位区号，8位本地号(如010-12345678)，一种是4位区号，7位本地号(0376-2233445)</span></span><br><span class="line"></span><br><span class="line">\(<span class="number">0</span>\d&#123;<span class="number">2</span>&#125;\)[- ]?\d&#123;<span class="number">8</span>&#125;|<span class="number">0</span>\d&#123;<span class="number">2</span>&#125;[- ]?\d&#123;<span class="number">8</span>&#125;   <span class="comment">//匹配3位区号的电话号码</span></span><br><span class="line"></span><br><span class="line">\d&#123;<span class="number">5</span>&#125;-\d&#123;<span class="number">4</span>&#125;|\d&#123;<span class="number">5</span>&#125;   <span class="comment">//匹配美国的邮政编码</span></span><br></pre></td></tr></table></figure><h2 id="八、分组-小括号"><a href="#八、分组-小括号" class="headerlink" title="八、分组 (小括号)"></a>八、分组 (小括号)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d|<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|[<span class="number">01</span>]?\d\d?)\.)&#123;<span class="number">3</span>&#125;(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d|<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|[<span class="number">01</span>]?\d\d?)   <span class="comment">// 匹配一个ip地址</span></span><br></pre></td></tr></table></figure><h2 id="九、反义-（字符串前面加-，元字符变大写）"><a href="#九、反义-（字符串前面加-，元字符变大写）" class="headerlink" title="九、反义 （字符串前面加 ^，元字符变大写）"></a>九、反义 （字符串前面加 ^，元字符变大写）</h2><p>常用的反义代码</p><table><thead><tr><th>代码/语法</th><th>说明</th></tr></thead><tbody><tr><td>\W</td><td>匹配任意不是字母，数字，下划线，汉字的字符</td></tr><tr><td>\S</td><td>匹配任意不是空白符的字符</td></tr><tr><td>\D</td><td>匹配任意非数字的字符</td></tr><tr><td>\B</td><td>匹配不是单词开头或结束的位置</td></tr><tr><td>[^x]</td><td>匹配除了x以外的任意字符</td></tr><tr><td>[^aeiou]</td><td>匹配除了aeiou这几个字母以外的任意字符</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\S+   <span class="comment">//匹配不包含空白符的字符串</span></span><br><span class="line"></span><br><span class="line">&lt;a[^&gt;]+&gt;    <span class="comment">//匹配用尖括号括起来的以a开头的字符串</span></span><br></pre></td></tr></table></figure><h2 id="十、后向引用"><a href="#十、后向引用" class="headerlink" title="十、后向引用"></a>十、后向引用</h2><p>用于重复搜索前面某个分组匹配的文本</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webpack</title>
      <link href="/2019/08/04/webpack/"/>
      <url>/2019/08/04/webpack/</url>
      
        <content type="html"><![CDATA[<h2 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h2><h3 id="1-本地安装"><a href="#1-本地安装" class="headerlink" title="1. 本地安装"></a>1. 本地安装</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># webpack 4+ 版本</span></span><br><span class="line">npm <span class="keyword">install</span> <span class="comment">--save-dev webpack-cli</span></span><br><span class="line">npm <span class="keyword">install</span> <span class="comment">--save-dev webpack</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装指定版本</span></span><br><span class="line">npm <span class="keyword">install</span> <span class="comment">--save-dev webpack@&lt;version&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-全局安装（官方不推荐）"><a href="#2-全局安装（官方不推荐）" class="headerlink" title="2. 全局安装（官方不推荐）"></a>2. 全局安装（官方不推荐）</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install --<span class="built_in">global</span> webpack</span><br></pre></td></tr></table></figure><h3 id="3-最新体验版安装"><a href="#3-最新体验版安装" class="headerlink" title="3. 最新体验版安装"></a>3. 最新体验版安装</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install webpack@beta</span><br><span class="line"><span class="built_in">npm</span> install webpack/webpack<span class="comment">#&lt;tagname/branchname&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-运行"><a href="#3-运行" class="headerlink" title="3. 运行"></a>3. 运行</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">webpack</span></span><br></pre></td></tr></table></figure><h2 id="二、入门"><a href="#二、入门" class="headerlink" title="二、入门"></a>二、入门</h2><h3 id="1-项目初始化"><a href="#1-项目初始化" class="headerlink" title="1. 项目初始化"></a>1. 项目初始化</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mkdir</span> webpack-demo &amp;&amp; <span class="keyword">cd</span> webpack-demo</span><br><span class="line"></span><br><span class="line">npm init -<span class="built_in">y</span></span><br><span class="line"></span><br><span class="line">npm install webpack webpack-<span class="keyword">cli</span> --<span class="keyword">save</span>-dev</span><br></pre></td></tr></table></figure><h3 id="2-初始化源码目录"><a href="#2-初始化源码目录" class="headerlink" title="2. 初始化源码目录"></a>2. 初始化源码目录</h3><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir src</span><br><span class="line">cd src</span><br><span class="line">new-item index.js</span><br><span class="line">cd ..</span><br><span class="line">mkdir dist</span><br><span class="line">cd dist</span><br><span class="line">new-item index.html</span><br></pre></td></tr></table></figure><h3 id="3-创建配置文件-webpack-config-js"><a href="#3-创建配置文件-webpack-config-js" class="headerlink" title="3. 创建配置文件 webpack.config.js"></a>3. 创建配置文件 webpack.config.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.js'</span>, <span class="comment">// 入口文件地址</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>, <span class="comment">// 出口文件名</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>) <span class="comment">// 告诉 webpack 在哪里生成文件</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4-添加npm脚本"><a href="#4-添加npm脚本" class="headerlink" title="4. 添加npm脚本"></a>4. 添加npm脚本</h3><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">    <span class="string">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">      <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">+     <span class="string">"build"</span>: <span class="string">"webpack"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"keywords"</span>: [],</span><br><span class="line">    <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">    <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">      <span class="string">"webpack"</span>: <span class="string">"^4.0.1"</span>,</span><br><span class="line">      <span class="string">"webpack-cli"</span>: <span class="string">"^2.0.9"</span>,</span><br><span class="line">      <span class="string">"lodash"</span>: <span class="string">"^4.17.5"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="5-开始使用-webpack-打包：npm-run-build"><a href="#5-开始使用-webpack-打包：npm-run-build" class="headerlink" title="5. 开始使用 webpack 打包：npm run build"></a>5. 开始使用 webpack 打包：<code>npm run build</code></h3><blockquote><p>具体事例请参考 example 目录下的 chapterOne</p></blockquote><h2 id="三、静态资源管理"><a href="#三、静态资源管理" class="headerlink" title="三、静态资源管理"></a>三、静态资源管理</h2><h3 id="0-创建静态资源目录-asset"><a href="#0-创建静态资源目录-asset" class="headerlink" title="0. 创建静态资源目录 asset"></a>0. 创建静态资源目录 asset</h3><h3 id="1-css"><a href="#1-css" class="headerlink" title="1. css"></a>1. css</h3><p>(1) 安装对应的 loader： <code>npm install --save-dev style-loader css-loader</code></p><p>(2) 配置 loader：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [&#123;</span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      use: [</span><br><span class="line">        <span class="string">'style-loader'</span>,</span><br><span class="line">        <span class="string">'css-loader'</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>(3) 静态资源目录添加 style.css 文件，在入口文件中引用，在打包时， webpack 会把对应的 css 代码插入到 index.html 的 head 中。</p><h3 id="2-图片"><a href="#2-图片" class="headerlink" title="2. 图片"></a>2. 图片</h3><p>(1) 安装对应的 loader： <code>npm install --save-dev file-loader</code></p><p>(2) 配置 loader：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">  use: [</span><br><span class="line">    <span class="string">'file-loader'</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(3) 静态资源目录添加一张图片，在入口文件中引用，打包时， webpack 会生成目标文件夹中的最终 url，并将入口文件中的路径替换为最终路径。</p><h3 id="3-字体"><a href="#3-字体" class="headerlink" title="3. 字体"></a>3. 字体</h3><p>(1) 配置 loader：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attribute">test</span>: /\.(woff|woff2|eot|ttf|otf)$/,</span><br><span class="line">  use: [</span><br><span class="line">    <span class="string">'file-loader'</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) 静态资源目录添加字体，在入口文件中引用，打包时， webpack 会生成目标文件夹中的最终 url，并将入口文件中的路径替换为最终路径。</p><h3 id="4-数据（json-lt-默认支持-gt-、xml、csv）"><a href="#4-数据（json-lt-默认支持-gt-、xml、csv）" class="headerlink" title="4. 数据（json&lt;默认支持&gt;、xml、csv）"></a>4. 数据（json&lt;默认支持&gt;、xml、csv）</h3><p>(1) 安装对应的 loader: <code>npm install --save-dev csv-loader xml-loader</code></p><p>(2) 配置 loader：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attribute">test</span>: /\.(csv|tsv)$/,</span><br><span class="line">  use: [</span><br><span class="line">    <span class="string">'csv-loader'</span></span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">test</span>: /\.xml$/,</span><br><span class="line">  use: [</span><br><span class="line">    <span class="string">'xml-loader'</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(3) 静态资源目录添加对应的数据文件，在入口文件中引用数据文件, 打包之后，对应的数据文件会被处理为 json 格式的数据</p><blockquote><p>具体事例请参考 example 目录下的 chapterTwo</p></blockquote><h2 id="四、输出管理"><a href="#四、输出管理" class="headerlink" title="四、输出管理"></a>四、输出管理</h2><h3 id="0-入口分离"><a href="#0-入口分离" class="headerlink" title="0. 入口分离"></a>0. 入口分离</h3><p>(1) 源码目录中新建 print.js 文件，并在 index.js 中引用对应模块，index.js 中引用对应的包</p><p>(2) webpack 配置修改：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'development'</span>,</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    print: <span class="string">'./src/print.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-解决引用重复的问题，每次打包生成新的-html-文件"><a href="#1-解决引用重复的问题，每次打包生成新的-html-文件" class="headerlink" title="1. 解决引用重复的问题，每次打包生成新的 html 文件"></a>1. 解决引用重复的问题，每次打包生成新的 html 文件</h3><p>(1) 设定 HtmlWebpackPlugin</p><p>安装 html-webpack-plugin: <code>npm install --save-dev html-webpack-plugin</code></p><p>(2) 配置 HtmlWebpackPlugin</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    title: <span class="string">'Output Management'</span></span><br><span class="line">  &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>(3) 在打包时， HtmlWebpackPlugin 会生成新的 index.html 文件，替换旧的 index.html 文件</p><h3 id="2-删除遗留的多余文件-在每次构建前清理-dist-文件夹"><a href="#2-删除遗留的多余文件-在每次构建前清理-dist-文件夹" class="headerlink" title="2. 删除遗留的多余文件,在每次构建前清理 /dist 文件夹"></a>2. 删除遗留的多余文件,在每次构建前清理 /dist 文件夹</h3><p>(1) 安装插件: <code>npm install clean-webpack-plugin --save-dev</code></p><p>(2) 配置插件:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  CleanWebpackPlugin</span><br><span class="line">&#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> CleanWebpackPlugin(),</span><br></pre></td></tr></table></figure><blockquote><p>具体事例请参考 example 目录下的 chapterThree</p></blockquote><h2 id="五、开发环境配置"><a href="#五、开发环境配置" class="headerlink" title="五、开发环境配置"></a>五、开发环境配置</h2><h3 id="1-将编译后的代码映射回原始源代码"><a href="#1-将编译后的代码映射回原始源代码" class="headerlink" title="1. 将编译后的代码映射回原始源代码"></a>1. 将编译后的代码映射回原始源代码</h3><p>(1) 配置文件中添加 source map 配置： <code>devtool: &#39;inline-source-map&#39;</code></p><p>(2) 入口文件有错误，控制台返回的错误路径是对应的源路径</p><h3 id="2-自动编译代码"><a href="#2-自动编译代码" class="headerlink" title="2. 自动编译代码"></a>2. 自动编译代码</h3><p>(1) 观察模式：</p><ul><li><p>添加 script 脚本：<code>&quot;watch&quot;: &quot;webpack --watch&quot;</code> </p></li><li><p><code>npm run watch</code>，每次更新入口文件，代码将自动编译，但是每次编译后，需要手动刷新浏览器，页面才会更新</p></li></ul><p>(2) webpack-dev-server（一个简单的web服务器，可以实时重新加载页面）（官方推荐使用）</p><ul><li><p>安装： <code>npm install --save-dev webpack-dev-server</code></p></li><li><p>修改配置文件：告知 webpack-dev-server 在哪里查找文件</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">devServer</span>: &#123;</span><br><span class="line">  <span class="attribute">contentBase</span>: <span class="string">'./dist'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>添加 script 脚本</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"<span class="keyword">start</span><span class="string">": "</span>webpack-dev-<span class="keyword">server</span> <span class="comment">--open",</span></span><br></pre></td></tr></table></figure><ul><li>修改源文件，web 服务器就会自动重新加载编译后的代码</li></ul><p>(3) webpack-dev-middleware（模块热替换），把 webpack 处理后的文件传递给一个服务器(server)</p><ul><li><p>安装 express 和 webpack-dev-middleware： <code>npm install --save-dev express webpack-dev-middleware</code></p></li><li><p>配置文件中 output 添加  publicPat 选项： <code>publicPath: &#39;/&#39;</code></p></li><li><p>自定义一个 express 服务，添加 server.js 文件，内容如下：</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>);</span><br><span class="line"><span class="keyword">const</span> compiler = webpack(config);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tell express to use the webpack-dev-middleware and use the webpack.config.js</span></span><br><span class="line"><span class="comment">// configuration file as a base.</span></span><br><span class="line">app.use(webpackDevMiddleware(compiler, &#123;</span><br><span class="line">  publicPath: config.output.publicPath</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serve the files on port 3000.</span></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Example app listening on port 3000!\n'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p>添加 npm script： <code>&quot;server&quot;: &quot;node server.js&quot;,</code></p></li><li><p>执行 <code>npm run server</code>， 打开 <a href="http://localhost:3000/" target="_blank" rel="noopener">http://localhost:3000/</a> 即是项目地址</p></li></ul><blockquote><p>具体事例请参考 example 目录下的 chapterFour</p></blockquote><h2 id="六、模块热替换"><a href="#六、模块热替换" class="headerlink" title="六、模块热替换"></a>六、模块热替换</h2><h3 id="1-添加-webpack-自带的插件-NamedModulesPlugin-和-HotModuleReplacementPlugin"><a href="#1-添加-webpack-自带的插件-NamedModulesPlugin-和-HotModuleReplacementPlugin" class="headerlink" title="1. 添加 webpack 自带的插件 NamedModulesPlugin 和 HotModuleReplacementPlugin"></a>1. 添加 webpack 自带的插件 NamedModulesPlugin 和 HotModuleReplacementPlugin</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line">devServer: &#123;</span><br><span class="line">  contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">  hot: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">  <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure><h3 id="2-修改-index-js-文件，监听该文件所引用的外部文件的更新状况"><a href="#2-修改-index-js-文件，监听该文件所引用的外部文件的更新状况" class="headerlink" title="2. 修改 index.js 文件，监听该文件所引用的外部文件的更新状况"></a>2. 修改 index.js 文件，监听该文件所引用的外部文件的更新状况</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">'./print.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Accepting the updated printMe module!'</span>);</span><br><span class="line">    printMe();</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-css-等静态资源加载了相应的-loader，会自动更新"><a href="#3-css-等静态资源加载了相应的-loader，会自动更新" class="headerlink" title="3. css 等静态资源加载了相应的 loader，会自动更新"></a>3. css 等静态资源加载了相应的 loader，会自动更新</h3><h3 id="4-其他热更新-loader-或插件"><a href="#4-其他热更新-loader-或插件" class="headerlink" title="4.其他热更新 loader 或插件"></a>4.其他热更新 loader 或插件</h3><ul><li><p>React Hot Loader：实时调整 react 组件。</p></li><li><p>Vue Loader：此 loader 支持用于 vue 组件的 HMR，提供开箱即用体验。</p></li><li><p>Elm Hot Loader：支持用于 Elm 程序语言的 HMR。</p></li><li><p>Redux HMR：无需 loader 或插件！只需对 main store 文件进行简单的修改。</p></li><li><p>Angular HMR：没有必要使用 loader！只需对主要的 NgModule 文件进行简单的修改，由 HMR API 完全控制。</p></li></ul><h2 id="七、输出优化"><a href="#七、输出优化" class="headerlink" title="七、输出优化"></a>七、输出优化</h2><h3 id="1-移除-JavaScript-上下文中的未引用代码-dead-code"><a href="#1-移除-JavaScript-上下文中的未引用代码-dead-code" class="headerlink" title="1. 移除 JavaScript 上下文中的未引用代码(dead-code)"></a>1. 移除 JavaScript 上下文中的未引用代码(dead-code)</h3><p>package.json 文件设置 sideEffects 属性 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"sideEffects"</span>: [</span><br><span class="line">  <span class="string">"./src/some-side-effectful-file.js"</span>,</span><br><span class="line">  <span class="string">"*.css"</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="2-压缩输出，设置编译模式为-production"><a href="#2-压缩输出，设置编译模式为-production" class="headerlink" title="2.压缩输出，设置编译模式为 production"></a>2.压缩输出，设置编译模式为 production</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mode: <span class="string">"production"</span></span><br></pre></td></tr></table></figure><h2 id="八、生产环境构建"><a href="#八、生产环境构建" class="headerlink" title="八、生产环境构建"></a>八、生产环境构建</h2><h3 id="1-构建目标比较"><a href="#1-构建目标比较" class="headerlink" title="1.构建目标比较"></a>1.构建目标比较</h3><p><strong>生产环境构建目标：</strong> 更小的 bundle、更轻量的 source map、更优化的资源、更短的加载时间</p><p><strong>开发环境构建目标：</strong> 强大的 source map 和具有热模块替换能力的 localhost server</p><h3 id="2-针对不同环境配置-webpack"><a href="#2-针对不同环境配置-webpack" class="headerlink" title="2.针对不同环境配置 webpack"></a>2.针对不同环境配置 webpack</h3><p>(1) 安装 webpack-merge：<code>npm install --save-dev webpack-merge</code></p><p>(2) 针对不同的环境创建对应的配置文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.common.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  CleanWebpackPlugin</span><br><span class="line">&#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/index.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Production'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [&#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          <span class="string">'css-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'file-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(woff|woff2|eot|ttf|otf)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'file-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(csv|tsv)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'csv-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.xml$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'xml-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> common = <span class="built_in">require</span>(<span class="string">'./webpack.common.js'</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(common, &#123;</span><br><span class="line">  mode: <span class="string">'development'</span>,</span><br><span class="line">  devtool: <span class="string">'inline-source-map'</span>,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> UglifyJSPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> common = <span class="built_in">require</span>(<span class="string">'./webpack.common.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(common, &#123;</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> UglifyJSPlugin(&#123;<span class="attr">sourceMap</span>: <span class="literal">true</span>&#125;) <span class="comment">// 不支持 es6 语法的压缩</span></span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>(3) 修改 NPM Script</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"start"</span>: <span class="string">"webpack-dev-server --open --config webpack.dev.js"</span>,</span><br><span class="line"><span class="string">"build"</span>: <span class="string">"webpack --config webpack.prod.js"</span></span><br></pre></td></tr></table></figure><h2 id="九、代码分离"><a href="#九、代码分离" class="headerlink" title="九、代码分离"></a>九、代码分离</h2><h3 id="1-针对多个文件指定对应的入口"><a href="#1-针对多个文件指定对应的入口" class="headerlink" title="1.针对多个文件指定对应的入口"></a>1.针对多个文件指定对应的入口</h3><h3 id="2-把多个地方引用的代码分离到一个文件中，防止重复引用"><a href="#2-把多个地方引用的代码分离到一个文件中，防止重复引用" class="headerlink" title="2.把多个地方引用的代码分离到一个文件中，防止重复引用"></a>2.把多个地方引用的代码分离到一个文件中，防止重复引用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">  runtimeChunk: &#123;</span><br><span class="line">    name: <span class="string">"manifest"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  splitChunks: &#123;</span><br><span class="line">    cacheGroups: &#123;</span><br><span class="line">      commons: &#123;</span><br><span class="line">        test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">        name: <span class="string">"vendor"</span>,</span><br><span class="line">        chunks: <span class="string">"all"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-动态导入"><a href="#3-动态导入" class="headerlink" title="3.动态导入"></a>3.动态导入</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// output 添加 chunkFilename 字段</span></span><br><span class="line">chunkFilename: <span class="string">'[name].bundle.js'</span>,</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js 动态引入库，编译之后可以看到对应的 loadash-chunk</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line"></span><br><span class="line">  element.innerHTML = _.join([<span class="string">'Hello'</span>, <span class="string">'webpack'</span>], <span class="string">' '</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line">getComponent().then(<span class="function"><span class="params">component</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(component);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github+travis自动构建vue项目到gitpage</title>
      <link href="/2019/08/04/github-travis%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BAvue%E9%A1%B9%E7%9B%AE%E5%88%B0gitpage/"/>
      <url>/2019/08/04/github-travis%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BAvue%E9%A1%B9%E7%9B%AE%E5%88%B0gitpage/</url>
      
        <content type="html"><![CDATA[<p>github + travis 自动构建 vue 项目到 gitpage</p><a id="more"></a><h3 id="一、设置-vue-config-js，my-project-对应的是-github-上的项目名称"><a href="#一、设置-vue-config-js，my-project-对应的是-github-上的项目名称" class="headerlink" title="一、设置 vue.config.js，my-project 对应的是 github 上的项目名称"></a>一、设置 vue.config.js，my-project 对应的是 github 上的项目名称</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: process.env.NODE_ENV === <span class="string">"production"</span> ? <span class="string">"/my-project/"</span> : <span class="string">"/"</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="二、创建脚本文件-deploy-sh"><a href="#二、创建脚本文件-deploy-sh" class="headerlink" title="二、创建脚本文件 deploy.sh"></a>二、创建脚本文件 deploy.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># abort on errors</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># build</span></span><br><span class="line">npm run build</span><br><span class="line"></span><br><span class="line"><span class="comment"># navigate into the build output directory</span></span><br><span class="line"><span class="built_in">cd</span> dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># if you are deploying to a custom domain</span></span><br><span class="line"><span class="comment"># echo 'www.example.com' &gt; CNAME</span></span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line">git add -A</span><br><span class="line">git commit -m <span class="string">'deploy'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if you are deploying to https://&lt;USERNAME&gt;.github.io</span></span><br><span class="line"><span class="comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if you are deploying to https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span></span><br><span class="line"><span class="comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> -</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行： .\deploy.sh args</span></span><br></pre></td></tr></table></figure><h3 id="三、配置-travis，这方面的文章很多，自行搜索即可"><a href="#三、配置-travis，这方面的文章很多，自行搜索即可" class="headerlink" title="三、配置 travis，这方面的文章很多，自行搜索即可"></a>三、配置 travis，这方面的文章很多，自行搜索即可</h3><h3 id="四、创建-traivs-yml-文件"><a href="#四、创建-traivs-yml-文件" class="headerlink" title="四、创建 .traivs.yml 文件"></a>四、创建 .traivs.yml 文件</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">"node"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">cache:</span> <span class="string">npm</span></span><br><span class="line"></span><br><span class="line"><span class="attr">script:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr"> provider:</span> <span class="string">pages</span></span><br><span class="line"><span class="attr"> skip_cleanup:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> github_token:</span> <span class="string">$GH_TOKEN</span></span><br><span class="line"><span class="attr"> local_dir:</span> <span class="string">dist</span></span><br><span class="line"><span class="attr"> on:</span></span><br><span class="line"><span class="attr">   branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h3 id="五、上传项目代码到-GitHub"><a href="#五、上传项目代码到-GitHub" class="headerlink" title="五、上传项目代码到 GitHub"></a>五、上传项目代码到 GitHub</h3>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ci </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>四个JS小技巧</title>
      <link href="/2019/07/16/%E5%9B%9B%E4%B8%AAJS%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
      <url>/2019/07/16/%E5%9B%9B%E4%B8%AAJS%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<h2 id="一、尽早结束"><a href="#一、尽早结束" class="headerlink" title="一、尽早结束"></a>一、尽早结束</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">transformData</span>(<span class="params">rawData</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// check if no data</span></span><br><span class="line">  <span class="keyword">if</span> (!rawData) &#123;</span><br><span class="line">    <span class="keyword">return</span> [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// check for specific case</span></span><br><span class="line">  <span class="keyword">if</span> (rawData.length == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// actual function code goes here</span></span><br><span class="line">  <span class="keyword">return</span> rawData.map(<span class="function"><span class="params">item</span> =&gt;</span> item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种写法的好处：</p><ul><li>考虑到了无效值和边界的情况，并且很好的规避了它们</li><li>代码简洁</li><li>后期维护起来比较方便</li><li>一旦接受了这种代码风格，你会更加重视发挥函数的作用并且对代码至上而下的执行过程会更加明了</li></ul><h2 id="二、使用对象而不是-switch"><a href="#二、使用对象而不是-switch" class="headerlink" title="二、使用对象而不是 switch"></a>二、使用对象而不是 switch</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Switch</span></span><br><span class="line"><span class="keyword">let</span> createType = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">switch</span> (contentType) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'post'</span>:</span><br><span class="line">    createType = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'creating a post...'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'video'</span>:</span><br><span class="line">    createType = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'creating a video...'</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    createType = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'unrecognized content type'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createType();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object literal</span></span><br><span class="line"><span class="keyword">const</span> contentTypes = &#123;</span><br><span class="line">  post: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'creating a post...'</span>),</span><br><span class="line">  video: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'creatinga  video...'</span>),</span><br><span class="line">  <span class="keyword">default</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'unrecognized content type'</span>),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> createType = contentTypes[contentType] || contentTypes[<span class="string">'default'</span>];</span><br><span class="line">createType();</span><br></pre></td></tr></table></figure><p>这种写法的好处：</p><ul><li>不必担心没写 case 或者 break</li><li>简洁易懂</li><li>对象比 switch 代码块容易写</li><li>代码量更少</li></ul><h2 id="三、语义化变量，而不是使用-x-y-z-这些变量"><a href="#三、语义化变量，而不是使用-x-y-z-这些变量" class="headerlink" title="三、语义化变量，而不是使用 x, y, z 这些变量"></a>三、语义化变量，而不是使用 x, y, z 这些变量</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = y &amp;&amp; z;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> isPostEnabled = isPost &amp;&amp; postDateValid;</span><br></pre></td></tr></table></figure><h2 id="四、-尽量使用三元表达式代替简单的-if········else······"><a href="#四、-尽量使用三元表达式代替简单的-if········else······" class="headerlink" title="四、 尽量使用三元表达式代替简单的 if········else······"></a>四、 尽量使用三元表达式代替简单的 if········else······</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (conditionA) &#123;</span><br><span class="line">  <span class="keyword">if</span> (conditionB) &#123;</span><br><span class="line">    result = <span class="string">'A &amp; B'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = <span class="string">'A'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  result = <span class="string">'Not A'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = !conditionA ? <span class="string">'Not A'</span> : conditionB ? <span class="string">'A &amp; B'</span> : <span class="string">'A'</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组、对象的深拷贝</title>
      <link href="/2019/06/30/%E6%95%B0%E7%BB%84%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
      <url>/2019/06/30/%E6%95%B0%E7%BB%84%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
      
        <content type="html"><![CDATA[<h2 id="数组的深拷贝"><a href="#数组的深拷贝" class="headerlink" title="数组的深拷贝"></a>数组的深拷贝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyObjectArray</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...JSON.parse(<span class="built_in">JSON</span>.stringify(x))];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example 1</span></span><br><span class="line"><span class="keyword">const</span> test = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'Amy'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="keyword">let</span> test1 = copyObjectArray(test);</span><br><span class="line">test1[<span class="number">0</span>].name = <span class="string">'Jack'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(test, test1);</span><br><span class="line"><span class="comment">// test: [ &#123; name: 'Amy', age: 18 &#125; ] test1: [ &#123; name: 'Jack', age: 18 &#125; ]</span></span><br></pre></td></tr></table></figure><h2 id="对象的深拷贝"><a href="#对象的深拷贝" class="headerlink" title="对象的深拷贝"></a>对象的深拷贝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyObject</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...JSON.parse(<span class="built_in">JSON</span>.stringify(x)),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example 2</span></span><br><span class="line"><span class="keyword">const</span> test2 = &#123;</span><br><span class="line">  name: [<span class="string">'jack'</span>, <span class="string">'sarah'</span>, <span class="string">'ray'</span>],</span><br><span class="line">&#125;;</span><br><span class="line">test3 = copyObject(test2);</span><br><span class="line">test3.name[<span class="number">0</span>] = <span class="string">'小红'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(test2, test3);</span><br><span class="line"><span class="comment">// test2: &#123; name: [ 'jack', 'sarah', 'ray' ] &#125; test3：&#123; name: [ '小红', 'sarah', 'ray' ] &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初始化可伸缩数组</title>
      <link href="/2019/06/30/%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%AF%E4%BC%B8%E7%BC%A9%E6%95%B0%E7%BB%84/"/>
      <url>/2019/06/30/%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%AF%E4%BC%B8%E7%BC%A9%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> len = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// method1</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>(len)</span><br><span class="line">  .fill(<span class="literal">null</span>)</span><br><span class="line">  .map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> <span class="built_in">String</span>.fromCharCode(<span class="number">65</span> + i));</span><br><span class="line"><span class="comment">// method2</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.apply(<span class="literal">null</span>, &#123; <span class="attr">length</span>: len &#125;).map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> <span class="built_in">String</span>.fromCharCode(<span class="number">65</span> + i));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//[ 'A', 'B', 'C', 'D', 'E' ]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>对象属性值监听</title>
      <link href="/2019/06/30/%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9B%91%E5%90%AC/"/>
      <url>/2019/06/30/%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9B%91%E5%90%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  title: <span class="string">'hello world!'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">definePropertyData</span>(<span class="params">obj, prop, value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, prop, &#123;</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">111</span>);</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function(newValue) &#123;</span><br><span class="line">      value = newValue;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">definePropertyData(data, <span class="string">'title'</span>, data.title);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data.title); <span class="comment">// 111 hello world!</span></span><br><span class="line">data.title = <span class="number">38</span>;</span><br><span class="line"><span class="built_in">console</span>.log(data.title); <span class="comment">// 111 38</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>代码优化</title>
      <link href="/2019/06/30/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/"/>
      <url>/2019/06/30/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="用-vue-进行前端开发，怎么做到函数式编程呢？"><a href="#用-vue-进行前端开发，怎么做到函数式编程呢？" class="headerlink" title="用 vue 进行前端开发，怎么做到函数式编程呢？"></a>用 vue 进行前端开发，怎么做到函数式编程呢？</h2><p>每次做完项目，都会发现自己在代码的解耦，接口的封装方面做的还不够，后期必定会多次进行优化，在优化的过程中，就想到，如何把零散的代码，编程整体性更强的代码，使人一看到就知道手脚在哪里。在这里我的总结是，按功能点进行函数的封装，一个大点是一个函数，这个大点里面又有很多小点，可以把函数赋值给变量，进行使用，这样就不用每次都跳来跳去了，维护起来也更方便快捷。</p><p>vue-cli3 中静态文件怎么处理？<br>用 vue-cli2 的人习惯把静态文件放 static 或者 asset 里，放 asset 里，会被打包，不推荐，但是 vue-cli3 没有 static 文件，怎么办呢？我的答案是，放在 public 目录下，因为这个文件是不会被打包压缩的，一定程度上可以提高编译效率</p><h2 id="代码抽离"><a href="#代码抽离" class="headerlink" title="代码抽离"></a>代码抽离</h2><p>把通用功能抽离到 utils 目录，把通用 api 进行二次封装，放到 api 文件里，以 export 的方式导出，需要的时候再引入，会使代码看起来简洁很多，也简化了对应页面的代码量，维护起来更是得心应手了，至于性能方面，对首屏加载速度还是有一定提高效果的。</p><p>组件抽离，核心思想，只抽离 ui，业务逻辑还是在引用处</p><p>多个 vue 组件引用同一个组件，且相似度高的，用 render 进行合并，并更新数据</p><h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><p>尽量的减少页面的节点，可以优化网页的加载速度，所以应该考虑的思路是以最少的节点，写最多的页面。同时避免过多的操作 DOM，尽量以数据驱动页面。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>时间戳转日期</title>
      <link href="/2019/06/30/%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F/"/>
      <url>/2019/06/30/%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeStampFormat</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(+x * <span class="number">1000</span>);</span><br><span class="line">  <span class="keyword">const</span> [m, d] = [date.getMonth() + <span class="number">1</span>, date.getDate()];</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> day = timeStampFormat(<span class="number">1560751917</span>);</span><br><span class="line"><span class="built_in">console</span>.log(day);</span><br></pre></td></tr></table></figure><h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><p>因为 js 的时间是按毫秒算的，这里要转成秒，所以要乘以一个 1000，之后就可以调用 js 内置对象中的 Date 获取对应的日期了，年份及其他，类似。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>寻找数组中重复元素个数的简洁方法</title>
      <link href="/2019/06/30/%E5%AF%BB%E6%89%BE%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E7%9A%84%E7%AE%80%E6%B4%81%E6%96%B9%E6%B3%95/"/>
      <url>/2019/06/30/%E5%AF%BB%E6%89%BE%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E7%9A%84%E7%AE%80%E6%B4%81%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="场景："><a href="#场景：" class="headerlink" title="场景："></a>场景：</h2><p>有一个数组里面存了一些值 val = [1, 2, 3]，另一个数组中存的是选择这些值得集合 answer = [1, 1, 2, 3, 2, 1]，求 val 中对应每位元素在 answer 中的重复个数，并输出到对应的数组中。要求不要使用迭代等复杂的写法。</p><h2 id="实现："><a href="#实现：" class="headerlink" title="实现："></a>实现：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findRepeat</span>(<span class="params">val, answer</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> val.map(<span class="function"><span class="params">num</span> =&gt;</span> answer.filter(<span class="function"><span class="params">n</span> =&gt;</span> n === num).length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> val = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> answer = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">findRepeat(val, answer);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 动画 vs Js 动画</title>
      <link href="/2019/05/19/css3%E5%8A%A8%E7%94%BB-vs-js%E5%8A%A8%E7%94%BB/"/>
      <url>/2019/05/19/css3%E5%8A%A8%E7%94%BB-vs-js%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<p>之前被问到过，css3 动画与 js 动画孰优孰劣，脑袋的第一反应就是性能上肯定 css3 动画会好很多，但别人说不对，我就在想，不对？难道还有别的原因吗？答案是肯定的。先来看看二者实现动画的原理吧。</p><a id="more"></a><h2 id="css3-动画原理"><a href="#css3-动画原理" class="headerlink" title="css3 动画原理"></a>css3 动画原理</h2><p>css3 动画本质上是一直视觉上的动画，并未去触碰 DOM，换句话说，用 css3 实现的动画，原来的 DOM 的位置是不曾被改变的。</p><h2 id="js-动画原理"><a href="#js-动画原理" class="headerlink" title="js 动画原理"></a>js 动画原理</h2><p>js 动画是通过控制 DOM 的位置，来达到动的效果，是 DOM 一点点位移的结果，每一次的位移都要等待上一次的位移结束，而且因为频繁的操作 DOM，会带来频繁的重绘，所以会出现卡顿的现象。</p><h2 id="孰优孰劣？"><a href="#孰优孰劣？" class="headerlink" title="孰优孰劣？"></a>孰优孰劣？</h2><p>通过上面的分析，我们知道 css3 相比 js 实现的动画，会更流畅。我们还知道，过多的 js 脚本，页面的加载速度会受到影响，所以这在一定程度上肯定会影响到页面的性能。因此，推荐使用 css3 动画，而不建议使用 js 动画。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>滚动翻页</title>
      <link href="/2019/04/15/%E6%BB%9A%E5%8A%A8%E7%BF%BB%E9%A1%B5/"/>
      <url>/2019/04/15/%E6%BB%9A%E5%8A%A8%E7%BF%BB%E9%A1%B5/</url>
      
        <content type="html"><![CDATA[<h5 id="一、-功能描述"><a href="#一、-功能描述" class="headerlink" title="一、 功能描述"></a>一、 功能描述</h5><p>有一个 list，长度不确定，显示区域只能容纳四条数据，往下滚动显示当前四条数据的前四条，往下滚动则显示当前数据的后四条。除了滚动切换数据之外，还能通过上下翻页键切换数据，切换数据的交互需要跟滚动效果一样。</p><h5 id="二、思路"><a href="#二、思路" class="headerlink" title="二、思路"></a>二、思路</h5><p>说到分页，首先想到的肯定是切割 list，因为只能容纳四条数据，就把 list 切割成 4 条每组的多个 list，每次只需要显示相应的子 list 就行了。因为要有滚动的交互效果，所以考虑的 html 结构是父级元素滚动，超出部分隐藏，子元素由多个 list 组成的块构成相应的 dom。既然是滚动翻页，肯定不希望出现滚动条，所以要考虑不同浏览器隐藏滚动条的方案。</p><h5 id="三、实现"><a href="#三、实现" class="headerlink" title="三、实现"></a>三、实现</h5><p><strong>html 结构：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"audioContainer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">:src</span>=<span class="string">"`$&#123;baseUrl&#125;img/last.png`"</span> <span class="attr">v-show</span>=<span class="string">"lastPageShow"</span> @<span class="attr">click</span>=<span class="string">"jump(0)"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"audioWrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"audioGroup"</span> <span class="attr">v-for</span>=<span class="string">"(value, num) in audioGroupPage"</span> <span class="attr">:key</span>=<span class="string">"num"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"item"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">"(item, index) in audioGroup.slice(4*num, 4*(num+1))"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:key</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">click</span>=<span class="string">"$emit('spellAudio', item.tone, item.letter)"</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ruby</span>&gt;</span>&#123;&#123;item.text&#125;&#125;<span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">:src</span>=<span class="string">"`$&#123;baseUrl&#125;img/next.png`"</span> <span class="attr">v-show</span>=<span class="string">"nextPageShow"</span> @<span class="attr">click</span>=<span class="string">"jump(1)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>功能函数：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    <span class="comment">// 监听 list 的长度，如果超出可容纳数据的长度，显示下一页按钮</span></span><br><span class="line">    audioGroup(val) &#123;</span><br><span class="line">      val.length &gt; <span class="number">4</span> ? (<span class="keyword">this</span>.nextPageShow = <span class="literal">true</span>) : (<span class="keyword">this</span>.nextPageShow = <span class="literal">false</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    top(val) &#123;</span><br><span class="line">      <span class="comment">// 监听滚动的高度，如果小于 0，则上一页按钮隐藏</span></span><br><span class="line">      <span class="keyword">if</span> (val &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.lastPageShow = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">       <span class="comment">// 监听滚动的高度，如果大于所有 list 子元素构成的dom的高度，则下一页按钮隐藏，否则显示</span></span><br><span class="line">      <span class="keyword">if</span> (val &gt;= (<span class="built_in">Math</span>.ceil(<span class="keyword">this</span>.audioGroup.length / <span class="number">4</span>) - <span class="number">1</span>) * <span class="number">204</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.nextPageShow = <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.nextPageShow = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="comment">// list 分页</span></span><br><span class="line">    audioGroupPage() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(<span class="keyword">this</span>.audioGroup.length / <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// 上下翻页</span></span><br><span class="line">    jump(val) &#123;</span><br><span class="line">      <span class="keyword">const</span> el = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"audioWrap"</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">switch</span> (val) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">          <span class="keyword">this</span>.lastPageShow = <span class="literal">true</span>;</span><br><span class="line">          el.top = el.scrollTop + <span class="number">204</span></span><br><span class="line">          <span class="keyword">this</span>.top = el.scrollTop + <span class="number">204</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">          el.top = el.scrollTop - <span class="number">204</span>;</span><br><span class="line">          <span class="keyword">this</span>.top = el.scrollTop - <span class="number">204</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="三、其他"><a href="#三、其他" class="headerlink" title="三、其他"></a>三、其他</h5><p>实现了之后肯定很丑，因为有滚动条，如何隐藏呢？如下:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* webkit 内核浏览器 */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* firfox浏览器 */</span></span><br><span class="line"><span class="selector-class">.audioWrap</span> &#123;</span><br><span class="line">  <span class="attribute">scrollbar-width</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 翻页 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日语学习笔记</title>
      <link href="/2019/03/31/%E6%97%A5%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/03/31/%E6%97%A5%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="一、日语关于介绍的基本句型"><a href="#一、日语关于介绍的基本句型" class="headerlink" title="一、日语关于介绍的基本句型"></a>一、日语关于介绍的基本句型</h3><ol><li><p>n + は + n + です　<strong>……是……</strong></p></li><li><p>n + は + n + じや　あぃません <strong>……不是……</strong></p></li><li><p>n + は + n + ですか <strong>……是……吗？</strong></p></li><li><p>n + の + n <strong>…的….</strong></p></li><li><p>n + も + n + です <strong>….也是…..</strong></p></li><li><p>n + は + n + 歳です <strong>….岁</strong></p></li><li><p>n + から 来まぃた <strong>来自….(国家、地区)</strong></p></li><li><p>どうぞ　よるしく　お願いします <strong>请多多指教</strong></p></li><li><p>お名前は？ <strong>你的名字叫什么</strong></p></li><li><p>こちらは + n + さんです <strong>这是…</strong></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日语 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KNN算法</title>
      <link href="/2019/03/30/KNN%E7%AE%97%E6%B3%95/"/>
      <url>/2019/03/30/KNN%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>KNN 算法概述</p><a id="more"></a><h2 id="KNN-算法是做什么的"><a href="#KNN-算法是做什么的" class="headerlink" title="KNN 算法是做什么的"></a>KNN 算法是做什么的</h2><p>KNN 算法， 即 K 最邻近算法，通过对比与临近事物的相似度，可以对具有特征的事物进行分类，也可以根据这些分类，预测下一步的结果。</p><h2 id="KNN-算法步骤"><a href="#KNN-算法步骤" class="headerlink" title="KNN 算法步骤"></a>KNN 算法步骤</h2><p>KNN 算法主要分为三步：</p><h3 id="一、准备"><a href="#一、准备" class="headerlink" title="一、准备"></a>一、准备</h3><p>找出邻近值，这个邻近值 k 可以是任意数，1， 1000 甚至 10000 都可以。</p><h3 id="二、分类"><a href="#二、分类" class="headerlink" title="二、分类"></a>二、分类</h3><p>用毕达哥拉斯公式算出该对象与邻近值的相似度（该对象与邻近值得距离），并将该对象归到相似度最高的那一个近邻类里。</p><h3 id="三、回归"><a href="#三、回归" class="headerlink" title="三、回归"></a>三、回归</h3><p>重新找到该对象的近邻，算出这些近邻各特征的平均值，形成新的特征组合，即新的对象，这个对象就是预估的结果，也就是通常所说的预测值。</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="KNN-算法的实现"><a href="#KNN-算法的实现" class="headerlink" title="KNN 算法的实现"></a>KNN 算法的实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 已知所有特征集合，第一个特征为颜色，第二个特征为所属类别</span></span><br><span class="line">L = &#123;<span class="string">'orange'</span> : [<span class="number">1</span>, <span class="number">0</span>], <span class="string">'apple'</span>: [<span class="number">2</span>, <span class="number">0</span>], <span class="string">'flower'</span>: [<span class="number">1</span>, <span class="number">1</span>], <span class="string">'fish'</span>: [<span class="number">5</span>, <span class="number">5</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 未知物体</span></span><br><span class="line">test = [<span class="number">1.1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="comment"># 所有的相似度集合</span></span><br><span class="line">results = []</span><br><span class="line"><span class="comment"># 已知所有水果的集合</span></span><br><span class="line">items = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> L:</span><br><span class="line">    x = L[item][<span class="number">0</span>] - test[<span class="number">0</span>]</span><br><span class="line">    y = L[item][<span class="number">1</span>] - test[<span class="number">1</span>]</span><br><span class="line">    instance = x ** <span class="number">2</span> + y ** <span class="number">2</span></span><br><span class="line">    results.append(instance ** <span class="number">0.5</span>)</span><br><span class="line">    items.append(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最大相似度</span></span><br><span class="line">minValue = min(results)</span><br><span class="line"><span class="comment"># 物体名称</span></span><br><span class="line">result = items[results.index(minValue)]</span><br><span class="line"></span><br><span class="line">print(minValue, result)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> KNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Table-Cell等分</title>
      <link href="/2019/03/20/table-cell%E7%AD%89%E5%88%86/"/>
      <url>/2019/03/20/table-cell%E7%AD%89%E5%88%86/</url>
      
        <content type="html"><![CDATA[<p>table 里面的元素等分，是经常遇到的需求，一般都会想所有宽度设为相同的应该就等分了，但是然并卵，今天就遇到了这种坑，就算设了宽度一致，还是没有等分，场景是这样的，一个 tr 里面第一个 th 的宽度跟其他不一样，table 宽度为 100%，最后实现等分的方法如下：</p><a id="more"></a><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="selector-tag">table</span>-layout: fixed;</span><br><span class="line">  <span class="selector-tag">th</span>,</span><br><span class="line">  <span class="selector-tag">td</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border</span>: solid <span class="number">1px</span> <span class="number">#d9d9d9</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f7f9fa</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从上面的例子不难看出，实现等分的秘诀就在于设置了 <code>display: table; table-layout: fixed;</code> 和 <code>display: table-cell; width: 2%;</code></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux后台执行脚本</title>
      <link href="/2019/03/20/linux%E5%90%8E%E5%8F%B0%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC/"/>
      <url>/2019/03/20/linux%E5%90%8E%E5%8F%B0%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>最近在弄自己的 OA 系统，需要把 api 处理脚本部署到 linux 服务器上，在配置好环境，在服务器上成功运行代码后，发现一个问题，当我退出命令窗口时，程序就没在执行了，这没有达到永久可以连接 api 的目的，google 了一下之后，了解到要让程序永久运行，可以让程序在后台执行，主要的方法有 nohub、screen、开机启动等，其中 nohub 在关闭命令窗口之时，会关掉程序，去除，开机启动要修改系统配置，个人不太喜欢用这种方法，剩下 screen 了，它是可以让不同的程序在不同的命令窗口中执行，有屏幕分离的模式，会给每个屏幕创建不同的进程，只要不杀死进程，即使离开当前命令窗口，也不会停止程序的运行，所以使用 screen 是最好的方案了。</p><a id="more"></a><p>screen 的用法：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建并跳转到一个窗口</span></span><br><span class="line">screen -S name</span><br><span class="line"><span class="meta">#</span><span class="bash"> 执行程序</span></span><br><span class="line">python test.py</span><br><span class="line"><span class="meta">#</span><span class="bash"> 退出当前窗口</span></span><br><span class="line">ctrl a d</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>拼音学习项目笔记</title>
      <link href="/2019/03/19/%E6%8B%BC%E9%9F%B3%E5%AD%A6%E4%B9%A0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/03/19/%E6%8B%BC%E9%9F%B3%E5%AD%A6%E4%B9%A0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<ol><li><p>关于数据更新机制</p><p>（1）v-if 关闭组件的时候，会销毁数据，可以用于实现返回父组件关闭音频等媒体，如果只是界面的开关的话，用 v-show 即可</p><p>（2）离开子组件后，父组件所传递的数据需要清空，切记不要在网络请求里做清空操作，因为网络请求是有延迟的，一般放在打开子组件的事件里执行清空操作</p></li><li><p>关于 audio</p><p>对于不同格式的音频，audio 的播放机制不一样，对于 base64 等流媒体，audio 采用边下边播的机制，对于 MP3 等非流媒体，audio 采用下载完之后再播放的机制，所以为了播放效果更好，防止出现等待状况，最好把音频转换为流媒体的形式，下面是我写的一个 MP3 转 base64 的示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mp3ToBase64(url) &#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="built_in">document</span>.getElementById(<span class="string">"voiceM"</span>);</span><br><span class="line">  <span class="keyword">const</span> temp = &#123;</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">"Content-Type"</span>: <span class="string">" audio/mpeg3"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    responseType: <span class="string">"arraybuffer"</span></span><br><span class="line">  &#125;;</span><br><span class="line">  http.get(url, <span class="string">""</span>, temp).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> val = <span class="keyword">new</span> Buffer(res.data, <span class="string">"binary"</span>).toString(<span class="string">"base64"</span>);</span><br><span class="line">    <span class="keyword">const</span> audioUrl = <span class="string">`data:<span class="subst">$&#123;res.headers[</span></span></span><br><span class="line"><span class="string"><span class="subst">      <span class="string">"content-type"</span></span></span></span><br><span class="line"><span class="string"><span class="subst">    ].toLowerCase()&#125;</span>;base64,<span class="subst">$&#123;val&#125;</span>`</span>;</span><br><span class="line">    el.src = audioUrl;</span><br><span class="line">    el.play();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>分页算法</title>
      <link href="/2019/03/18/%E5%88%86%E9%A1%B5%E7%AE%97%E6%B3%95/"/>
      <url>/2019/03/18/%E5%88%86%E9%A1%B5%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>分页是一种比较常见的功能，分页的原理其实也很简单，首先要知道没有需要展示的项目数量 pageSize，然后还得知道当前所在的页数 currentPage, 设所有的 item 都在一个数组 array 里，每页需要展示 5 个 item，那么当 currentPage = 1 时，第一页要展示的所有 item 为 array.slice(0, 4), 第二页要展示的 item 为 array.slice(5, 9), 以此类推，那么第 n（n &gt;= 0) 页需要展示的 item 应该为：array.slice(5n, 5n+4)，推而广之，基本数字的分页公式就出来了：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">currentArray = array.slice(pageSize * (currentPage - <span class="number">1</span>), pageSize * <span class="number">2</span>(currentPage - <span class="number">1</span>) - <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>除了基本的数字分页，我们还经常看到上一页，下一页，这种怎么实现呢？上一页就是 currentPage - 1， 那么下一页就是 currentPage + 1，吧这两个分别带入上述公式，我们就得到了上一页，下一页的公式了：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上一页</span></span><br><span class="line">currentArray = array.slice(pageSize * (currentPage - <span class="number">2</span>), pageSize * <span class="number">2</span>(currentPage - <span class="number">2</span>) <span class="number">-1</span>)</span><br><span class="line"><span class="comment">// 下一页</span></span><br><span class="line">currentArray = array.slice(pageSize * currentPage, pageSize * <span class="number">2</span>currentPage <span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>分页中还常常看到跳转页面的功能，所要跳转的数字就是我们选择的页数，因此跟第一种同理，用第一个公式即可。</p><p>除此之外，在选择下一页的时候，页面的数字组合会往右偏移，选择上一页的时候，页面的数字组合往左偏移，实现的方法也很简单</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设当前页面数字组合为数组 nums，</span></span><br><span class="line"><span class="comment">// nums 初始化为 [1, 2, 3, 4, 5]，</span></span><br><span class="line"><span class="comment">// 那么选择上一页时，</span></span><br><span class="line">nums = nums.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item++;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 选择下一页时</span></span><br><span class="line">nums = nums.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item--;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>实现了上面的页面数字组合更新之后，还有一个问题，当点击最后一页，和最开始一页时，页面数字组合应该是不被更新的，优化一下上面的算法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设当前页面数字组合为数组 nums，</span></span><br><span class="line"><span class="comment">// nums 初始化为 [1, 2, 3, 4, 5]，</span></span><br><span class="line"><span class="comment">// 那么选择上一页时，</span></span><br><span class="line">nums = nums.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> item++;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 选择下一页时</span></span><br><span class="line">nums = nums.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item !== totalPage.length - <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> item--;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>至此，我自己总结的分页算法就讲解完啦。</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分页 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS2 下块级元素垂直水平居中</title>
      <link href="/2019/03/16/css2%E4%B8%8B%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD/"/>
      <url>/2019/03/16/css2%E4%B8%8B%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD/</url>
      
        <content type="html"><![CDATA[<p>前几天有人问我给定一个这样的结构：div =&gt; div，如何让里面的元素水平垂直居中？给出 css2 代码。这对于一直用 css3 布局方式的我来说，一时还有点蒙蔽，只知道左右居中一般用 margin：0 auto，至于垂直居中，还真没用 css2 实现过。于是动手实践，发现以下的方式而已完美达到想要的效果。</p><a id="more"></a><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">background</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个方法的一个要点是运用 position：absolute，使里面的块级元素始终相对于父元素定位，由水平居中 margin: 0 auto，可以类推上下左右都居中的话，应该 margin 都为 auto 可以达到想要的效果，至于四个方向大的定位都为 0，是为了防止位置偏移。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Centos7 安装 MySQL</title>
      <link href="/2019/03/09/MySQL/"/>
      <url>/2019/03/09/MySQL/</url>
      
        <content type="html"><![CDATA[<p>centos7 安装 MySQL</p><a id="more"></a><h3 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h3><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ce<span class="symbol">ntOS7</span> <span class="number">64</span>位</span><br></pre></td></tr></table></figure><h3 id="部署过程"><a href="#部署过程" class="headerlink" title="部署过程"></a>部署过程</h3><ol><li><p>添加 mysql yum 源：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh https:<span class="regexp">//</span>repo.mysql.com<span class="regexp">//my</span>sql80-community-release-el7-<span class="number">2</span>.noarch.rpm</span><br></pre></td></tr></table></figure></li><li><p>查看 yum 源中所有 Mysql 版本：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist <span class="keyword">all</span> | <span class="keyword">grep</span> mysql</span><br></pre></td></tr></table></figure></li><li><p>禁用其他版本：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-<span class="built_in">config</span>-manager <span class="comment">--disable mysql80-community</span></span><br></pre></td></tr></table></figure></li><li><p>启用要安装的版本 mysql5.7</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-<span class="built_in">config</span>-manager <span class="comment">--enable mysql57-community</span></span><br></pre></td></tr></table></figure></li><li><p>检查配置是否生效</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist enabled <span class="string">| grep mysql</span></span><br></pre></td></tr></table></figure></li><li><p>开始安装:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> mysql-community-<span class="keyword">server</span></span><br></pre></td></tr></table></figure></li><li><p>启动服务：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld <span class="literal">start</span></span><br></pre></td></tr></table></figure></li><li><p>查看 mysql 状态:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service mysqld status</span></span><br></pre></td></tr></table></figure></li><li><p>查看临时密码：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">'temporary password'</span> /<span class="built_in">var</span>/<span class="keyword">log</span>/mysqld.<span class="keyword">log</span></span><br></pre></td></tr></table></figure></li><li><p>登录</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mysql -uroot -p</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一键生成响应式表格</title>
      <link href="/2019/02/28/%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90%E5%93%8D%E5%BA%94%E5%BC%8F%E8%A1%A8%E6%A0%BC/"/>
      <url>/2019/02/28/%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90%E5%93%8D%E5%BA%94%E5%BC%8F%E8%A1%A8%E6%A0%BC/</url>
      
        <content type="html"><![CDATA[<p>这是一个一键生成响应式表格的方案。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">table-layout</span>: fixed;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5%</span> <span class="number">0</span>;</span><br><span class="line">  td&#123;</span><br><span class="line">    <span class="selector-tag">padding</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">thead</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#cce5ff</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table-bordered</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table-bordered</span> &#123;</span><br><span class="line">  th &#123;</span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-id">#e4efff</span>;</span><br><span class="line">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e0e0e0</span>;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: <span class="selector-tag">normal</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: <span class="selector-tag">auto</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">td</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#e4efff</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: normal;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">thead</span> &#123;</span><br><span class="line">    th &#123;</span><br><span class="line">      <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span>;</span><br><span class="line">      <span class="selector-tag">font-weight</span>: 500;</span><br><span class="line">      <span class="selector-tag">height</span>: <span class="selector-tag">auto</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">td</span> &#123;</span><br><span class="line">      <span class="attribute">border-bottom</span>: <span class="number">1px</span>;</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">      <span class="attribute">height</span>: auto;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"0"</span> <span class="attr">class</span>=<span class="string">"table table-bordered"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">style</span>=<span class="string">"width: 40%;"</span>&gt;</span>题型<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>题量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>分值<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>  &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;chapter.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;chapter.questionCount&#125;&#125; 题<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;chapter.presetScore&#125;&#125;分<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页或Html元素在浏览器上全屏解决方案</title>
      <link href="/2019/02/20/%E7%BD%91%E9%A1%B5%E6%88%96html%E5%85%83%E7%B4%A0%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%E5%85%A8%E5%B1%8F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2019/02/20/%E7%BD%91%E9%A1%B5%E6%88%96html%E5%85%83%E7%B4%A0%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8A%E5%85%A8%E5%B1%8F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<ol><li><p><strong>全屏是什么</strong>：</p><p>个人理解，全屏指的是去掉浏览器的导航栏，浏览器的全部空间被页面所占有，网页即 html 文档，网页全屏即 dom 全屏</p></li><li><p>不同的浏览器又不同的全屏事件可以调用，但是不同浏览器的全屏事件并不一致，因为还没被写入规范中，所以需要判断在特定的浏览器下，哪个事件可以用，以下是全屏事件的封装：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// el 是需要全屏的 dom</span></span><br><span class="line">requestFullscreen(el: Element): <span class="keyword">void</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (el.requestFullscreen) &#123;</span><br><span class="line">    el.requestFullscreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.mozRequestFullScreen) &#123;</span><br><span class="line">    el.mozRequestFullScreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.webkitRequestFullscreen) &#123;</span><br><span class="line">    el.webkitRequestFullscreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.msRequestFullscreen) &#123;</span><br><span class="line">    el.msRequestFullscreen();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>网页全屏之后，还需要退出全屏，退出全屏的方式有多种，比如按 esc 键退出全屏，点击全屏按钮退出全屏等，其中按 esc 退出全屏，一般的浏览器在打开了全屏之后，都可以进行这个操作，不需要人工另外操作。点击按钮退出全屏，需要调用到关闭全屏的事件，同样，在不同的浏览器有不同的实现，需要一一进行判断，封装的事件如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// document 即 html 文档，不需要改变</span></span><br><span class="line">exitFullscreen(): <span class="keyword">void</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.exitFullscreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.exitFullscreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.mozCancelFullScreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.mozCancelFullScreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.webkitExitFullscreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.webkitExitFullscreen();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.msExitFullscreen) &#123;</span><br><span class="line">    <span class="built_in">document</span>.msExitFullscreen();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>如何判断是否处于全屏状态？</strong></p><p>要判断是否处于全屏的状态，需要调用到相关的浏览器事件，在不同的浏览器，实现方式也不尽相同，因此同样需要判断，封装的代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断全屏元素是否存在，并返回相应的项</span></span><br><span class="line">fullscreenElement(): Element &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="built_in">document</span>.fullscreenElement ||</span><br><span class="line">    <span class="built_in">document</span>.webkitFullscreenElement ||</span><br><span class="line">    <span class="built_in">document</span>.msFullscreenElement ||</span><br><span class="line">    <span class="built_in">document</span>.mozFullScreenElement ||</span><br><span class="line">    <span class="literal">null</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断是否处于全屏状态</span></span><br><span class="line">isFullScreen() &#123;</span><br><span class="line">  <span class="keyword">return</span> !!(<span class="built_in">document</span>.webkitIsFullScreen || <span class="keyword">this</span>.fullscreenElement());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Key 值在 Vue 组件中的作用</title>
      <link href="/2019/02/19/key%E5%80%BC%E5%9C%A8vue%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/"/>
      <url>/2019/02/19/key%E5%80%BC%E5%9C%A8vue%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>key 值在 vue 组件的作用</p><a id="more"></a><ol><li><p>key 值在 vue 组件中的作用：</p><p>高效利用 dom</p></li><li><p>分析：</p><p>vue 生成 dom 的过程大致是：model -&gt; vn -&gt; diff -&gt; patch -&gt; dom， 这里在生成真实 dom 之前会先生成虚拟 dom，每次 dom 的改变不是直接生成新的 dom 的，因为每次改变都重新生成新的 dom，效率太低，消耗太大。在每次改变 dom 之时，会经历以下过程，diff 函数对比新旧 vn，包括属性值等，确认哪一项变了，则生成一个新的 patch，将改变的项目插入到 dom 中。</p><p>在执行 diff 函数之时，会判断 key 值是否存在，若存在，则采用 map 映射的方式，查找相应的 vn，若不存在则会一个个去遍历 vn，直到找到相应的改变项，由于直接遍历的速度比 map 映射查找的速度慢，所以在最好在 vue dom 中加上 key 值。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typescript 使用</title>
      <link href="/2019/02/18/typescript%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/02/18/typescript%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>typescript 使用笔记</p><a id="more"></a><ol><li><p>安装： <code>npm i -g typescript</code></p></li><li><p>安装支持 typescript 的编辑器： vscode</p></li><li><p>项目中使用 typescript：<code>tsc --init</code> 创建 tsconfig.json 文件</p></li><li><p>编译 typescript：<code>tsc</code></p></li><li><p>TypeScript 基本语法：</p><ul><li><p>基本静态类型:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Boolean</span></span><br><span class="line"><span class="keyword">let</span> isAwesome: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// String</span></span><br><span class="line"><span class="keyword">let</span> name: <span class="built_in">string</span> = <span class="string">"Chris"</span>;</span><br><span class="line"><span class="keyword">let</span> joke: <span class="built_in">string</span> = <span class="string">`</span></span><br><span class="line"><span class="string">   Q: Why did the chicken cross the road?</span></span><br><span class="line"><span class="string">   A: <span class="subst">$&#123;punchline&#125;</span></span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Number</span></span><br><span class="line"><span class="keyword">let</span> decimalNumber: <span class="built_in">number</span> = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">let</span> binaryNumber: <span class="built_in">number</span> = <span class="number">0b101010</span>; <span class="comment">// =&gt; 42</span></span><br><span class="line"><span class="keyword">let</span> octalNumber: <span class="built_in">number</span> = <span class="number">0o52</span>; <span class="comment">// =&gt; 42</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// array</span></span><br><span class="line"><span class="keyword">let</span> myPetFamily: <span class="built_in">string</span>[] = [<span class="string">"rocket"</span>, <span class="string">"fluffly"</span>, <span class="string">"harry"</span>];</span><br><span class="line"><span class="keyword">let</span> myPetFamily: <span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">"rocket"</span>, <span class="string">"fluffly"</span>, <span class="string">"harry"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// tuple</span></span><br><span class="line"><span class="keyword">let</span> myFavoriteTuple: [<span class="built_in">string</span>, <span class="built_in">number</span>, <span class="built_in">boolean</span>];</span><br><span class="line">myFavoriteTuple = [<span class="string">"chair"</span>, <span class="number">20</span>, <span class="literal">true</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// enum</span></span><br><span class="line"><span class="keyword">enum</span> Sizes &#123;</span><br><span class="line">  Small = <span class="number">1</span>,</span><br><span class="line">  Medium,</span><br><span class="line">  Large</span><br><span class="line">&#125;</span><br><span class="line">Sizes.Small; <span class="comment">// =&gt; 1</span></span><br><span class="line">Sizes.Medium; <span class="comment">// =&gt; 2</span></span><br><span class="line">Sizes.Large; <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="keyword">enum</span> ThemeColors &#123;</span><br><span class="line">  Primary = <span class="string">"primary"</span>,</span><br><span class="line">  Secondary = <span class="string">"secondary"</span>,</span><br><span class="line">  Dark = <span class="string">"dark"</span>,</span><br><span class="line">  DarkSecondary = <span class="string">"darkSecondary"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// any</span></span><br><span class="line"><span class="keyword">let</span> whoKnows: <span class="built_in">any</span> = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// void</span></span><br><span class="line"><span class="keyword">const</span> darkestPlaceOnEarth = (): <span class="function"><span class="params">void</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Marianas Trench"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>其他：</p>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口</span></span><br><span class="line"><span class="keyword">interface</span> Animal &#123;</span><br><span class="line">  kind: <span class="built_in">string</span>;</span><br><span class="line">  weight: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog: Animal;</span><br><span class="line">dog = &#123;</span><br><span class="line">  kind: <span class="string">'mammal'</span>,</span><br><span class="line">  weight: <span class="number">10</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//内联注释</span></span><br><span class="line"><span class="keyword">let</span> dog: &#123;</span><br><span class="line">  kind: <span class="built_in">string</span>;</span><br><span class="line">  weight: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line">dog = &#123;</span><br><span class="line">  kind: <span class="string">'mammal'</span>,</span><br><span class="line">  weight: <span class="number">10</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//泛型</span></span><br><span class="line"><span class="keyword">const</span> fillArray = &lt;T&gt;<span class="function">(<span class="params">len: <span class="built_in">number</span>, elem: T</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Array</span>&lt;T&gt;(len).fill(elem);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> newArray = fillArray&lt;<span class="built_in">string</span>&gt;(<span class="number">3</span>, <span class="string">'hi'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//联合类型</span></span><br><span class="line"><span class="keyword">const</span> sayHappyBirthdayOnFacebook = <span class="function">(<span class="params">name: <span class="built_in">string</span> | <span class="literal">null</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (name === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Happy birthday!'</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Happy birthday <span class="subst">$&#123;name&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">sayHappyBirthdayOnFacebook(<span class="literal">null</span>); <span class="comment">// =&gt; "Happy birthday!"</span></span><br><span class="line">sayHappyBirthdayOnFacebook(<span class="string">'Jeremy'</span>); <span class="comment">// =&gt; "Happy birthday Jeremy!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//交集类型</span></span><br><span class="line"><span class="keyword">type</span> Student = &#123;</span><br><span class="line">  id: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> Employee = &#123;</span><br><span class="line">  companyId: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> person: Student &amp; Employee;</span><br><span class="line">person.age = <span class="number">21</span>; <span class="comment">// ✅</span></span><br><span class="line">person.companyId = <span class="string">'SP302334'</span>; <span class="comment">// ✅</span></span><br><span class="line">person.id = <span class="string">'10033402'</span>; <span class="comment">// ✅</span></span><br><span class="line">person.name = <span class="string">'Henry'</span>; <span class="comment">// ❌ - name does not exist in Student &amp; Employee</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//可选类型</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callMom</span>(<span class="params">message?: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!message) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi mom. Love you. Bye.'</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Interface describing an object containing an optional property</span></span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  favoriteColor?: <span class="built_in">string</span>; <span class="comment">// This property is optional</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端绘制图形验证码</title>
      <link href="/2019/02/13/%E5%89%8D%E7%AB%AF%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%E9%AA%8C%E8%AF%81%E7%A0%81/"/>
      <url>/2019/02/13/%E5%89%8D%E7%AB%AF%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%E9%AA%8C%E8%AF%81%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>摘要：<br>本文主要实现了一下功能：1、图形验证码由验证码、干扰线、干扰点组合而成；2、验证码由数字和字母随机组合形成；3、每次切换验证码，验证码字体颜色和背景颜色变化</p><p>一、实现思路</p><ol><li><p>生成一个随机色，用于切换验证码时控制字体颜色和背景颜色</p></li><li><p>生成一个随机数，用于改变颜色的 rgb 值和绘制干扰线与干扰点</p></li><li><p>生成一个由数字和字母组合而成的随机码</p></li><li><p>将随机数、干扰线、干扰点绘制在 canvas 画布上</p></li><li><p>由于图形验证码是会刷新的，所以下一次刷新的时候要确保画布是空的，才不会出现上一次绘制的图形，因此，要在绘制图形之前，清空画布</p></li><li><p>验证：通过对比输入的值和生成的随机码，验证是否输入正确</p></li></ol><p>二、示例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> code;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成一个随机色</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> r = randomNum(min, max);</span><br><span class="line">  <span class="keyword">let</span> g = randomNum(min, max);</span><br><span class="line">  <span class="keyword">let</span> b = randomNum(min, max);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"rgb("</span> + r + <span class="string">","</span> + g + <span class="string">","</span> + b + <span class="string">")"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成一个随机数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomNum</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min) + min);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 生成随机码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  code = <span class="string">""</span>;</span><br><span class="line">  <span class="comment">//验证码的长度</span></span><br><span class="line">  <span class="keyword">let</span> codeLength = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">const</span> checkCode = <span class="built_in">document</span>.getElementById(<span class="string">"myCanvas"</span>);</span><br><span class="line">  <span class="keyword">const</span> codeChars = [];</span><br><span class="line">  <span class="comment">// 验证码所需数字和字母的集合</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      codeChars.push(<span class="built_in">String</span>.fromCharCode(i + <span class="number">48</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    codeChars.push(<span class="built_in">String</span>.fromCharCode(i + <span class="number">97</span>));</span><br><span class="line">    codeChars.push(<span class="built_in">String</span>.fromCharCode(i + <span class="number">65</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 组合数字和字母</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> charNum = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">52</span>);</span><br><span class="line">    code += codeChars[charNum];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (checkCode) &#123;</span><br><span class="line">    drawVerify(checkCode, code);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 绘制验证码图形</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawVerify</span>(<span class="params">cEle, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [ctx, width, height] = [cEle.getContext(<span class="string">"2d"</span>), cEle.width, cEle.height];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 清空画布</span></span><br><span class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">  <span class="comment">// 绘制背景色</span></span><br><span class="line">  ctx.fillStyle = randomColor(<span class="number">180</span>, <span class="number">240</span>);</span><br><span class="line">  ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">  <span class="comment">// 填充字体</span></span><br><span class="line">  ctx.font = <span class="string">"30px Arial"</span>;</span><br><span class="line">  ctx.fillStyle = randomColor(<span class="number">50</span>, <span class="number">160</span>);</span><br><span class="line">  ctx.fillText(value, <span class="number">20</span>, <span class="number">40</span>);</span><br><span class="line">  <span class="comment">// 绘制干扰线</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">    ctx.strokeStyle = randomColor(<span class="number">40</span>, <span class="number">180</span>);</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(randomNum(<span class="number">0</span>, width), randomNum(<span class="number">0</span>, height));</span><br><span class="line">    ctx.lineTo(randomNum(<span class="number">0</span>, width), randomNum(<span class="number">0</span>, height));</span><br><span class="line">    ctx.stroke();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 绘制干扰点</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line">    ctx.fillStyle = randomColor(<span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(randomNum(<span class="number">0</span>, width), randomNum(<span class="number">0</span>, height), <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);</span><br><span class="line">    ctx.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 验证</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [inputCode, warnToast] = [</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"inputCode"</span>).value,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"warnToast"</span>)</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (inputCode.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    warnToast.innerHTML = <span class="string">"请输入验证码！"</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode.toUpperCase() != code.toUpperCase()) &#123;</span><br><span class="line">    warnToast.innerHTML = <span class="string">"验证码错误"</span>;</span><br><span class="line">    createCode();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    warnToast.innerHTML = <span class="string">"验证码正确！"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>火狐删除各种虚线框</title>
      <link href="/2019/02/12/%E7%81%AB%E7%8B%90%E5%88%A0%E9%99%A4%E5%90%84%E7%A7%8D%E8%99%9A%E7%BA%BF%E6%A1%86/"/>
      <url>/2019/02/12/%E7%81%AB%E7%8B%90%E5%88%A0%E9%99%A4%E5%90%84%E7%A7%8D%E8%99%9A%E7%BA%BF%E6%A1%86/</url>
      
        <content type="html"><![CDATA[<ol><li><p>删除按钮虚线框</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="selector-tag">--</span> 火狐浏览器，去除按钮虚线框 <span class="selector-tag">--</span> &gt; <span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='reset']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='button']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='submit']</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='file']</span> &gt; <span class="selector-tag">input</span><span class="selector-attr">[type='button']</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>删除 range 虚线框</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='range']</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type='range']</span><span class="selector-pseudo">::-moz-focus-outer</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 基础</title>
      <link href="/2019/01/26/css-%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/01/26/css-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>css 基础知识笔记，包括专业术语介绍、css 流概述等，具体内容可以查看全文</p><a id="more"></a><h2 id="一、-专业术语概览"><a href="#一、-专业术语概览" class="headerlink" title="一、 专业术语概览"></a>一、 专业术语概览</h2><ol><li><p>属性，eg. height, width…</p></li><li><p>值的常用类别</p><ul><li><p>整数值, eg. z-index: 1</p></li><li><p>数值, eg. line-height: 1.5</p></li><li><p>百分比值, eg. padding: 20%</p></li><li><p>长度值，eg. 12px</p></li><li><p>颜色值, eg. #fff</p></li></ul></li><li><p>关键字, eg. transparent, solid</p></li><li><p>变量</p></li><li><p>长度单位分类：</p><ul><li><p>相对字体长度单位, eg. em, rem</p></li><li><p>相对视区长度单位, eg. vh, vw</p></li><li><p>绝对长度单位, eg. px</p></li></ul></li><li><p>功能符：eg. rgba, url, scale</p></li><li><p>选择器：</p><ul><li><p>类选择器, .</p></li><li><p>ID 选择器，唯一性, #</p></li><li><p>属性选择器，[]</p></li><li><p>伪类选择器，:</p></li><li><p>伪元素选择器，::before, ::after</p></li><li><p>关系选择器：后代选择器（空格连接）、相邻后代选择器（&gt;），兄弟选择器（~），相邻兄弟选择器（+）</p></li></ul></li></ol><h2 id="二、css-流"><a href="#二、css-流" class="headerlink" title="二、css 流"></a>二、css 流</h2><ol><li><p>流被破坏的原因：给块级元素设置了绝对宽度，而这个宽度实际是作用域 content-box 的，另外有设置了 border、padding、margin 等，把盒子撑大了。</p></li><li><p>防止流破坏的方式：</p><ul><li><p>宽度分离，即内容层跟包裹层分离，在包裹层设置 width，内容层设置 border、poadding、margin 等属性值。</p></li><li><p>设置 box-sizing（content-box, padding-box, border-box），兼容性不好，慎用</p></li><li><p>使用 flex 布局</p></li></ul></li><li><p>父元素没有设置 height，网上查找到顶部也没有设置 height，则子元素设置 height:100% 无效</p></li><li><p>元素支持 height: 100% 的方法：</p><ul><li><p>父元素或向上的元素设置 height</p></li><li><p>使用绝对定位</p></li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html 笔记</title>
      <link href="/2019/01/22/html-%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/01/22/html-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>html 笔记</p><a id="more"></a><h2 id="一、html-是什么？"><a href="#一、html-是什么？" class="headerlink" title="一、html 是什么？"></a>一、html 是什么？</h2><ol><li><p>html 是使用标记标签来描述网页的一种标记语言。</p></li><li><p>html 文档 = 网页。</p></li><li><p>除了空元素，其他元素都要闭合</p></li><li><p>推荐使用小写</p></li><li><p>大多数元素具有以下属性：class、id、style、title</p></li></ol><h2 id="二、常用元素："><a href="#二、常用元素：" class="headerlink" title="二、常用元素："></a>二、常用元素：</h2><ol><li><p>标题：h</p></li><li><p>段落：p</p></li><li><p>图形：img、canvas</p></li><li><p>链接：a</p><p>A. 新的浏览器中打开链接（target=“_blank”)</p><p>B. 链接到同一个页面的不同位置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#C4"</span>&gt;</span>查看 Chapter 4。<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"C4"</span>&gt;</span>Chapter 4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>C. 创建邮件链接：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:someone@microsoft.com?subject=Hello%20again"</span>&gt;</span>发送邮件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>水平线：hr</p></li><li><p>折行：br</p></li><li><p>文本格式化：b（粗体）、em（强调）、i（斜体）、small（小号）、strong（加重语气）、sub（下标字）、sup（上标字）、ins（插入字）、del（删除字）</p></li><li><p>预格式文本：pre</p></li><li><p>地址：address</p></li><li><p>块引用：blockquote</p></li><li><p>著作标题：cite</p></li><li><p>表格：table、caption（标题）、tr（行）、th（表头）、td（单元格）、colspan（跨行属性）、rowspan（跨列属性）、cellpadding（单元格间距）、</p></li><li><p>列表：ul（无序列表，type：disc、circle、square）、ol（有序列表，type：A、a、I、i）、li（列表项）</p></li><li><p>语义元素：header（页眉）、nav（导航链接的容器）、section（章节）、article（独立的文章）、aside（侧栏）、footer（页脚）</p></li><li><p>表单：form(action、method, target)、<a href="&#39;http://www.w3school.com.cn/html/html_form_input_types.asp&#39;">input</a>(name、value、输入限制、输入类型)、select、option（selected）、textarea、button、datalist</p></li><li><p>媒体元素：audio、embed、video</p></li><li><p>其他：div、span</p></li></ol><h2 id="三、元素分类："><a href="#三、元素分类：" class="headerlink" title="三、元素分类："></a>三、元素分类：</h2><ol><li><p>块级元素：在浏览器显示时，通常会以新行来开始和结束</p></li><li><p>内联元素：内联元素在显示时通常不会以新行开始</p></li></ol><h2 id="四、url-组成：scheme-host-domain-port-path-filename"><a href="#四、url-组成：scheme-host-domain-port-path-filename" class="headerlink" title="四、url 组成：scheme://host.domain:port/path/filename"></a>四、url 组成：scheme://host.domain:port/path/filename</h2><ol><li><p>scheme - 因特网服务的类型。最常见的类型是 http， 还包括：https、ftp、file</p></li><li><p>host - 域主机（http 的默认主机是 www）</p></li><li><p>domain - 域名，比如 w3school.com.cn</p></li><li><p>:port - 端口号（http 的默认端口号是 80）</p></li><li><p>path - 服务器上的路径（如果省略，则文档必须位于网站的根目录中）。</p></li><li><p>filename - 文档/资源的名称</p></li></ol><h2 id="五、HTML-图形"><a href="#五、HTML-图形" class="headerlink" title="五、HTML 图形"></a>五、HTML 图形</h2><ol><li><p>canvas：</p><p>(1) 本质：创建画布，使用 JavaScript 画布上绘制图像，本身不具备绘图功能。</p><p>(2) 绘图步骤：获取元素(getContext(“2d”)) =&gt; 设置形状、样式等</p><p>(3) 常用属性：fillStyle、</p><p>(4) 常用事件：getContext、fillRect、moveTo、lineTo、stroke、beginPath、arc、closePath、fill、createLinearGradient、drawImageaddColorStop</p></li><li><p>svg：</p><p>(1) 本质：可伸缩的矢量图形</p><p>(2) 图形创建方式：使用 xml 定义</p><p>(3) 特性：图像在放大或改变尺寸的情况下其图形质量不变</p></li></ol><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ol><li><p>响应式 web 设计（RWD，Responsive Web Design）， 是能够以可变尺寸传递网页的一种网页布局模式。</p></li><li><p>实体符号：<a href="http://www.w3school.com.cn/html/html_entities.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/html/html_entities.asp</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python3 安装</title>
      <link href="/2019/01/06/python3%E5%AE%89%E8%A3%85/"/>
      <url>/2019/01/06/python3%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>python3 安装指南</p><a id="more"></a><h3 id="unbuntu"><a href="#unbuntu" class="headerlink" title="unbuntu"></a>unbuntu</h3><ol><li><p><code>yum -y install openssl*</code> (pip 依赖 ssl 环境)</p></li><li><p>编译安装 python3：</p><ul><li><p><a href="https://www.python.org/ftp/python/" target="_blank" rel="noopener">下载地址</a></p></li><li><p>安装步骤： tar zxvf Python-3.5.2.tgz =&gt; cd Python-3.5.2 =&gt; ./configure =&gt; make &amp;&amp; make install</p></li></ul></li><li><p>安装 pip3: <code>sudo apt-get install python3-pip</code></p></li></ol><h3 id="centOs"><a href="#centOs" class="headerlink" title="centOs"></a>centOs</h3><ol><li><p>安装 yum-utils, 用于管理 repository 及扩展包: <code>sudo yum install yum-utils</code></p></li><li><p>使用 yum-builddep 为 Python3 构建环境,安装缺失的软件依赖： <code>sudo yum-builddep python</code></p></li><li><p>下载对应版本的 Python 包：<code>curl -O https://www.python.org/ftp/python/3.5.0/Python-3.5.0.tgz</code></p></li><li><p>解压 Python 包：<code>tar xf Python-3.5.0.tgz</code></p></li><li><p>安装 Python: <code>cd Python-3.5.0</code> =&gt; <code>./configure</code> =&gt; <code>make</code> =&gt; <code>sudo make install</code></p></li><li><p>检测 Python 是否安装完成：<code>python3 -V</code></p></li><li><p>把 python3 作为默认版本：<code>vi /etc/profile.d/python.sh</code> =&gt; <code>alias python=&#39;/usr/local/bin/python3.5&#39;</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vscode 配置 Wsl 并配置 Node 环境</title>
      <link href="/2018/12/18/wsl%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/12/18/wsl%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<ol><li><p>下载 WSL Guideline，里面会有配置安装 wsl 相关说明</p></li><li><p>切换终端到 wsl</p></li><li><p>安装 node：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ touch ~/.bashrc</span><br><span class="line">$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh | bash</span><br><span class="line">// restart bash</span><br><span class="line">$ nvm install node</span><br></pre></td></tr></table></figure><ol start="4"><li><p>安装 vue-cli3：<code>npm install -g @vue/cli</code></p></li><li><p>可以开始使用啦</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编辑器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web 性能优化 —— 首屏优化</title>
      <link href="/2018/12/02/%E9%A6%96%E5%B1%8F%E4%BC%98%E5%8C%96/"/>
      <url>/2018/12/02/%E9%A6%96%E5%B1%8F%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>花了两周多，终于完成了一个基本无 bug 的项目，但是有个比较大的问题就是：在 webpack 测试环境下，编译时间太久了，app.js 太大了，导致页面初始化极其的慢，虽然说正式环境下不会有这个问题，同事也说测试环境 1000 kb 左右正常，不用优化，但是自己的页面打开慢还是让人感到极其不爽的，花了两个钟左右，我把 app.js 从 1983 kb 缩小到了 1083 kb，压缩之后为 273 kb，首屏运行速度从原来的可能要十多秒，提升到了 166 ms，我是怎么做到这些的呢？主要策略如下：</p><p>首先，从包开始优化，我用的包就一个 elementUI，用过的人应该都知道，这个包有几百 kb，简直就是恶魔啊，所以，必须要打压他一下。这里的主要策略就是按需引入 elementUI，关于 elementUI 的按需引入，官方有介绍，看<a href="http://element-cn.eleme.io/#/zh-CN/component/quickstart" target="_blank" rel="noopener">这里</a>，这里我要讲的是，官方可能叫你这么引入这个库的：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">在 main.js 引入改库</span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button, Select &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"></span><br><span class="line">Vue.component(Button.name, Button);</span><br><span class="line">Vue.component(Select.name, Select);</span><br><span class="line"><span class="comment">/* 或写为</span></span><br><span class="line"><span class="comment"> * Vue.use(Button)</span></span><br><span class="line"><span class="comment"> * Vue.use(Select)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>这种引用方式在实际引用中，会大大增加 app.js 的体积，所以，这里，我是把 elemenui 相关的引用放到相应的组件里面，以组件的形式去引用，这样，app.js 的体积会缩小很多。</p><p>然后，就是写代码的习惯了，比如引用组件，尽量用以下形式，代替 import from 的方式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Loading = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/Common/loading'</span>);</span><br></pre></td></tr></table></figure><p>这种方式引入组件的好处是，webpack 会对代码进行自动分割，异步加载组件，从而实现路由的懒加载，根据需求引入不同的组件，而不是第一次加载就全部引入。更详细的解释看<a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E6%8A%8A%E7%BB%84%E4%BB%B6%E6%8C%89%E7%BB%84%E5%88%86%E5%9D%97" target="_blank" rel="noopener">这里</a></p><p>接着就是把代码里的 console 相关的语句去掉啦，别看 console 只是稍微的调用了一下函数，看起来对性能影响不大，但是代码里满是 console 语句，就会有一点影响了，所以还是能去掉就去掉为好。除了去除 console 相关语句，别忘了把多余的代码和组件也去掉，这会一定程度上减少包的体积。</p><p>最后就是网络请求能少则少啦，但是个人不太推荐用缓存的，问题太多了，后期。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 性能优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端性能优化</title>
      <link href="/2018/10/22/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
      <url>/2018/10/22/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<ol><li>内容优化</li></ol><ul><li>减少 HTTP 请求数:这条策略是最重要最有效的，因为一个完整的请求要经过 DNS 寻址，与服务器建立连接，发送数据，等待服务器响应，接收数据这样一个消耗时间成本和资源成本的复杂的过程。常见方法：合并多个 CSS 文件和 js 文件，利用 CSS Sprites 整合图像，Inline Images(使用 data：URL scheme 在实际的页面嵌入图像数据 )，合理设置 HTTP 缓存等。</li><li>减少 DNS 查找</li><li>避免重定向</li><li>使用 Ajax 缓存</li><li>延迟加载组件,预加载组件</li><li>减少 DOM 元素数量:页面中存在大量 DOM 元素,会导致 javascript 遍历 DOM 的效率变慢。</li><li>最小化 iframe 的数量：iframes 提供了一个简单的方式把一个网站的内容嵌入到另一个网站中。但其创建速度比其他包括 JavaScript 和 CSS 的 DOM 元素的创建慢了 1-2 个数量级。</li><li>避免 404：HTTP 请求时间消耗是很大的，因此使用 HTTP 请求来获得一个没有用处的响应（例如 404 没有找到页面）是完全没有必要的，它只会降低用户体验而不会有一点好处。</li></ul><ol start="2"><li>服务器优化</li></ol><ul><li>使用内容分发网络（CDN）：把网站内容分散到多个、处于不同地域位置的服务器上可以加快下载速度。</li><li>GZIP 压缩</li><li>设置 ETag：ETags（Entity tags，实体标签）是 web 服务器和浏览器用于判断浏览器缓存中的内容和服务器中的原始内容是否匹配的一种机制。</li><li>提前刷新缓冲区</li><li>对 Ajax 请求使用 GET 方法</li><li>避免空的图像 src</li></ul><ol start="3"><li>Cookie 优化</li></ol><ul><li>减小 Cookie 大小</li><li>针对 Web 组件使用域名无关的 Cookie</li></ul><ol start="4"><li>javascript 优化</li></ol><ul><li>将 JavaScript 脚本放在页面的底部。</li><li>将 JavaScript 和 CSS 作为外部文件来引用：在实际应用中使用外部文件可以提高页面速度，因为 JavaScript 和 CSS 文件都能在浏览器中产生缓存。</li><li>缩小 JavaScript 和 CSS</li><li>删除重复的脚本</li><li>最小化 DOM 的访问：使用 JavaScript 访问 DOM 元素比较慢。</li><li>开发智能的事件处理程序</li><li>javascript 代码注意：谨慎使用 with,避免使用 eval Function 函数,减少作用域链查找。</li></ul><ol start="5"><li>图像优化</li></ol><ul><li>优化图片大小</li><li>通过 CSS Sprites 优化图片</li><li>不要在 HTML 中使用缩放图片</li><li>favicon.ico 要小而且可缓存</li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 性能优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript 面向对象编程</title>
      <link href="/2018/10/22/javaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"/>
      <url>/2018/10/22/javaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>js 面向对象编程概述</p><a id="more"></a><ol><li><p><strong>构造函数创建、继承和扩展类</strong>：为了区分普通函数与构造函数，构造函数首字母大写，构造函数创建类，并进行类的继承和派生，相比于接下来要说的 class 创建、继承和派生类而言，略显得复杂。</p><ul><li><p><strong>构造函数创建类</strong>：通过一个构造函数创建一个原始类 =&gt; 给原始类定义基本属性和原型方法，通过 new 构造函数，初始化一个新的类；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = props.name || <span class="string">"匿名"</span>;</span><br><span class="line">  <span class="keyword">this</span>.grade = props.grade || <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">Student.prototype.hello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>!`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createStudent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Student(props || &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> xiaoming = createStudent(&#123;</span><br><span class="line">  name: <span class="string">"小明"</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// console.log(xiaoming.grade);</span></span><br><span class="line"><span class="comment">// xiaoming.hello()</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><strong>构造函数继承类</strong>：属性的继承，利用函数的 call 方法，调用上一个构造函数创建的类，参数传入相应的属性以及 this 值，原型方法的继承，通过创建一个空的对象原型作为中介，把父类的原型方法传递给子类，实现子类继承父类的目的；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原型继承</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherits</span>(<span class="params">Child, Parent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  F.prototype = Parent.prototype;</span><br><span class="line">  Child.prototype = <span class="keyword">new</span> F();</span><br><span class="line">  Child.constructor = Child;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = props.name || <span class="string">"Unnamed"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype.hello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>!`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrimaryStudent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 继承 student name</span></span><br><span class="line">  Student.call(<span class="keyword">this</span>, props);</span><br><span class="line">  <span class="keyword">this</span>.grade = props.grade || <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 原型方法继承</span></span><br><span class="line">inherits(PrimaryStudent, Student);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><strong>构造函数扩展类</strong>：在原型上添加新的方法，即可；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PrimaryStudent.prototype.getGrade = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.grade;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>class 关键字创建、继承和派生类</strong>：class 关键字是 es6 提出来的，极大的便利了 javaScript 类的操作，实例代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  hello() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> xiaojun = <span class="keyword">new</span> Teacher(<span class="string">"小君"</span>);</span><br><span class="line">xiaojun.hello();</span><br><span class="line"><span class="comment">// 类派生</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrimaryTeacher</span> <span class="keyword">extends</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, grade) &#123;</span><br><span class="line">    <span class="comment">// 调用父类的构造函数</span></span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">    <span class="keyword">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line">  myGrade() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`I am at grade <span class="subst">$&#123;<span class="keyword">this</span>.grade&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> xiaohong = <span class="keyword">new</span> PrimaryTeacher(<span class="string">"小红"</span>, <span class="number">3</span>);</span><br><span class="line">xiaohong.myGrade();</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript 函数</title>
      <link href="/2018/10/22/javaScript%E5%87%BD%E6%95%B0/"/>
      <url>/2018/10/22/javaScript%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>js 函数概述</p><a id="more"></a><ol><li><p><strong>箭头函数</strong>： 相当于匿名函数的简写，不同之处在于及箭头函数的 this 指向的是当前的词法作用域，也就是说省去了写 <code>var that = this</code> 的过程，可以直接使用 this；</p></li><li><p><strong>generator</strong>：类似 python 的生成器，不同的是，python 的生成器一般是写在 list 里，而 es6 的 generator 是写在函数里，形如：function*() {}，yield 在 generator 里可以多次返回函数值，而不用像 functoin 一样进行多次调用；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//裴波那契数列</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fib</span>(<span class="params">max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> t,</span><br><span class="line">    a = <span class="number">0</span>,</span><br><span class="line">    b = <span class="number">1</span>,</span><br><span class="line">    n = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (n &lt; max) &#123;</span><br><span class="line">    <span class="keyword">yield</span> a;</span><br><span class="line">    [a, b] = [b, a + b];</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">of</span> fib(<span class="number">10</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>解构赋值</strong>：简化代码的一种手段，可以同时对多个变量进行赋值操作，上面的代码 <code>[a, b] = [b, a + b]</code> 就用到了解构赋值，再把上面的示例代码用解构赋值改一下，得到如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fib</span>(<span class="params">max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> t;</span><br><span class="line">  <span class="keyword">var</span> [a, b, n] = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>];</span><br><span class="line">  <span class="keyword">while</span> (n &lt; max) &#123;</span><br><span class="line">    <span class="keyword">yield</span> a;</span><br><span class="line">    [a, b] = [b, a + b];</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">of</span> fib(<span class="number">10</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>闭包</strong>: 通常别人都会说闭包是用来延长函数作用域链的，但是听到这个词往往会使人一脸蒙蔽，廖雪峰的 js 教程中说闭包有以下功用：延迟执行函数、 多参数的函数变成单参数的函数、封装私有变量，个人感觉还是比较通俗易懂的，下面是相关代码示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包 | 延迟执行函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lazy_sum</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> f = lazy_sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="comment">// console.log(f);</span></span><br><span class="line"><span class="comment">// console.log(f());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 闭包 | 多参数的函数变成单参数的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make_pow</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.pow(x, n);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> pow2 = make_pow(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> pow3 = make_pow(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// console.log(pow2(5));</span></span><br><span class="line"><span class="comment">// console.log(pow3(7));</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 闭包 | 封装私有变量（可以考虑用这种方法进行状态管理）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create_counter</span>(<span class="params">innitial</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> x = innitial || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    inc: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      x += <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> c1 = create_counter();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> x = c1.inc();</span><br><span class="line">  <span class="comment">//   console.log(x);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> c2 = create_counter(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> x = c2.inc();</span><br><span class="line">  <span class="comment">//   console.log(x);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>map</strong>: 将一个函数作用在一个数组上，接收带一个参数的函数，是 array 的一个方法，可以方便快捷的对数组进行运算，省略循环过程，示例代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.pow(x, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> results = arr.map(pow);</span><br><span class="line"><span class="built_in">console</span>.log(results);</span><br></pre></td></tr></table></figure></li><li><p><strong>reduce</strong>: 将一个函数作用在一个数组上，接收带两个参数的函数，对函数的结果做累积计算，可以方便快捷的对数组进行运算，省略循环过程，示例代码如下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> mul = arr1.reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y);</span><br><span class="line"><span class="built_in">console</span>.log(mul);</span><br></pre></td></tr></table></figure></li><li><p><strong>filter</strong>: 过滤数组元素，接收一个函数作为参数，函数内容为过滤条件。filter 的回调函数可以接收多个参数，element 参数返回的是数组的元素，index 返回数组元素的索引，self 参数返回整个数组，相关示例代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 过滤偶元素</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line"><span class="keyword">let</span> r = arr2.filter(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> !== <span class="number">0</span>);</span><br><span class="line"><span class="comment">// console.log(r);</span></span><br><span class="line"><span class="comment">// 过滤空字符串</span></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="string">"C"</span>, <span class="string">""</span>];</span><br><span class="line"><span class="keyword">let</span> r1 = arr3.filter(<span class="function"><span class="params">s</span> =&gt;</span> s &amp;&amp; s.trim());</span><br><span class="line"><span class="comment">// console.log(r1);</span></span><br><span class="line"><span class="comment">// 利用回调函数去除数组中的重复元素</span></span><br><span class="line"><span class="keyword">let</span> arr4 = [</span><br><span class="line">  <span class="string">"apple"</span>,</span><br><span class="line">  <span class="string">"strawberry"</span>,</span><br><span class="line">  <span class="string">"banana"</span>,</span><br><span class="line">  <span class="string">"pear"</span>,</span><br><span class="line">  <span class="string">"apple"</span>,</span><br><span class="line">  <span class="string">"orange"</span>,</span><br><span class="line">  <span class="string">"orange"</span>,</span><br><span class="line">  <span class="string">"strawberry"</span></span><br><span class="line">];</span><br><span class="line"><span class="keyword">let</span> r2 = arr4.filter(<span class="function">(<span class="params">element, index, self</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> self.indexOf(element) === index;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// console.log(r2);</span></span><br></pre></td></tr></table></figure></li><li><p><strong>sort</strong>：排序方法，直接修改原来的数组，默认是把数组元素转换为字符串进行排序，接收有一个函数作为参数，函数内容是排序规则，示例代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数字按从大到小排序</span></span><br><span class="line"><span class="keyword">let</span> nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">nums.sort(<span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (x &lt; y) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript-Promise</title>
      <link href="/2018/10/22/javaScript-promise/"/>
      <url>/2018/10/22/javaScript-promise/</url>
      
        <content type="html"><![CDATA[<p>promise 对于管理异步状态很有用，可以串行执行异步任务，也可以并行执行异步任务，下面是一个简单的串行执行一步步任务的例子：</p><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> steps = [<span class="string">"第一步"</span>, <span class="string">"第二步"</span>, <span class="string">"第三步"</span>, <span class="string">"最后"</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showStep1</span>(<span class="params">step1</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(step1);</span><br><span class="line">    &#125;, <span class="number">500</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showStep2</span>(<span class="params">step2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(step2);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> test = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">test.then(showStep1(steps[<span class="number">0</span>]));</span><br><span class="line">test.then(showStep2(steps[<span class="number">1</span>]));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web请求加密</title>
      <link href="/2018/10/22/web%E8%AF%B7%E6%B1%82%E5%8A%A0%E5%AF%86/"/>
      <url>/2018/10/22/web%E8%AF%B7%E6%B1%82%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<ol><li>代码：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CryptoJS <span class="keyword">from</span> <span class="string">'crypto-js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiSign</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    (<span class="keyword">this</span>.wordMap = &#123;</span><br><span class="line">      <span class="string">'*'</span>: <span class="string">'%2A'</span>,</span><br><span class="line">      <span class="string">'('</span>: <span class="string">'%28'</span>,</span><br><span class="line">      <span class="string">')'</span>: <span class="string">'%29'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">      (<span class="keyword">this</span>.stdUrlsafe = &#123;</span><br><span class="line">        <span class="string">'+'</span>: <span class="string">'-'</span>,</span><br><span class="line">        <span class="string">'/'</span>: <span class="string">'_'</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  encode(str) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">encodeURIComponent</span>(str).replace(<span class="regexp">/[*()]/g</span>, v =&gt; &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.wordMap[v] || v;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  sign(params) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(params);</span><br><span class="line">    <span class="keyword">if</span> (keys.length === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">'params empty'</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!params.F_accesstoken) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">'F_accesstoken empty'</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    keys.sort();</span><br><span class="line">    <span class="keyword">const</span> encryptStr = keys</span><br><span class="line">      .map(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">this</span>.encode(v), <span class="string">'='</span>, <span class="keyword">this</span>.encode(params[v])].join(<span class="string">''</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .join(<span class="string">'&amp;'</span>);</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="string">'01'</span> +</span><br><span class="line">      CryptoJS.HmacSHA1(encryptStr, params.F_accesstoken)</span><br><span class="line">        .toString(CryptoJS.enc.Base64)</span><br><span class="line">        .replace(<span class="regexp">/[+/]/g</span>, v =&gt; &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">this</span>.stdUrlsafe[v] || v;</span><br><span class="line">        &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> apiSign = <span class="keyword">new</span> ApiSign();</span><br><span class="line"><span class="keyword">export</span> &#123; apiSign &#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>使用方法</li></ol><ul><li>安装 <a href="https://www.npmjs.com/package/crypto-js" target="_blank" rel="noopener">crypto-js</a></li><li><p>使用示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; apiSign &#125; <span class="keyword">from</span> <span class="string">'@/utils/sign.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> params = &#123;&#125;;</span><br><span class="line">params.F_sign = apiSign.sign(params);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Axios网络请求封装</title>
      <link href="/2018/10/22/axios%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85/"/>
      <url>/2018/10/22/axios%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>axios 是网页请求库中的新星，经常会看到他与 vue 携手，该库对 http 请求已经封装得很好了，但是，由于我需要一些更加定制化的操作，比如加密请求参数等，所以这里进行了二次封装。</p><a id="more"></a><ol><li>代码：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span>;</span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">"qs"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.ins = axios.create(&#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        <span class="string">"Content-Type"</span>: <span class="string">"application/x-www-form-urlencoded"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span>(url, param = &#123;&#125;, config = &#123;&#125;) &#123;</span><br><span class="line">    config.params = param;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ins.get(url, config);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  post(url, data = &#123;&#125;, config = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ins.post(url, qs.stringify(data), config);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span>(url, param = &#123;&#125;, config = &#123;&#125;) &#123;</span><br><span class="line">    config.params = param;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ins.delete(url, config);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  put(url, body = &#123;&#125;, config = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.ins.put(url, body, config);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> http = <span class="keyword">new</span> Http();</span><br><span class="line"><span class="keyword">export</span> &#123; http &#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>使用方法：</li></ol><ul><li>安装 <a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a></li><li>安装 <a href="https://www.npmjs.com/package/qs" target="_blank" rel="noopener">qs</a></li><li><p>使用示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; http &#125; <span class="keyword">from</span> <span class="string">'@/service.js'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// http get example</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">''</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;&#125;</span><br><span class="line">http.get(url, &#123;</span><br><span class="line">  params</span><br><span class="line">&#125;, &#123;&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// http post example</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">''</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> config = &#123;</span><br><span class="line">  headers: &#123;</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">http.post(url, params, config)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue动态改变title</title>
      <link href="/2018/10/22/vue%E5%8A%A8%E6%80%81%E6%94%B9%E5%8F%98title/"/>
      <url>/2018/10/22/vue%E5%8A%A8%E6%80%81%E6%94%B9%E5%8F%98title/</url>
      
        <content type="html"><![CDATA[<ol><li>代码：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'../router'</span>;</span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> n = to.query.subjectId;</span><br><span class="line">  <span class="keyword">let</span> x = [<span class="string">'mike'</span>, <span class="string">'john'</span>, <span class="string">'sarah'</span>];</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="string">'4'</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = x[<span class="number">2</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n === <span class="string">'5'</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = x[<span class="number">1</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n === <span class="string">'6'</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = x[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="2"><li>在 main.js 引入即可，使用示例：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span>;</span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'element-ui/lib/theme-chalk/index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./utils/title'</span>;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span>;</span><br><span class="line">Vue.use(ElementUI);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 项目搭建步骤</title>
      <link href="/2018/10/22/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E6%AD%A5%E9%AA%A4/"/>
      <url>/2018/10/22/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="一、-初始化项目"><a href="#一、-初始化项目" class="headerlink" title="一、 初始化项目"></a>一、 初始化项目</h3><ol><li>安装 vue-cli3: <code>sudo npm install -g @vue/cli-service-global</code></li><li>卸载旧版本的 vue-cli: <code>sudo npm uninstall -g vue-cli</code></li><li>更新到 vue-cli3： <code>sudo npm install -g @vue/cli</code></li><li>创建项目，选项：preset（default）、package manage(npm)、安装相关插件（建议不要用淘宝的 npm，因为在使用的时候有点坑，之前项目中就被这个坑过）: <code>vue create flash-experiment</code></li><li>切换到项目目录: <code>cd flash-experiment</code></li><li>启动项目： <code>npm run serve</code></li><li>查看 vue-cli 相关命令: <code>vue create --help</code></li><li>打开图形化项目管理器，查看相关配置：<code>vue ui</code></li><li><p>添加插件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue add @vue/eslint</span><br><span class="line">vue add router <span class="comment">//特殊添加插件的情况</span></span><br><span class="line">vue add vuex   <span class="comment">//特殊添加插件的情况</span></span><br></pre></td></tr></table></figure></li><li><p>加入 sass 支持，把一下语句加到 package.json 中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"node-sass"</span>: <span class="string">"^4.9.0"</span>,</span><br><span class="line"><span class="string">"sass-loader"</span>: <span class="string">"^7.0.1"</span>,</span><br></pre></td></tr></table></figure></li><li><p>添加组件，在视图中注册组件，并配置相关路由</p></li><li>编写组件</li><li>引入 <a href="http://element-cn.eleme.io/#/zh-CN/component/pagination" target="_blank" rel="noopener">elementUI</a></li><li>引入 <a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a></li></ol><h3 id="二、-git-配置"><a href="#二、-git-配置" class="headerlink" title="二、 git 配置"></a>二、 git 配置</h3><ol><li><p>之前没有 git</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd existing_folder</span><br><span class="line">git init</span><br><span class="line">git remote add origin git@gitlab.dreamdev.cn:ebag/flash-experiment.git</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br></pre></td></tr></table></figure></li><li><p>已有 git</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote set-url origin git@gitlab.dreamdev.cn:ebag/live-experiment.git</span><br><span class="line">git remote -v</span><br><span class="line">git branch --set-upstream-to=origin/develop develop</span><br><span class="line">git branch --set-upstream-to=origin/master master</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-Config 配置模板</title>
      <link href="/2018/10/22/vue-config%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF/"/>
      <url>/2018/10/22/vue-config%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> resolve = <span class="function"><span class="params">dir</span> =&gt;</span> path.join(__dirname, dir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> urlPath = process.env.NODE_ENV === <span class="string">'development'</span> ? <span class="string">'./'</span> : <span class="string">'/item-name/'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// 基本路径</span></span><br><span class="line">  baseUrl: urlPath,</span><br><span class="line">  <span class="comment">// 生产环境是否生成 sourceMap 文件</span></span><br><span class="line">  productionSourceMap: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 服务器端口号</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    port: <span class="number">1234</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  chainWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.resolve.alias</span><br><span class="line">      .set(<span class="string">'@$'</span>, resolve(<span class="string">'src'</span>))</span><br><span class="line">      .set(<span class="string">'components'</span>, resolve(<span class="string">'src/components'</span>))</span><br><span class="line">      .set(<span class="string">'utils'</span>, resolve(<span class="string">'src/utils'</span>))</span><br><span class="line">      .set(<span class="string">'service'</span>, resolve(<span class="string">'src/service'</span>))</span><br><span class="line">      .set(<span class="string">'views'</span>, resolve(<span class="string">'src/views'</span>))</span><br><span class="line">      .set(<span class="string">'assets'</span>, resolve(<span class="string">'src/assets'</span>));</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitlab Ci 配置模板</title>
      <link href="/2018/10/22/gitlab-ci%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF/"/>
      <url>/2018/10/22/gitlab-ci%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<p>gitlab ci 配置模板</p><a id="more"></a><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">build</span> <span class="attr">site:</span></span><br><span class="line"><span class="attr">  image:</span> <span class="attr">node:latest</span></span><br><span class="line"><span class="attr">  stage:</span> <span class="string">build</span></span><br><span class="line"><span class="attr">  script:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">&amp;&amp;</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"><span class="attr">  artifacts:</span></span><br><span class="line"><span class="attr">    expire_in:</span> <span class="number">1</span> <span class="string">week</span></span><br><span class="line"><span class="attr">    paths:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">dist</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pages:</span></span><br><span class="line"><span class="attr">  stage:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">  script:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">rm</span> <span class="bullet">-rf</span> <span class="string">public</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">mkdir</span> <span class="string">public</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">mv</span> <span class="string">dist/*</span> <span class="string">public</span></span><br><span class="line"><span class="attr">  artifacts:</span></span><br><span class="line"><span class="attr">    expire_in:</span> <span class="number">3</span> <span class="string">days</span></span><br><span class="line"><span class="attr">    paths:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">public</span></span><br><span class="line"><span class="attr">  only:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">develop</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fork 同步源代码</title>
      <link href="/2018/09/09/%E5%90%8C%E6%AD%A5%E6%BA%90%E4%BB%A3%E7%A0%81/"/>
      <url>/2018/09/09/%E5%90%8C%E6%AD%A5%E6%BA%90%E4%BB%A3%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<ol><li><p>查看远程分支状态：<code>git remote -v</code></p></li><li><p>确定一个将被同步给 fork 远程的上游仓库：<code>git remote add upstream &lt;origin.git&gt;</code></p></li><li><p>再次查看状态确认是否配置成功：<code>git remote -v</code></p></li><li><p>从上游仓库 fetch 分支和提交点，提交给本地 master： <code>git fetch upstream</code></p></li><li><p>把 upstream/master 分支合并到本地 master 上：<code>git merge upstream/master</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序踩坑</title>
      <link href="/2018/09/09/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B8%A9%E5%9D%91/"/>
      <url>/2018/09/09/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<ol><li><p>暂时还没有转发到朋友圈的 api，可以通过 canvas 绘制图片 保存到用户相册，用户通过小程序码自行分享到朋友圈的方式实现，git 上有一个比较成熟的组件；</p></li><li><p>入门方式：概览官方文档，熟悉里面有哪些组件、框架、API 等，在实际项目开发中需要的时候找到相应的例子使用就好了，此外，生命周期需要详细了解，因为实际的开发中会经常涉及到；</p></li><li><p>微信开发工具有时会抽风，处理方式是清除缓存 =&gt; 重启；</p></li><li><p>在 request 之前，确保已经服务器域名配置跟 request 的域名一致，不然会报 403 错误；</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Js-Html转文本</title>
      <link href="/2018/08/25/html%E8%BD%AC%E6%96%87%E6%9C%AC(js)/"/>
      <url>/2018/08/25/html%E8%BD%AC%E6%96%87%E6%9C%AC(js)/</url>
      
        <content type="html"><![CDATA[<p>最近在折腾用 js 实现 html 转文本的东东，包括 html 转 docx、doc 以及 pdf 等文档，首选当然是用别人造好的轮子啦。</p><a id="more"></a><p>html 转 pdf 用的轮子是 jsPdf，这东西好用是好用，但是有一个很大的缺点，对中文的支持太差了，我用的是 fromhtml 方法，研究文档研究了几天，还是没发现对中文支持的方法，尝试了各种奇技淫巧（换字体，解码等）后，发现它这个方法根本就不支持中文，当然他官方就声明了不支持中文。不过他的 addhtml 方法勉强实现了我的需求，但是因为是采用截图方式，断页很不智能，甚至会出现文字被生生的拦腰截断的情况，加之生成的 pdf 像素实在惨不忍睹，决定还是放弃了。具体的实现，网上有很多的文档，大家可以自行查阅，我也是根据自己的需求定制了而已，所以源码示例就不做过多分享了。</p><p>html 转 word 文档，选的轮子是 html-docx，关于这个轮子的资料很少，不过看一下源码及实例还是很快上手的，网上说什么缺点是要用在线编辑器什么的，感觉就是没有自己动脑想过，直接抄官方示例的。官方示例摆出来的虽然是要用一个在线编辑器，但是我们可以根据自己的需求进行改良，比如我的需求是根据选定网页的不同区域，下载不同内容的 word 文档，就不容许出现什么在线编辑器啦，好吧，没什么要说了，看代码吧。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public downloadDocx(printArea: any, outputName: string) &#123;</span><br><span class="line">    // +++++++ 样式定制 +++++++</span><br><span class="line">    const styles = `</span><br><span class="line">        //code here</span><br><span class="line">    `;</span><br><span class="line"></span><br><span class="line">    // 样式加载</span><br><span class="line">    let styleTagInnerHtml = '<span class="tag">&lt;<span class="name">style</span>&gt;</span>';</span><br><span class="line">    styleTagInnerHtml += styles;</span><br><span class="line">    styleTagInnerHtml += '<span class="tag">&lt;/<span class="name">style</span>&gt;</span>';</span><br><span class="line"></span><br><span class="line">    const content = '<span class="meta">&lt;!DOCTYPE html&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span>' +</span><br><span class="line">      '<span class="tag">&lt;<span class="name">head</span>&gt;</span>' + styleTagInnerHtml + '<span class="tag">&lt;/<span class="name">head</span>&gt;</span>' +</span><br><span class="line">      '<span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>' printArea.outerHTML + '<span class="tag">&lt;/<span class="name">div</span>&gt;</span>';</span><br><span class="line"></span><br><span class="line">    // +++++++ html 转 word +++++++</span><br><span class="line">    const converted = htmlDocx.asBlob(content);</span><br><span class="line">    saveAs(converted, outputName + '.docx');</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>上面的代码是我写的示例，当然涉及业务需求更加复杂的逻辑就不展示了，上面的示例代码分为三部分。</p><p>第一部分是样式的定制，因为这个轮子要转 word 需要重新写一份 html 文档，而这份文档是检索不到我们在外面写的 css 的，只能检索得到 html 文档的 style 标签里的 css，所以需要根据自己的需求重新生成一份 css 文件，放到 html 文档里面。还有一个坑就是，word 并不是支持所有 css 属性的，一些比较新的属性建议还是不要用了，用老一点的方法实现吧。</p><p>第二部分是 css 文档部分，这部分主要是生成新的文档，用于转换成 word 文档。</p><p>第三部分是用轮子转换编码格式并保存为 word 文档的部分，这里其实是用了两个轮子：html-docx 和 file-saver，html-docx 这个轮子用于转换编码格式，file-saver 用于保存文档，后缀可以根据自己的需求改，但是要记得编码格式要对应上。</p><p>当然，我这里只是一个简单的示例，切无生搬硬套，可以根据自己的需求进行定制。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文本转换 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N * N 阶矩阵算法 </title>
      <link href="/2018/07/30/n-n-%E9%98%B6%E7%9F%A9%E9%98%B5%E7%AE%97%E6%B3%95/"/>
      <url>/2018/07/30/n-n-%E9%98%B6%E7%9F%A9%E9%98%B5%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>n * n 阶矩阵的解法有几种方式，分而治之、暴力破解等，我这里用的方法就是暴力破解的方法，时间和空间复杂度肯定是比较差的，不过能快速获得结果而已</p><a id="more"></a><p>n * n 阶矩阵的解法有几种方式，分而治之、暴力破解等，我这里用的方法就是暴力破解的方法，时间和空间复杂度肯定是比较差的，不过能快速获得结果而已，用 js 的实现代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">matrix</span>(<span class="params">A, B</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = A.length;</span><br><span class="line">    <span class="keyword">var</span> C = [];</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; n; i++ )&#123;</span><br><span class="line">        C[i] = [];</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">var</span> j = <span class="number">0</span>; j &lt; n; j++ )&#123;</span><br><span class="line">            C[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> k = <span class="number">0</span>; k &lt; n; k++ )&#123;</span><br><span class="line">                C[i][j] += A[i][k] * B[k][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(C);</span><br><span class="line">&#125;</span><br><span class="line">matrix([[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], [[<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">4</span>]]);</span><br><span class="line"><span class="comment">//[ [ 5, 10 ], [ 13, 22 ] ]</span></span><br><span class="line"><span class="string">``</span><span class="string">`</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 矩阵 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两数求和问题</title>
      <link href="/2018/07/30/%E4%B8%A4%E6%95%B0%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/"/>
      <url>/2018/07/30/%E4%B8%A4%E6%95%B0%E6%B1%82%E5%92%8C%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">给定一个整数数组和一个目标值，找出数组中和为目标值的两个数。</span><br><span class="line">你可以假设每个输入只对应一种答案，且同样的元素不能被重复利用。</span><br></pre></td></tr></table></figure><p>实现方法，暴力破解法，大致思路是遍历数组，跟目标值减去数组中的元素的值做比较，找出对应的值，返回相应的索引，放到新的数组中，再把对应的被减数的索引添加到新数组中，测试用时 40ms，python 代码如下：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span><span class="params">(self, nums, target)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type nums: List[int]</span></span><br><span class="line"><span class="string">    :type target: int</span></span><br><span class="line"><span class="string">    :rtype: List[int]</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># 创建一个新数组</span></span><br><span class="line">    A = []</span><br><span class="line">    <span class="comment"># 遍历给定数组</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">        <span class="comment"># 设其中一个要找的数为 a，用目标与给定数组中的元素分别相减</span></span><br><span class="line">        a = target - nums[len(nums) - index - <span class="number">1</span>]</span><br><span class="line">        i = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 在给定数组中查找是否存在刚刚相减所得的数 a,若存在则返回相应的索引，并赋值给 i，没有则返回</span></span><br><span class="line">            i = nums.index(a)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="comment"># 若找到了差 a，且 a 的索引不为 -1 以及上面的被减数的索引比 a 的索引大</span></span><br><span class="line">        <span class="comment"># 则将二者添加到新数组中，新数组就是我们要求的值</span></span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">-1</span> <span class="keyword">and</span> len(nums) - index - <span class="number">1</span> &gt; i:</span><br><span class="line">            A.append(i)</span><br><span class="line">            A.append(len(nums) - index - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> A</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客迁移</title>
      <link href="/2018/07/29/hexo-%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"/>
      <url>/2018/07/29/hexo-%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/</url>
      
        <content type="html"><![CDATA[<p>hexo 博客迁移</p><a id="more"></a><ol><li><p>更新 node 和 npm：<code>sudo npm install -g n</code> =&gt; <code>sudo n stable</code> =&gt; <code>sudo npm install npm -g</code></p></li><li><p>安装 hexo：<code>sudo npm install -g hexo</code></p></li><li><p>安装依赖包：<code>sudo npm i</code></p></li><li><p>复制以下文件到新建的 blog 文件夹里：package.json、source、scaffolds、themes、<br>_config.yml、.gitignore</p></li><li><p>在 home 目录下新建一个 .ssh 文件：<code>ssh-keygen -t rsa -C &lt;邮箱&gt;</code></p></li><li><p><code>sudo gedit .ssh/id_rsa.pub</code>，复制秘钥到 github 中</p></li><li><p><code>git init</code>，初始化空仓库</p></li><li><p>配置 git：<code>git config -–global user.name &lt;name&gt;</code> =&gt; <code>git config --global user.email &lt;email&gt;</code></p></li><li><p>生成新的 public 文件：<code>hexo g</code></p></li><li><p>下载必要的插件：<code>sudo npm install hexo-deployer-git --save</code></p></li><li><p>上传博客到 git： <code>hexo d</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 小技巧</title>
      <link href="/2018/07/29/CSS-%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
      <url>/2018/07/29/CSS-%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<p>本文收录日常开发中一些 css 小技巧，包括文本处理、导航栏样式等。</p><a id="more"></a><p>1、文本不折行</p><p>有时候需要控制文本不折行, 并且以 “….”, 代替超出的文本部分,也就是相当于 more 功能, 用 css 实现方式如下:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.noWrap</span>&#123;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上 css 代码中主要用到了 csss3 的一些特性, 除了以上代码,注意给个宽度, 不然不知道什么时候需要用”…”代替文本, 更多相关内容可以查看 w3c 文档。</p><p>2、导航栏位置固定</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">fixed</span>;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">background</span>: <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">z-index</span>: 50;</span><br></pre></td></tr></table></figure><p>fixed 定位, 固定元素位置, 超出部分隐藏, 给背景颜色是因为内容是往上滑的,会跟导航栏有重叠部分, 设置 z-index 也是为了处理内容重叠的问题。</p><p>3、隐藏浏览器默认滚动条：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、鼠标移动到某个元素，显示列表，重点是列表跟该元素同级，若不同级就比较烧脑了，就算用 js 也不好控制</p><p>结构：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>鼠标移动到我，显示列表<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">wrap</span> &#123;</span><br><span class="line">  ul &#123;</span><br><span class="line">    <span class="selector-tag">list-style</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">none</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    ul &#123;</span><br><span class="line">      <span class="selector-tag">display</span>: <span class="selector-tag">block</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5、Android 端，img 和 button，点击之后出现一块阴影区域，一开始以为是 user-select 作怪，设置为 none 无果，后来发现是 curser：pointer 的锅，在 Android 端 cursor 设置为 none，即可解决问题</p><p>6、导航条样式操作</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 自定义导航条</span><br><span class="line"><span class="comment">/* width */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Track */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Handle */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d9d9d9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Handle on hover */</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(14, 77, 136);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7、图片自适应：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8、网页适应大屏幕和小屏幕的方案：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">1400px</span>;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">1200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>9、利用 max-height 实现展开、收起效果:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.element</span> &#123;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.element</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">700px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: ease <span class="number">0.25s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>10、利用 content 属性设置序号</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.reset</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">counter-reset</span>: wangxiaoer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.counter</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="built_in">counters</span>(wangxiaoer, <span class="string">"-"</span>) <span class="string">". "</span>;</span><br><span class="line">  <span class="attribute">counter-increment</span>: wangxiaoer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>11、管道符号：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> + <span class="selector-tag">a</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">3px</span> <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid gray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>12、flex 布局最后一行左对齐</p><p>用 flex 布局一时爽，一直爽，但是里面还是有些坑需要避一避的。比如说想要有间隔的布局，但是用 space-around 和 space-between 都会有一个瑕疵，那就是，最后一行并不是左对齐的，有人会说用 aligh-content，交叉轴对其啊，但是 jusfy-content 需要 flex-start 才能做到这种效果，这样子的话，就没有居中效果了，因此，只能另辟蹊径。我采用的方法比较笨拙，就是在最后一个块级元素的后面，加多两个空的等宽的块级元素，高度设置为 0，完美实现想要的效果。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Angular 导航栏与内容联动</title>
      <link href="/2018/07/29/angular-%E5%AF%BC%E8%88%AA%E6%A0%8F%E4%B8%8E%E5%86%85%E5%AE%B9%E8%81%94%E5%8A%A8/"/>
      <url>/2018/07/29/angular-%E5%AF%BC%E8%88%AA%E6%A0%8F%E4%B8%8E%E5%86%85%E5%AE%B9%E8%81%94%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>通过 angular 的 render2 渲染器操作 DOM , 通过获取 DOM 的滑动只与定位,计算出滑动距离,并控制速率。</p><a id="more"></a><ol><li>注入 commonService 服务,里面封装了 handleAnchor 函数,主要思路就是通过 angular 的 render2 渲染器操作 DOM , 通过获取 DOM 的滑动只与定位,计算出滑动距离,并控制速率。代码如下:</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 点击题目进行锚点定位</span></span><br><span class="line"><span class="comment">* @param targetDom 需要定位的目标Dom元素</span></span><br><span class="line"><span class="comment">* @param scrollElementRef 滑动区域</span></span><br><span class="line"><span class="comment">* @param SCROLL_OFFSET 需定位的位置在滑动区域中的距离</span></span><br><span class="line"><span class="comment">* @param ANCHOR_RATE 自动滑动速度，数值越小速度越快</span></span><br><span class="line"><span class="comment">* @param isPreview 来自试卷预览的特殊处理 默认 false</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">handleAnchor(targetDom: any, <span class="attr">scrollElementRef</span>: any, <span class="attr">SCROLL_OFFSET</span>: number, <span class="attr">ANCHOR_RATE</span>: number, isPreview = <span class="literal">false</span>): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> currentAnchor = scrollElementRef.scrollTop;</span><br><span class="line">    <span class="keyword">let</span> questionTop = <span class="keyword">this</span>.getElementTop(targetDom);</span><br><span class="line">    <span class="keyword">let</span> scrollWrapTop = <span class="keyword">this</span>.getElementTop(scrollElementRef);</span><br><span class="line">    <span class="keyword">let</span> actualTop = questionTop - scrollWrapTop - SCROLL_OFFSET;</span><br><span class="line">    <span class="keyword">if</span> (isPreview) &#123;</span><br><span class="line">        actualTop -= <span class="number">45</span>; <span class="comment">// 去掉解析栏的高度</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> anchorRate = (<span class="built_in">Math</span>.abs(actualTop - currentAnchor)) / ANCHOR_RATE;</span><br><span class="line">    <span class="keyword">const</span> interval = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentAnchor &lt; actualTop) &#123;</span><br><span class="line">        scrollElementRef.scrollTop = currentAnchor += anchorRate;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        scrollElementRef.scrollTop = currentAnchor -= anchorRate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (currentAnchor &lt;= actualTop + anchorRate &amp;&amp; currentAnchor &gt;= actualTop - anchorRate) &#123;</span><br><span class="line">        clearInterval(interval);</span><br><span class="line">        scrollElementRef.scrollTop = actualTop;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>以上函数通过注入依赖的形式在组件中进行使用,通过传递相应的参数, 实现数据联动效果, 代码如下:</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">handleAnchor(targetId): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> targetDom = <span class="built_in">document</span>.getElementById(targetId)</span><br><span class="line">    <span class="keyword">let</span> documentElement: Element;</span><br><span class="line">    documentElement = <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">this</span>.commonService.handleAnchor(targetDom, documentElement, <span class="keyword">this</span>.SCROLL_OFFSET, <span class="keyword">this</span>.ANCHOR_RATE)</span><br><span class="line">    <span class="keyword">this</span>.renderer.addClass(targetDom, <span class="string">'paper-hover'</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.renderer.removeClass(targetDom, <span class="string">'paper-hover'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码将整个文档流作为滑动区域传给了 handleAnchor 函数,并且通过虚拟 DOM 加了一段样式表, 实现滚动到相应位置, 出现一个边框的视觉效果。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CKeditor 在 Angular 中的使用文档</title>
      <link href="/2018/07/29/CKeditor-%E5%9C%A8-angular-%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/"/>
      <url>/2018/07/29/CKeditor-%E5%9C%A8-angular-%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<p>CKeditor 是比较好用的一款所见即所得编辑器，有多种模式可供选择，里面还可集成 leText 等第三方插件，也可以自己开发一些插件，推荐使用。上手也很简单，但是在 angular 中使用还是要费一点时间，配置上也要花点时间。</p><a id="more"></a><ol><li><p>下载 ckeditor;</p></li><li><p>把 ckeditor 解压并放到 angular 的 assets 文件中;</p></li><li><p>在 angular 的 index 文件中引用 ckeditor.js;</p></li><li><p>根据自己的需求修改 ckeditor 配置文件;</p></li><li><p>ckeditor 相关配置说明:</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CKEDITOR.editorConfig = <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  config.language = <span class="string">"zh-cn"</span>; <span class="comment">// 编辑器语言</span></span><br><span class="line">  config.skin = <span class="string">"moono"</span>; <span class="comment">// 编辑器皮肤,需要下载并解压到 ckeditor 的 skins 文件夹下</span></span><br><span class="line">  config.allowedContent = <span class="literal">true</span>;</span><br><span class="line">  config.toolbar = <span class="string">"Full"</span>; <span class="comment">// 工具条类型</span></span><br><span class="line">  config.extraPlugins = <span class="string">"ckeditor_wiris"</span>; <span class="comment">//  添加扩展插件 ckeditor_wiris</span></span><br><span class="line">  config.toolbar_Full = [</span><br><span class="line">    [<span class="string">"Underline"</span>, <span class="string">"-"</span>, <span class="string">"Subscript"</span>, <span class="string">"Superscript"</span>, <span class="string">"RemoveFormat"</span>],</span><br><span class="line">    [<span class="string">"Image"</span>, <span class="string">"Table"</span>, <span class="string">"SpecialChar"</span>],</span><br><span class="line">    [<span class="string">"ckeditor_wiris_formulaEditor"</span>]</span><br><span class="line">  ]; <span class="comment">// 配置工具条</span></span><br><span class="line">  config.width = <span class="number">360</span>; <span class="comment">// 编辑器宽度设置</span></span><br><span class="line">  config.resize_enabled = <span class="literal">false</span>; <span class="comment">// 编辑器拖拽设置</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">CKEDITOR.plugins.addExternal(</span><br><span class="line">  <span class="string">"ckeditor_wiris"</span>,</span><br><span class="line">  <span class="string">"https://www.wiris.net/demo/plugins/ckeditor/"</span>,</span><br><span class="line">  <span class="string">"plugin.js"</span></span><br><span class="line">); <span class="comment">// 扩展编辑器引用</span></span><br></pre></td></tr></table></figure><ol start="6"><li><p>ckeditor 的使用有两种模式,一种是 inline 模式,使用方法是直接在相应的元素加上 contentable = “true” 即可生效, 第二种是 textarea 模式, 使用方法是以 class 的形式引用,这个我暂时还没有触及,之后再添加;</p></li><li><p>使用 ckeditor inline 模式会有一个广告,xx 所见即所得编辑器, 这句话可以通过删除 ckeditor.js 文件中的一些语句来删掉,要删除的语句如下:</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.title =</span><br><span class="line">  <span class="string">"string"</span> == <span class="keyword">typeof</span> d || !<span class="number">1</span> === d ? d : [a.lang.editor, a.name].join(<span class="string">", "</span>);</span><br></pre></td></tr></table></figure><p>也可以通过设置 config.title = ‘ ‘， 去除编辑框的 title。</p><ol start="8"><li>工具栏加数学公式插件的方法:</li></ol><p>(1) 下载 ckeditor_wiri , 下载 asp 版, 具体为什么,是因为我只学过 asp.net, 看着有眼缘, 使用应该都没差吧;</p><p>(2) config.js 添加如下语句:</p><p>A. <code>config.extraPlugins = &#39;ckeditor_wiris&#39;;</code></p><p>B. <code>[ &#39;ckeditor_wiris_formulaEditor&#39;]</code></p><p>C. <code>CKEDITOR.plugins.addExternal(&#39;ckeditor_wiris&#39;, &#39;https://www.wiris.net/demo/plugins/ckeditor/&#39;, &#39;plugin.js&#39;);</code></p><p>此外,要修改显示图标可以替换掉相应的 icon</p><ol start="9"><li><p>CKedditor inline 模式是默认初始化一个全局实例的，也就是在页面的所有地方用 contenteditable = true 都会初始化一个 inline 编辑器，而这并不是我们想要的结果，可以通过在 index.html 中添加以下语句，禁止自动初始化编辑器： <code>CKEDITOR.disableAutoInline = true;</code></p></li><li><p>禁用了默认初始化全局实例，我们要用的话，就自己在相应的组件初始化一个编辑器就行了，大概思路就是，创建一个 editors 变量用于存储 CKeditor 实例， 声明一个初始化编辑器的函数，函数接收所有类名为 ckeditor 的元素，遍历这些元素，在相应的节点上依次添加编辑器的实例（<br>CKEDITOR.inline(elements[i])），保存在 editors 中，在 ngAfterViewInit() 生命周期钩子中执行函数，目的是在文档加载完之后执行函数，因为一开始元素默认隐藏状态还没加载进来，初始化不了。在执行完了函数之后，为了提高性能，记得把初始化的实例都销毁掉。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CKeditor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 安装配置及基本使用</title>
      <link href="/2018/07/11/git%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2018/07/11/git%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<p>git 安装配置基本说明</p><a id="more"></a><ol><li><p>从官网下载安装包，手动完成安装。</p></li><li><p>打开 Git Bash 命令行工具，执行命令 ssh-keygen -t rsa -C Email-Addresss 生成一个密钥对。</p></li><li><p>登录到 GitLab，点击右上角你的用户头像，点击 Edit Profile settings，点击 SSH Keys，点击 Add SSH Key，填写 Title 栏，复制用户目录下.ssh/id_rsa.pub 文件的内容到 Key，点击 Add Key。</p></li><li><p>点击右上角的 New project，填写完成后点击 Create project 新建一个仓库，点击 Activity，点击 SSH 后复制 SSH 边上栏里的地址。</p></li><li><p>打开 Git Bash 命令行工具，切换到一个合适的目录，使用命令 git clone 刚才复制的 URL 克隆创建的仓库。</p></li><li><p>进入目录 cd 仓库名，执行命令 git config –global user.email your-email， git config –global user.name your-name，设置你的个人信息。</p></li><li><p>执行命令：</p><p>echo “#Description” &gt; README.md，添加一个文件</p><p>git status，查看当前状态，发现有未跟踪文件</p><p>git add .，当前目录所有文件添加到暂存区</p><p>git diff，比较当前工作区和暂存区有何不同</p><p>git status，查看当前状态，发现有文件未提交</p><p>git commit -m “注释”，把暂存区内容提交到本地仓库</p><p>git push -u origin master，把本地仓库的提交推送到远程仓库</p><p>git log，查看提交日志</p></li></ol><hr><h3 id="Git-本地分支管理"><a href="#Git-本地分支管理" class="headerlink" title="Git 本地分支管理"></a>Git 本地分支管理</h3><ol><li><p>分支的创建、合并、删除</p><p>git branch，显示所有分支</p><p>git branch b1，从当前分支创建一个叫 b1 的分支</p><p>git checkout b1，切换到 b1 分支</p><p>git checkout -b b1，相当于以上两条命令的组合</p><p>git checkout master，切换到 master 主分支</p><p>git merge b1，把 b1 分支的代码合并到 master 上</p><p>git branch -d b1，删除 b1 分支，不能在被删除分支上执行</p></li></ol><hr><h3 id="Git-Tag-标签管理"><a href="#Git-Tag-标签管理" class="headerlink" title="Git Tag 标签管理"></a>Git Tag 标签管理</h3><ol><li><p>标签的创建、删除</p><p>git tag t1，从当前分支创建一个名为 t1 的标签</p><p>git tag -d t1，删除名为 t1 的标签</p></li></ol><hr><h3 id="GitLib-权限管理"><a href="#GitLib-权限管理" class="headerlink" title="GitLib 权限管理"></a>GitLib 权限管理</h3><ul><li><p>Owner 项目所有者，拥有所有的操作权限</p></li><li><p>Master 项目的管理者，除更改、删除项目元信息外其它操作均可</p></li><li><p>Developer 项目的开发人员，做一些开发工作，对受保护内容无权限</p></li><li><p>Reporter 项目的报告者，只有项目的读权限，可以创建代码片断</p></li><li><p>Guest 项目的游客，只能提交问题和评论内容</p><p>具体参见 GitLab 权限，为项目添加成员时可指定成员的身份权限。</p></li></ul><hr><h3 id="为什么要有分支"><a href="#为什么要有分支" class="headerlink" title="为什么要有分支"></a>为什么要有分支</h3><p>建立分支的原因是 git 因为是分布式的，所以其核心就是分支，分支的意义在于，可以将项目代码按照功能、模块拆分成不同的分支。比如这个产品要加一个支付功能和一个登陆功能，可以创建两个分支，交给不同的开发人员并行开发。登陆功能先开发完，测试无误后合并改分支到 master 分支，master 分支部署上线。支付功能虽然没有开发完成，但是在另一条分支上，所以产品上线和功能开发完全不受影响。这才是分布式开发的高效模式。还有这样，以自己名字建立一个分支比如 xiancai，这个分支是已经做好的功能，随时可以合并到 master 上线，开发的时候，建立一个带功能前缀的分支，比如 xiancai-ninghao 、xiancai-ninghao 等等，开发完之后在合并到 xiancai，每次上线，把 xiancai 合并到 master 。总之分支的做重要的意义就是提高效率！！！ 这样方便团队开发，并且不会导致混乱。</p><h3 id="分支有如下几条："><a href="#分支有如下几条：" class="headerlink" title="分支有如下几条："></a>分支有如下几条：</h3><ol><li><p>Master 主分支</p></li><li><p>Develop 分支</p></li><li><p>Feature 功能分支</p></li><li><p>Release 预发布分支</p></li><li><p>Hotfix（或者 Fixbug） 分支</p></li></ol><p>其中对于 Feature 功能分支有:</p><ul><li><p>从哪个分支分离开来：develop</p></li><li><p>必须要合并到哪个分支上：develop</p></li><li><p>分支的命名规范：除了 master，develop，release-，或者 hotfix- 以外的名字都可以比如可以用 feature-*的方式命名。</p><p>其中对于 Release 预发布分支有：</p></li><li><p>从哪个分支分离开来： develop</p></li><li><p>必须要合并到哪个分支上：develop 与 master</p></li><li><p>分支的命名规范： release-*</p><p>其中对于 Hotfix（或者 Fixbug） 分支有；</p></li><li><p>从哪个分支分离开来：master</p></li><li><p>必须要合并到哪个分支上：develop 与 master</p></li><li><p>分支的命名规范：hotfix-_ 或者 fixbug-_</p></li></ul><h3 id="主分支"><a href="#主分支" class="headerlink" title="主分支"></a>主分支</h3><h3 id="Master-主分支"><a href="#Master-主分支" class="headerlink" title="Master 主分支"></a>Master 主分支</h3><pre><code>首先，代码库应该有一个、且仅有一个主分支。所有提供给用户使用的正式版本，都在这个主分支上发布。Git 主分支的名字，默认叫做 Master。它是自动建立的，版本库初始化以后，默认就是在主分支在进行开发。</code></pre><h3 id="Develop-分支"><a href="#Develop-分支" class="headerlink" title="Develop 分支"></a>Develop 分支</h3><pre><code>主分支只用来发布重大版本，日常开发应该在另一条分支上完成。我们把开发用的分支，叫做 Develop。创建分支git branch develop              #只创建分支git checkout develop  #创建并切换到 develop 分支合并分支git checkout master         #切换到主分支git merge --no-ff develop   #把 develop 合并到 master 分支，no-ff 选项的作用是保留原分支记录git branch -d develop       #删除 develop 分支这里稍微解释一下，上一条命令的--no-ff参数是什么意思。默认情况下，Git执行&quot;快进式合并&quot;（fast-farward merge），会直接将Master分支指向Develop分支。</code></pre><h3 id="次分支"><a href="#次分支" class="headerlink" title="次分支"></a>次分支</h3><pre><code>除了 master 与 develop 这两个主分支，在开发时还可以创建一些次分支，目的是让团队不同的成员之间可以平行开发，更容易跟踪功能，准备为生产的发行版，快速修复生产上的问题等等。这些分支生命周期有限，可以在用完以后删掉他们。</code></pre><h3 id="Feature-功能分支"><a href="#Feature-功能分支" class="headerlink" title="Feature 功能分支"></a>Feature 功能分支</h3><pre><code>Feature（功能） 分支，有时候也叫 Topic 分支。在这种分支上去开发新的功能。当开发功能的时候，这个功能属于哪个目标发行还不知道。功能如果一直在开发，对应的这个功能分支就可以一直存在，不过到最后还是要合并到 develop 分支上，或者如果不想要开发的这个功能了，可以直接扔掉它。功能名字的命名已经在上文中有提到。创建一个功能分支：git checkout -b feature-x develop开发完成后，将功能分支合并到develop分支：git checkout developgit merge --no-ff feature-x删除feature分支：git branch -d feature-x## Release 预发布分支它是指发布正式版本之前（即合并到Master分支之前），我们可能需要有一个预发布的版本进行测试。预发布分支是从Develop分支上面分出来的，预发布结束以后，必须合并进Develop和Master分支。它的命名，可以采用release-*的形式。创建一个预发布分支：git checkout -b release-1.2 develop确认没有问题后，合并到master分支：git checkout mastergit merge --no-ff release-1.2</code></pre><h1 id="对合并生成的新节点，做一个标签"><a href="#对合并生成的新节点，做一个标签" class="headerlink" title="对合并生成的新节点，做一个标签"></a>对合并生成的新节点，做一个标签</h1><pre><code>git tag -a 1.2再合并到develop分支：git checkout developgit merge --no-ff release-1.2最后，删除预发布分支：git branch -d release-1.2Fixbug 修补bug分支最后一种是修补bug分支。软件正式发布以后，难免会出现bug。这时就需要创建一个分支，进行bug修补。 修补bug分支是从Master分支上面分出来的。修补结束以后，再合并进Master和Develop分支。它的命名，可以采用fixbug-*的形式。创建一个修补bug分支：git checkout -b fixbug-0.1 master修补结束后，合并到master分支：git checkout mastergit merge --no-ff fixbug-0.1git tag -a 0.1.1再合并到develop分支：git checkout developgit merge --no-ff fixbug-0.1最后，删除&quot;修补bug分支&quot;：git branch -d fixbug-0.1</code></pre>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 模态框————Angular</title>
      <link href="/2018/07/11/JS%E6%A8%A1%E6%80%81%E6%A1%86blog/"/>
      <url>/2018/07/11/JS%E6%A8%A1%E6%80%81%E6%A1%86blog/</url>
      
        <content type="html"><![CDATA[<p>最近有个功能要做，要用到模态框，了解了一下，可以引用 boostrap + jquery 实现，但是看了看还要引用两个库，麻烦，自己写还来得快点，自己写还有个好处，想写成什么样都行。</p><a id="more"></a><p>主要思路就是，点击按钮，弹出模态框，同时模态框外的区域不可点击。</p><p>页面结构如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mask"</span> *<span class="attr">ngIf</span>=<span class="string">"isShow"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 按钮：用于打开模态框 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn-primary"</span> (<span class="attr">click</span>)=<span class="string">"show()"</span>&gt;</span></span><br><span class="line">    试卷分析</span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 模态框 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal fade"</span> *<span class="attr">ngIf</span>=<span class="string">"isShow"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-dialog"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-content"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 模态框头部 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-header"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"modal-title"</span>&gt;</span>试卷分析: 总分(&#123;&#123;allScoreCount&#125;&#125;)<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"close"</span> (<span class="attr">click</span>)=<span class="string">"close()"</span>&gt;</span>&amp;times;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 模态框主体 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"modal-body"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>mask 模块是一个遮罩层，只有 isShow 为真的时候才会被触发，show 函数用于处理是否要显示模态框和遮罩层，模态框模块也写了个判断，分辨何时显示这个区域，下面是 JS 代码，很简单，但是很实用，很多地方都可以用到，用于控制显示状态。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">isShow: boolean = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">show(): <span class="keyword">void</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.isShow = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">close(): <span class="keyword">void</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.isShow = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> angular </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git常用命令</title>
      <link href="/2018/07/08/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/07/08/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>git 常用命令</p><a id="more"></a><ol><li><p>添加配置信息: <code>git config &lt;配置信息名&gt;</code></p></li><li><p>删除配置信息: <code>git config unset &lt;配置信息名&gt;</code></p></li><li><p>查看配置信息: <code>git config -l</code></p></li><li><p>提交代码: <code>git status</code>查看状态 =&gt; <code>git add &lt;文件名&gt;</code> =&gt; <code>git commit -m &lt;描述&gt;</code> =&gt; <code>git pull origin &lt;远程主机名&gt; :&lt;远程分支名&gt;</code> =&gt; <code>git push &lt;分支&gt;</code></p></li><li><p>初始化 git 项目</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd existing_folder</span><br><span class="line">git init</span><br><span class="line">git remote add origin git@gitlab.dreamdev.cn:ebag/flash-experiment.git</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br></pre></td></tr></table></figure></li><li><p>改变 git 远程仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote set-url origin git@gitlab.dreamdev.cn:ebag/live-experiment.git</span><br><span class="line">git remote -v</span><br><span class="line">git branch --set-upstream-to=origin/develop develop</span><br><span class="line">git branch --set-upstream-to=origin/master master</span><br></pre></td></tr></table></figure></li><li><p>推送不了代码可能的原因：远程仓库已更新，本地代码没有及时更新，git pull 更新一下代码试试，不行就强推（不建议）</p></li><li><p>删除本地分支：<code>git branch -d &lt;BranchName&gt;</code></p></li><li><p>删除远程分支：<code>git push origin --delete &lt;BranchName&gt;</code></p></li><li><p>查看 log 树状图：<code>git log --oneline --graph --decorate --all</code></p></li><li><p>版本回退：<code>git reset --hard &lt;head&gt;</code> =&gt; <code>git push -f</code></p></li><li><p>创建远程分支：<code>git push origin develop:develop</code></p></li><li><p>远程分支打版本标签：<code>git tag -a &lt;版本号&gt; -m &lt;描述信息&gt;</code> =&gt; <code>git push origin &lt;版本号&gt;</code></p></li><li><p>代码写错分支，暂存，转到其他分支: <code>git stash -u -&gt; git stash pop</code></p></li><li><p>删除误传的远程文件或文件夹：<code>git rm -r --cached file/folder name</code> =&gt; <code>git commit</code> =&gt; <code>git push</code></p></li><li><p>新的分支推送到远程： <code>git push --set-upstream origin &lt;branch&gt;</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 配置前端环境</title>
      <link href="/2018/07/08/ubuntu%E9%85%8D%E7%BD%AE%E5%89%8D%E7%AB%AF%E7%8E%AF%E5%A2%83/"/>
      <url>/2018/07/08/ubuntu%E9%85%8D%E7%BD%AE%E5%89%8D%E7%AB%AF%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>ubuntu 配置前端环境</p><a id="more"></a><ol><li><p>下载 sougou 输入法，直接下载安装包双击就行;</p></li><li><p>下载配置 ` sublime text ：</p><p>(1) <code>sudo add-apt-repository ppa:webupd8team/sublime-text-3</code></p><p>(2) <code>sudo apt-get update</code></p><p>(3) <code>sudo apt-get install sublime-text-installer</code></p><p>(4) <code>subl</code></p><p>(5) 安装 package control：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request,os,hashlib; h = <span class="string">'6f4c264a24d933ce70df5dedcf1dcaee'</span> + <span class="string">'ebe013ee18cced0ef93d5f746d80ef60'</span>; pf = <span class="string">'Package Control.sublime-package'</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); <span class="keyword">by</span> = urllib.request.urlopen( <span class="string">'http://packagecontrol.io/'</span> + pf.replace(<span class="string">' '</span>, <span class="string">'%20'</span>)).read(); dh = hashlib.sha256(<span class="keyword">by</span>).hexdigest(); print(<span class="string">'Error validating download (got %s instead of %s), please try manual install'</span> % (dh, h)) <span class="keyword">if</span> dh != h <span class="keyword">else</span> open(os.path.<span class="keyword">join</span>( ipp, pf), <span class="string">'wb'</span> ).write(<span class="keyword">by</span>)</span><br><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(6)破解码</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span></span><br><span class="line">—– BEGIN LICENSE —–</span><br><span class="line">Michael Barnes</span><br><span class="line">Single User License</span><br><span class="line">EA7E<span class="number">-821385</span></span><br><span class="line"><span class="number">8</span>A353C41 <span class="number">872</span>A0D5C DF9B2950 AFF6F667</span><br><span class="line">C458EA6D <span class="number">8</span>EA3C286 <span class="number">98</span>D1D650 <span class="number">131</span>A97AB</span><br><span class="line">AA919AEC EF20E143 B361B1E7 <span class="number">4</span>C8B7F04</span><br><span class="line">B085E65E <span class="number">2</span>F5F5360 <span class="number">8489</span>D422 FB8FC1AA</span><br><span class="line"><span class="number">93</span>F6323C FD7F7544 <span class="number">3</span>F39C318 D95E6480</span><br><span class="line">FCCC7561 <span class="number">8</span>A4A1741 <span class="number">68</span>FA4223 ADCEDE07</span><br><span class="line"><span class="number">200</span>C25BE DBBC4855 C4CFB774 C5EC138C</span><br><span class="line"><span class="number">0</span>FEC1CEF D9DCECEC D3A5DAD1 <span class="number">01316</span>C36</span><br><span class="line">—— END LICENSE ——</span><br><span class="line"><span class="string">``</span><span class="string">`</span></span><br></pre></td></tr></table></figure></li><li><p>配置前端环境：</p><p>(1) 安装 node: <code>curl -sL https://deb.nodesource.com/setup_5.x | sudo -E bash -</code> =&gt; <code>sudo apt-get install -y nodejs</code></p><p>(2) 更新 node 和 npm: <code>sudo npm install -g n</code> =&gt; <code>sudo n stable</code> =&gt; <code>sudo npm install npm -g</code></p><p>(3) 安装淘宝 npm 镜像: ‘ sudo npm install cnpm -g `</p><p>(4) 安装 webpack : <code>npm install webpack -g</code></p><p>(5) 安装 vue 脚手架: <code>sudo npm install vue-cli -g</code></p><p>(6) 安装 angular 脚手架：<code>sudo npm i -g @angular/cli</code></p></li><li><p>安装 git: <code>sudo apt-get intall git</code></p></li><li><p>查看软件位置：ex. <code>whereis node</code>、<code>whereis npm</code></p></li><li><p>安装 vscode 及其<a href="https://blog.csdn.net/win7583362/article/details/79315055" target="_blank" rel="noopener">插件</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 环境配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>每周分享第三周（6-8)</title>
      <link href="/2018/06/08/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%B8%89%E5%91%A8%EF%BC%886-8)/"/>
      <url>/2018/06/08/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%B8%89%E5%91%A8%EF%BC%886-8)/</url>
      
        <content type="html"><![CDATA[<h3 id="一、-技术"><a href="#一、-技术" class="headerlink" title="一、 技术"></a>一、 技术</h3><ol><li><p>计算器的四则运算算法,前几天在看自己之前写过的一些小项目，看到了大三写的<a href="https://canace22.github.io/calculate/" target="_blank" rel="noopener">简易计算器</a>，主要是实现四则运算和基本的归零操作。大概思路是把整个项目分成两大块，即显示部分和运算部分。首先捕捉鼠标按下的事件，获取按下的值，把数字存到一个 num 数组里，把符号保存到 symbol 数组里。显示部分是以连接 num 数字和 symbol 数字实现的。计算部分是通过边里符号数组，当是某个符号的时候就进行某个运算。比如，遍历到“+”的时候，就把“+”号前后的两个数进行加法操作。一开始这里是有问题的，因为我们的四则运算是遵循先乘除再加减的，所以这里如何保证做到这一点能？我采用的是把乘除的判断放在了加减之前，这样就可以做到了。</p></li><li><p>冒泡算法和快速排序算法怎么解释？用我自己的话来讲，冒泡算法就是就像我们在学校的时候排队，两两对比，个子高的站在前面，个子矮的站在后面，循环进行这种操作，最后就按照从高到矮的顺序排好队了。（当然你也可以从矮到高排的，同理）。快速排序算法就是以中间的同学为基准，两边进行对比，比中间同学高的站左边，比中间同学低的站右边，然后左右分出来的小块再循环进行这种对比，直到排序完成。</p></li></ol><h3 id="二、-笔记"><a href="#二、-笔记" class="headerlink" title="二、 笔记"></a>二、 笔记</h3><ol><li><p><a href="http://canace.site/2018/06/08/sublime-text-nodeJS%E9%85%8D%E7%BD%AE/">Sublime Text3 配置 node.js 环境</a></p></li><li><p><a href="http://canace.site/2018/06/07/%E5%86%99%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9A%84%E7%AE%97%E6%B3%95%E4%B9%A6%E7%AC%94%E8%AE%B0/"> 写给大家看的算法书笔记</a></p></li><li><p><a href="http://canace.site/2018/06/07/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93%E2%80%94%E2%80%94%E8%AF%BB%E4%B9%A6%E9%83%8E/">前端面试总结——读书郎</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>盒模型</title>
      <link href="/2018/06/08/%E7%9B%92%E6%A8%A1%E5%9E%8B/"/>
      <url>/2018/06/08/%E7%9B%92%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="1-标准盒模型："><a href="#1-标准盒模型：" class="headerlink" title="1. 标准盒模型："></a>1. 标准盒模型：</h3><p>因为 <code>width = margin_box_width(left_width + right_width) + border_width + padding_box_width(left_width + right_width) + content_box_width</code>，所以，同样宽度的内容因为 <code>margin</code>和<code>padding</code> 值不一样，撑开了内容块的宽度，显示出来的效果不尽相同。为了解决这个问题，IE8+可以用设置 <code>box-sizing：border-box</code> 来避免内容块的宽度被撑开。因此，一般可以进行如下设置，使 <code>content_box_width = width</code> 。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    <span class="attribute">-webkit-box-sizing</span>:border-box;</span><br><span class="line">    <span class="attribute">-moz-box-sizing</span>:border-box;</span><br><span class="line">    <span class="attribute">box-sizing</span>:border-box;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="2-弹性盒模型："><a href="#2-弹性盒模型：" class="headerlink" title="2. 弹性盒模型："></a>2. 弹性盒模型：</h3><p>弹性布局相比传统的块布局要简洁很多，但是实现原理差别挺大的。首先，要想进行弹性布局，要设置 <code>display:flex</code>，确定弹性容器。然后要知道弹性容器里面的内容块定位是由两条轴即主轴和测轴确定的。主轴由 <code>flex-direction</code> 属性值确定是横向还是纵向，<code>justify-content</code> 属性则确定内容块在主轴上的分布形式。内容块在测轴上的分布形式由 <code>align-item</code> 确定，也可以用 <code>align-self</code> 确定单个的内容块分布形式，不过这会覆盖掉 <code>align-item</code> 的值。目前弹性盒布局还没有完全普及，PC 端浏览器支持还不是很好，更多的是用于手机端的布局。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>布尔变量在项目中的应用</title>
      <link href="/2018/06/08/%E5%B8%83%E5%B0%94%E5%8F%98%E9%87%8F%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/"/>
      <url>/2018/06/08/%E5%B8%83%E5%B0%94%E5%8F%98%E9%87%8F%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>在本次项目中，收获最大的一点应该就是学会了在项目中应用布尔变量了，以下谈谈我对布尔变量使用的一些看法。</p><p>在本次项目中，有一个困扰了我许久的难题，那就是代码的逻辑问题，一开始由于各种逻辑混乱，导致插件效果不尽如人意，插件的控制效果很不理想，最后通过几个布尔变量，轻而易举的弄通了代码逻辑，也使插件很合乎我意的跑了起来，甚至还可以加以扩展。</p><p>下面举个小栗子来说明布尔变量的简单使用吧：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">help</span> =  <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> getHelp():</span><br><span class="line">    <span class="keyword">help</span> = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">help</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">help</span>:</span><br><span class="line">    print(<span class="string">'What can I do for you?)</span></span><br></pre></td></tr></table></figure><p>从上面的例子我们可以看出，布尔变量可以很好的用来控制代码块的执行顺序，在插件中的应用则是很好的控制进入插件后的操作过程，从而实现逻辑清晰的插件。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yml 文件操作方法</title>
      <link href="/2018/06/08/yml%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95/"/>
      <url>/2018/06/08/yml%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ol><li>文件读取方法示例：</li></ol><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line">fr = <span class="built_in">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">data = yaml.load(fr)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">fr.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure><p>关于 yml 文件的操作，有一个专门的库 yaml ，yaml 直接给出了一个把 yml 文件读取到字典里的方法 load，所以要读取 yml 文件非常简单，只需要引入 yaml 库，用 python 的 open 方法打开文件，用 load 方法读取文件，就可以轻而易举的读取 yml 文件到字典里了。当然其中还是有点坑的，那就是解码的问题，因为默认读取的文件不是字符编码格式，所以要把它转换为字符编码，再传给 load。</p><ol start="2"><li>文件写入方法示例：</li></ol><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"><span class="title">fr</span> = open('yml_file_address', 'w',encoding='utf<span class="number">-8</span>')</span><br><span class="line"><span class="title">temp</span> = &#123;<span class="string">"fruits"</span>:<span class="string">"banana"</span>&#125;</span><br><span class="line"><span class="class"><span class="keyword">data</span> = yaml.dump(<span class="title">temp</span>,<span class="title">fr</span>, <span class="title">default_flow_style</span>=<span class="type">False</span>)</span></span><br><span class="line"><span class="title">print</span>(<span class="class"><span class="keyword">data</span>)</span></span><br><span class="line"><span class="title">fr</span>.close()</span><br></pre></td></tr></table></figure><p>yaml 库提供了一个 dump 方法，只需要打开文件，给出要写入的参数（字典形式等），调用 dump 方法就可以很快捷的写入信息到 yml 文件啦</p><ol start="3"><li>这两个方法在项目中的运用：</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">修改配置文件昵称</span><br><span class="line">def changeUserName(user):</span><br><span class="line">    fr = <span class="keyword">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="keyword">data</span> = yaml.load(fr)</span><br><span class="line">    fr.close()</span><br><span class="line">    <span class="keyword">data</span>[<span class="string">'robot_name_cn'</span>] = user</span><br><span class="line">    fr = <span class="keyword">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    yaml.dump(<span class="keyword">data</span>, fr, allow_unicode=True, default_flow_style=False)</span><br><span class="line">    fr.close()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">data</span>[<span class="string">'robot_name_cn'</span>]</span><br><span class="line">修改配置文件密码</span><br><span class="line">def changePassword(password):</span><br><span class="line">    fr = <span class="keyword">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="keyword">data</span> = yaml.load(fr)</span><br><span class="line">    fr.close()</span><br><span class="line">    <span class="keyword">data</span>[<span class="string">'password'</span>] = password</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'password'</span> <span class="keyword">in</span> <span class="keyword">data</span>.keys():</span><br><span class="line">        fr = <span class="keyword">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        yaml.dump(<span class="keyword">data</span>, fr, allow_unicode=True, default_flow_style=False)</span><br><span class="line">        fr.close()</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">data</span>[<span class="string">'password'</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fr = <span class="keyword">open</span>(<span class="string">'yml_file_address'</span>, <span class="string">'a'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        yaml.dump(<span class="keyword">data</span>, fr, allow_unicode=True, default_flow_style=False)</span><br><span class="line">        fr.close()</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">data</span>[<span class="string">'password'</span>]</span><br></pre></td></tr></table></figure><p>这是两个修改配置信息的函数 changeUserName（） 和 changePassword（），故名思议，就是修改密码和昵称，两个函数的思路都是一样的，先读取配置文件，把相应的信息替换进配置文件里，然后通过写入方法，把这两个信息写入文件中。</p><p>其中的难点可能就是解码和生成 yaml 文件的样式问题了。一开始各种报解码错误，在打开文件的时候加一个 encoding，在写入函数中加一个 allow_unicode=True 搞定了。</p><p>解决替换信息在文件中的样式问题， 是在写入函数中加入 default_flow_style=False 搞定的。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文本操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python2 =&gt; Python3 踩坑集合</title>
      <link href="/2018/06/08/python%E9%87%87%E5%9D%91%E9%9B%86%E5%90%88/"/>
      <url>/2018/06/08/python%E9%87%87%E5%9D%91%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<p>python2 =&gt; python3 踩坑集合</p><a id="more"></a><h3 id="1-报错内容："><a href="#1-报错内容：" class="headerlink" title="1. 报错内容："></a>1. 报错内容：</h3><p>ModuleNotFoundError: No module named ‘md5’</p><h4 id="解析："><a href="#解析：" class="headerlink" title="解析："></a>解析：</h4><p>这是 python2 的库，python3 已经把它包含进 hashlib 库里了</p><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>直接把对 md5 库的引用语句注释掉，改为引用 hashlib 库</p><h3 id="2-报错内容："><a href="#2-报错内容：" class="headerlink" title="2. 报错内容："></a>2. 报错内容：</h3><p>AttributeError: module ‘sys’ has no attribute ‘setdefaultencoding’</p><h4 id="解析：-1"><a href="#解析：-1" class="headerlink" title="解析："></a>解析：</h4><p>python2 的默认字符编码为 ASCII 编码，所以有 setdefaultencoding 这个方法转换为 utf-8 编码，而 python3 的默认字符编码是 unicode 编码，这种编码本身支持汉字，所以就不存在上述方法了</p><h4 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法"></a>解决方法</h4><p>直接把该语句注释掉</p><h3 id="3-报错内容："><a href="#3-报错内容：" class="headerlink" title="3. 报错内容："></a>3. 报错内容：</h3><p>ModuleNotFoundError: No module named ‘urlparse’</p><h4 id="解析：-2"><a href="#解析：-2" class="headerlink" title="解析："></a>解析：</h4><p>urlparse 是 python2 的库，python3 已经把这个库重命名为 urllib.parse 了</p><h4 id="解决方法-2"><a href="#解决方法-2" class="headerlink" title="解决方法"></a>解决方法</h4><p>把对 urlparse 库的引用语句注释掉，改为引用 urllib.parse 库</p><h3 id="4-报错内容："><a href="#4-报错内容：" class="headerlink" title="4. 报错内容："></a>4. 报错内容：</h3><p>ModuleNotFoundError: No module named ‘urlparse’</p><h4 id="解析：-3"><a href="#解析：-3" class="headerlink" title="解析："></a>解析：</h4><p>urlparse 是 python2 的库，python3 已经把这个库重命名为 urllib.parse 了</p><h4 id="解决方法-3"><a href="#解决方法-3" class="headerlink" title="解决方法"></a>解决方法</h4><p>把对 urlparse 库的引用语句注释掉，改为引用 multiprocessing 库里了</p><h3 id="5-报错内容："><a href="#5-报错内容：" class="headerlink" title="5. 报错内容："></a>5. 报错内容：</h3><p>ModuleNotFoundError: No module named ‘Queue’</p><h4 id="解析：-4"><a href="#解析：-4" class="headerlink" title="解析："></a>解析：</h4><p>Queue 是 python2 的库，python3 已经把这个库加到 multiprocessing 里了</p><h4 id="解决方法-4"><a href="#解决方法-4" class="headerlink" title="解决方法"></a>解决方法</h4><p>把对 Queue 库的引用语句注释掉，改为引用 <code>from multiprocessing import Queue</code></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sublime Text3 配置node.js环境</title>
      <link href="/2018/06/08/sublime-text-nodeJS%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/06/08/sublime-text-nodeJS%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>前提：windows 系统，你已经安装了 Sublime Text3，电脑已经有 node 环境。</p><a id="more"></a><h4 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h4><ul><li>下载 sublime 的 nodejs 插件，需是集成 Nodejs 插件到 sublime 中，下载地址：<a href="https://github.com/tanepiper/SublimeText-Nodejs" target="_blank" rel="noopener">https://github.com/tanepiper/SublimeText-Nodejs</a></li><li>解压 zip 文件， 并重命名文件夹“Nodejs”</li><li>打开 sublime，操作”preference” –&gt; “Browse packages”, 打开一个目录，这个目录是众多语言 IDE 插件的存放地。<ul><li>复制”Nodejs“文件夹到这个目录。 </li><li>打开 Nodejs 文件夹，找到文件“Nodejs.sublime-build”， 拖拽到 sublime，显示：<br><code><br>{<br>“cmd”: [“node”, “$file”],<br>“file<em>regex”: “^[ ]_File \”(…</em>?)\”, line ([0-9]*)”,<br>“selector”: “source.js”,<br>“shell”:true,<br>“encoding”: “cp1252”,<br>“windows”:<br>{<br>“cmd”: [“taskkill /F /IM node.exe &amp; node”, “$file”]<br>},<br>“linux”:<br>{<br>“cmd”: [“killall node; node”, “$file”]<br>}<br>}<br></code></li></ul></li><li>需要更改上面标注的地方， 要更改 encoding 为 GB2312 或者 utf8，如果不更改此属性可能导致 build nodejs 代码时终端显示乱码。</li><li>要用 sublime 打开文件“Nodejs.sublime-settings” 或者 设置“preference” –》 “package settings” –》 “Nodejs”  –》“setting-default” 打开文件并 更改成：<br><code><br>{<br>// save before running commands<br>“save_first”: true,<br>// if present, use this command instead of plain “node”<br>// e.g. “/usr/bin/node” or “C:\bin\node.exe”<br>“node_command”: /usr/bin/nodejs,<br>// Same for NPM command<br>“npm_command”: /usr/bin/npm,<br>// as ‘NODE_PATH’ environment variable for node runtime<br>“node_path”: false,<br>“expert_mode”: false,<br>“ouput_to_new_tab”: false<br>}<br></code><br>到此，已经配置好了。</li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编辑器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>写给大家看的算法书笔记</title>
      <link href="/2018/06/07/%E5%86%99%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9A%84%E7%AE%97%E6%B3%95%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>/2018/06/07/%E5%86%99%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9A%84%E7%AE%97%E6%B3%95%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="一、什么是算法"><a href="#一、什么是算法" class="headerlink" title="一、什么是算法"></a>一、什么是算法</h4><ol><li>算法是对特定问题的解决步骤（对信息进行排序、搜索目标信息等）；</li></ol><ul><li>算法 → 更优质的算法 → 好的程序；</li><li>算法的两个必要条件：</li><li>准确性，证明方法——断言；</li><li><p>可停止性（死循环不能看做算法）；</p></li><li><p>几种重要的算法：</p></li><li>数论算法：<ul><li>求解最大公约数的辗转相除法；</li><li>求解联立方程的高斯消元法；</li><li>求解定积分近似值的梯形公式;</li><li>计算质数的艾拉斯托尼筛法;</li></ul></li><li>排序算法(按序排列)：<ul><li>选择排序；</li><li>冒泡排序；</li><li>插入排序；</li><li>希尔排序;</li><li>归并排序;</li><li>快速排序；</li></ul></li><li>搜索算法：（比较求同）<ul><li>线性搜索；</li><li>二分搜索；</li></ul></li><li><p>字符串匹配算法：</p><ul><li>简单字符串搜索；</li><li>KMP 算法；</li><li>BM 算法；</li></ul></li><li><p>结构化编程思想：旨在高效描述程序，最大限度减少设计误差的方法论，其中的处理流程结构组合包括：</p></li><li>顺序结构：按顺序处理；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-9f036b6001ef4e07.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于网络"></li><li><p>选择结构：按条件处理；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-68f37dd7d235e531.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于网络"></p></li><li><p>循环结构：条件成立下，进行定量循环处理；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-a41112c31c533ab9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于网络"></p></li></ul><h4 id="二、-变量和数组"><a href="#二、-变量和数组" class="headerlink" title="二、 变量和数组"></a>二、 变量和数组</h4><ol><li>算法由数据和处理构成；</li></ol><ul><li>基本数据类型：<ul><li>整数；</li><li>浮点数；</li><li>字符；</li><li>布尔值；</li><li>字符串；</li></ul></li><li>描述数据信息的方法是数据值；</li><li>变量是存放数据值的容器，变量的作用是使处理过程通用化，每个变量只能存放一个数据，变量名是区分不同变量的标记，变量名要能表示所装载的数据；</li><li>把数据赋值给变量的过程叫代入；</li><li>数组是用来保存大量同一数据类型值的，数组索引，即数组元素的位置标号，可以利用数组进行关联数据的处理；</li><li>二维数组，数组元素沿横纵方向排列；</li></ul><h4 id="三、数据结构——高效的管理大量数据的构造"><a href="#三、数据结构——高效的管理大量数据的构造" class="headerlink" title="三、数据结构——高效的管理大量数据的构造"></a>三、数据结构——高效的管理大量数据的构造</h4><ol><li>常用的数据结构：</li></ol><ul><li><p><b>数组</b>，快速定位第 N 个数据；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-5279810825a68703.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于手机拍摄"></p></li><li><p><b>链表</b>，离散数据排序，快速插入删除数据（插入、删除数据不改变数据位置）。单向链表只能单向检索，元素由数据和“NEXT 指针”构成，HEAD 指针标记链表的第一个元素。双向链表元素由数据，PREV、NEXT 指针构成，可向前向后检索数据，链表为空的状态，HEAD 指针，TAIL 指针分别存储“没有起始元素”、“没有末尾元素”的信息；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-6113ee58c4fc1e74.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于网络"></p></li><li><p><b>堆栈</b>（先进后出），数据操作：入栈 → 写入数据（push）→ 出栈（POP）→ 读取数据。考虑计算机优先级或者计算机管理子程序调用的顺序时用到；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-21be1fcb8546bd49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于网络"></p></li><li><p><b>队列</b>（先进先出），应用在电文发放和接收中；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-0789fc904f456296.gif?imageMogr2/auto-orient/strip" alt="图片来源于网络"></p></li><li><p><b>树</b>，管理父节点数据和子节点数据，二叉树一个父节点对用两个子节点，可以用数组来表示二叉树；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-a812b66052043bd4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于手机拍摄"><br><img src="http://upload-images.jianshu.io/upload_images/1476489-061f5d3516622b9b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于手机拍摄"><br><img src="http://upload-images.jianshu.io/upload_images/1476489-f43abcb33e47957a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于手机拍摄"></p></li><li><p>图，自由的表示各种关系的数据。图的分类：有向图（边有方向性）、加权图（边有权重）；<br><img src="http://upload-images.jianshu.io/upload_images/1476489-ea65bbf1f9b3b98b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片来源于手机拍摄"></p></li></ul><h4 id="四、算法基础"><a href="#四、算法基础" class="headerlink" title="四、算法基础"></a>四、算法基础</h4><ol><li>循环处理和控制变量</li></ol><ul><li>循环处理：利用一个控制变量来管理循环次数，从而进行必要次数的处理；</li><li>循环处理的步骤：<ul><li>设置控制变量的初始值；</li><li>判断循环条件，如果为 true，进行以下 3,4,步，否则为 false，终止处理；</li><li>执行循环体；</li><li>改变控制变量，回到步骤 2；</li></ul></li><li><p>利用循环处理使处理过程通用化；<br><b>案例：</b><br>计算 1~N 的整数的总和。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-233c00b2f31f8e76.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-4ea54b8cba9d8db1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>使用数组可以高效的处理大量数据<br><b>案例：</b><br>求斐波那契数列。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-b0f7928c9e70b00c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-aae2fafe110aeb4e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>数组求和<br><b>案例：</b><br>计算一年的营业额。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-ca431aa7a661a3fe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-2498e2f8f6979555.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>求平均值<br><b>案例：</b><br>求班级考试的平均分。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-a288f74be53c16ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-a4ea9bb73708cdf4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>求数组数据中的最大值<br><b>案例：</b><br>求最高分。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-5934e850b29830b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-393b1a7d9a9bc418.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>求数据中的最小值<br><b>案例：</b><br>求最低分。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-7d3483e3bd32591a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-a49e301d22d84669.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>为数组元素排序<br><b>案例：</b><br>为考试成绩排名。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-2d67aeb495cc806e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-34838194b6e477e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>二维数组操作<br><b>案例</b><br>求全班学生不同科目考试合计总分。<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-bfadc73a743b91f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-b4681f4285738dc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li><li><p>求两个数的最大公约数<br><b>案例：</b><br>辗转相除法<br>算法：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-460179a152a07806.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>JavaScript 代码：<br><img src="http://upload-images.jianshu.io/upload_images/1476489-3fc4fb3e5c8ebb16.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p></li></ul><h4 id="排序算法"><a href="#排序算法" class="headerlink" title="排序算法"></a>排序算法</h4><ol><li>几种常用的排序算法<ul><li>桶排序<br>概念：<br>准备与待排序数据取值范围大小个数的木桶，利用这些木桶对数据进行保存、排序。<br>排序过程：<br>（1）准备好木桶数据，把其所有元素初始化为 0；<br>（2）把保存排序数组（n 个数据）的下标的变量 i 初始化为 0；<br>（3）i 小于 n 时，循环执行 4~5；<br>（4）把 data[i]代入变量 value；<br>（5）bucket[value]加 1；<br>（6）i 加 1；<br>（7）从 bucket 的起始元素开始，把每个数值非 0 的元素的下标按照数值（出现次数）取出来，排成一列。</li><li>选择排序<br>概念：<br>遍历数据，把数据中的最大值（或最小值）与起始（或者末尾）数据进行交换。<br>排序过程：<br>（1）从“待排序部分”中找到最小值；<br>（2）把最小值和“待排序部分起始位置的元素”交换；<br>（3）“待排序部分”的起始位置向后移动一位；<br>（4）循环操作 1~3，直至“待排序部分”只剩下一个元素。</li><li>冒泡排序<br>对比相邻的两个数据，根据大小关系调整两个数据的顺序。</li><li>插入排序<br>把目标数据按照正确的大小排列顺序插入相应的位置中。</li><li>归并排序<br>把目标数据分割成更小的部分进行排序，更小的部分正确排序之后再合并起来。</li><li>希尔排序<br>把目标数据按照一定的个数分成几个区域进行插入排序。</li><li>快速排序<br>从目标数据中任意选取一个数据，以这个数据的值为分割点，把目标数据分割为两部分。这样循环操作下去进行排序。</li></ul></li></ol><h4 id="搜索算法"><a href="#搜索算法" class="headerlink" title="搜索算法"></a>搜索算法</h4><ol><li>常用的搜索算法：</li></ol><ul><li>线性搜索（随机排布的数据列中使用，效率比较低）；</li><li>二分搜索（已经排好序的数据列中使用，效率较高）；</li><li>利用哈希表进行搜索（高效搜索）；</li><li>简单字符串搜索（有长度的数据）；</li><li>利用 KMP 算法 进行字符串搜索；</li><li>利用 BM 算法进行字符串搜索。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端面试总结——读书郎</title>
      <link href="/2018/06/07/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93%E2%80%94%E2%80%94%E8%AF%BB%E4%B9%A6%E9%83%8E/"/>
      <url>/2018/06/07/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93%E2%80%94%E2%80%94%E8%AF%BB%E4%B9%A6%E9%83%8E/</url>
      
        <content type="html"><![CDATA[<p>前几天在拉勾投的简历，今天下午下班后去面试，总的感觉是面试很专业很基础，自己太不专业了，大三到现在也只是自己写写小项目自己玩，真正聊技术的话，一点都不专业，专业名词没几个能说的上来，想到之前工作中用到的很多 python 知识点自己也是说不上来，只是会用，后来看到别人的教程，才知道自己一直用的东东原来是有专业名词的。</p><p>下面是面试的题目：</p><ol><li>js 知识点考察：</li></ol><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function <span class="function"><span class="keyword">fun</span>()&#123;</span></span><br><span class="line"><span class="function">    <span class="title">console</span></span>.log(this)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span>()</span></span><br><span class="line"><span class="function"><span class="title">b</span></span> = new <span class="function"><span class="keyword">fun</span>()</span></span><br><span class="line"><span class="function"><span class="title">console</span></span>.log(b)</span><br></pre></td></tr></table></figure><p>（1） 以上结果分别是什么？</p><p>第一个 this 指向全局作用域，所以打印的应该是 window，这个我当时一时没反应过来，知道是指向全局作用域，但是具体打印出来的是什么，没反应过来。</p><p>第二个 b 是 fun 函数的实例，继承了 fun 函数的所有特性，但是由于没有给这个实例传参，所以结果是 undefined，这个我知道打印出来的是 undefined，也知道原因，但是没有按着面试官走，没把实例这个名词说出来。</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var a = <span class="number">1</span></span><br><span class="line">function <span class="function"><span class="keyword">fun</span>()&#123;</span></span><br><span class="line"><span class="function">    <span class="title">console</span></span>.log(a)</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        var a = <span class="number">2</span></span><br><span class="line">        console.log(a)</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span>()</span></span><br><span class="line"><span class="function"><span class="title">console</span></span>.log(a)</span><br></pre></td></tr></table></figure><p>(2) 以上代码打印出来的分别是什么？为什么？</p><p>第一个 a 打印出来是 undefined,因为作用域内不存在这个参数，默认返回 undefined。第二个 a 打印出来是 2，因为在 if 内申明了局部变量 a 并把 2 赋值给了这个参数。第三个 a 打印出来同样是 2，因为这条语句在 if 作用域的下面，代码树是往下延伸的。第四个 a 打印出来是 a，因为 a=1 属于这个作用域，而函数里的 a 它是共享不到的，要共享函数内的参数的话，可以用闭包。</p><p>（3）第三个问题没太懂，问的是 function 除了 argument 外还有哪些内置 xx？这个我没听清的用 xx 表示吧，你们懂的告诉我一声。</p><ol start="2"><li>算法知识点考察</li></ol><p>（1）说说快排，这个我当时有点蒙圈了，因为好久之前接触的东东，都忘了，回来后补充解释如下：</p><p>快速排序是从目标数据中任意选取一个数据，以这个数据的值为分割点，把目标数据分割为两部分。这样循环操作下去进行排序。这个在代码中用的挺多的，但是我没记住它的学名，没想起来。这个解释摘自我大二时候读《写给大家的算法书》的算法基础部分的笔记。</p><p>（2）说说冒泡排序，同上，没打出来，回来后补充解释如下：</p><p>冒泡排序是对比相邻的两个数据，根据大小关系调整两个数据的顺序。同样摘自大二的读书笔记。</p><p>除了这些还有一些零零碎碎的知识点，我就不一一罗列了，列出这几个典型的吧，可能面试经验比较少，很多东西都准备不充分，背着自己的电脑就过去面试了，面试问到项目就拿出了自己的一些小项目出来，也比较随意，结果是其次，最主要的是面试挺欢乐，知道了自己在前端算法这一块还很薄弱，接下来得好好学学数据结构和算法了。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>每周分享第二周（6.2）</title>
      <link href="/2018/06/02/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%BA%8C%E5%91%A8%EF%BC%886-2%EF%BC%89/"/>
      <url>/2018/06/02/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%BA%8C%E5%91%A8%EF%BC%886-2%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Tomorrow is another day.</p></blockquote><h3 id="一、-网站"><a href="#一、-网站" class="headerlink" title="一、 网站"></a>一、 网站</h3><ol><li><p>8090，一个免费电影网站，可以免费看挺多高清电影的，不过有人说涉黄的视频也多，这个可以忽略，看自己想看的电影就可以了，免去了下载的流程。</p></li><li><p>鸠摩搜索，一个可以搜索电子书资源 ，并免费下载的网站，看着不错，之前一直用周读下电子书来着，界面还是更喜欢周读，不过这个看着也还行。</p></li><li><p>谷歌翻译 APP，据说可以进行各种语言的实时翻译，解决语言交流障碍问题，从此一部手机，一个 APP 走天下，挺起来还不错的样子。</p></li></ol><h3 id="二、-书籍"><a href="#二、-书籍" class="headerlink" title="二、 书籍"></a>二、 书籍</h3><p>《放弃的艺术》，从心理学的角度探讨如何在适当的时候选择放弃，而不是一味坚持，看似感性，实则理性十足的一本书。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>每周分享第一周（5.27）</title>
      <link href="/2018/05/27/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%B8%80%E5%91%A8%EF%BC%885-27%EF%BC%89/"/>
      <url>/2018/05/27/%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC%E4%B8%80%E5%91%A8%EF%BC%885-27%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="一、-网站"><a href="#一、-网站" class="headerlink" title="一、 网站"></a>一、 网站</h3><ol><li><p><a href="http://putlockertv.ws/watch/dKoW20nd-westworld-season-2/episode-3.html" target="_blank" rel="noopener">putlockerTV</a> 在找西部世界第二季时接触到的一个视频网站，里面有很多热播的各个国家的电视剧可供免费观看，大部分还有不同语言的字母可选，我自己只看得懂英文，所以在看西部世界时就选的英文字母，体验还不错，果断收藏了。</p></li><li><p><a href="http://setosa.io/ev/markov-chains/" target="_blank" rel="noopener">马尔科夫链科普</a>，这篇文章是在阮一峰的每周分享看到的，读起来通俗易懂，还配合了多个动图，觉得写这个网页的人也是牛逼。</p></li><li><p><a href="https://repo.continuum.io/archive/" target="_blank" rel="noopener">Anaconda 版本库</a>， 这个网页是在装 tensorflow 时，因为需要 4.2.0 版本，通过官网进来的，里面有 Anaconda 的各个版本可以下载。</p></li></ol><h3 id="二、-书籍"><a href="#二、-书籍" class="headerlink" title="二、 书籍"></a>二、 书籍</h3><ol><li><p><strong>《听见坚冰融化的声音》</strong>，这本书是刚发行的陈佩华老师写的书，主题是一些解毒成功者的故事，关于他们吸毒与原生家庭的关系以及戒毒过程中的故事，故事的叙述比较理性，还穿插了许多心理知识的科普，读来受益匪浅。</p></li><li><p><strong>《大家的日语》</strong>，大概是三月份时候买的书，用来学习日语的课本，一直没怎么翻，周四的时候心血来潮，开始学习，觉得比较像小学时候刚接触语文，给一些句子对话，每篇课文后面是单词表，单靠课本的话学起来比较吃力，还需要一些网上的视频辅助学习，搜了下，发现网易里面路德老师的免费日语教学还可以。</p></li><li><p><strong>《时间效率手册》</strong>，上个月买的书，看了大概三分之一吧，这几天又拾起来看，对于自律性比较差，处于迷茫阶段的我来说，还是不错的一本书，但是受不了里面的鸡血式的写作风格，很容易让人误以为是强鸡汤，令人厌恶，仔细翻翻还是有一定用的感觉。</p></li></ol><h3 id="三、-笔记"><a href="#三、-笔记" class="headerlink" title="三、 笔记"></a>三、 笔记</h3><ol><li><p><a href="http://canace.site/2018/05/27/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E6%AD%A5%E9%AA%A4/">Tensorflow 模型训练步骤</a></p></li><li><p><a href="http://canace.site/2018/05/27/ubuntu%E4%B8%8B%E9%85%8D%E7%BD%AEss/">ubuntu 下配置 ss</a></p></li><li><p><a href="http://canace.site/2018/05/27/ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85tensorflow/">ubuntu 下 tensorflow CPU release 版安装</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tensorflow 模型训练步骤</title>
      <link href="/2018/05/27/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E6%AD%A5%E9%AA%A4/"/>
      <url>/2018/05/27/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="使用-tensorflow-进行算法设计、训练的步骤"><a href="#使用-tensorflow-进行算法设计、训练的步骤" class="headerlink" title="使用 tensorflow 进行算法设计、训练的步骤"></a>使用 tensorflow 进行算法设计、训练的步骤</h3><ol><li><p>定义算法公式，也就是神经网络 forward 时的计算；</p></li><li><p>定义 loss，选定优化器，比如 SGD，并指定优化器 loss；</p></li><li><p>迭代的对数据集进行训练；</p></li><li><p>在测试集上对准确率进行评测；</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 深度学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 下配置Ss</title>
      <link href="/2018/05/27/ubuntu%E4%B8%8B%E9%85%8D%E7%BD%AEss/"/>
      <url>/2018/05/27/ubuntu%E4%B8%8B%E9%85%8D%E7%BD%AEss/</url>
      
        <content type="html"><![CDATA[<p>ubuntu 下配置 ss 步骤</p><a id="more"></a><ol><li><p>pip install shadowshocks</p></li><li><p>创建 json 文件，内容如下：</p></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"server"</span>:<span class="string">"ip"</span>,</span><br><span class="line"><span class="attr">"server_port"</span>:<span class="number">3002</span>,</span><br><span class="line"><span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line"><span class="attr">"password"</span>:<span class="string">"psd"</span>,</span><br><span class="line"><span class="attr">"timeout"</span>:<span class="number">600</span>,</span><br><span class="line"><span class="attr">"method"</span>:<span class="string">"加密方法"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>系统设置&gt;&gt;网络设置&gt;&gt;网络代理&gt;&gt;手动，填写 socks 主机和端口信息：127.0.0.1：1080</p></li><li><p>sslocal -c /home/canace/文档/ss.json 开启全局 ss</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 科学上网 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 下 Tensorflow CPU Release 版安装</title>
      <link href="/2018/05/27/ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85tensorflow/"/>
      <url>/2018/05/27/ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85tensorflow/</url>
      
        <content type="html"><![CDATA[<p>ubuntu 下 tensorflow CPU release 版安装步骤</p><a id="more"></a><h3 id="安装-anaconda："><a href="#安装-anaconda：" class="headerlink" title="安装 anaconda："></a>安装 anaconda：</h3><ol><li><p>下载<a href="https://repo.continuum.io/archive/" target="_blank" rel="noopener">anaconda3-4.2.0 linux 版本</a></p></li><li><p>到 anaconda 的下载目录下执行一下命令：<code>bash Anaconda3-4.2.0-Linux-x86_64.sh</code></p></li><li><p>接下来就是按照提示一步步的往下就行了，会自动安装各种包，直到结束</p></li><li><p><code>echo &#39;export PATH=&quot;/home/canace/anaconda3/bin:$PATH&quot;&#39;&gt;&gt; ~/.bashrc</code>&gt;&gt;<code>source ~/.bashrc</code>启用 anaconda</p></li></ol><h3 id="tensorflow-环境配置："><a href="#tensorflow-环境配置：" class="headerlink" title="tensorflow 环境配置："></a>tensorflow 环境配置：</h3><ol><li>tensorflow 安装：<br><code>conda install tensorflow</code>（不要连代理，因为连了代理很可能装不成功）</li></ol><h4 id="PS"><a href="#PS" class="headerlink" title="PS:"></a>PS:</h4><h5 id="conda-常用命令："><a href="#conda-常用命令：" class="headerlink" title="conda 常用命令："></a>conda 常用命令：</h5><p>conda list：可以显示已经安装好的库。</p><p>conda install 库名 ：可以直接安装想要的库。如：conda install tensorflow</p><p>conda update 库名：升级库</p>]]></content>
      
      
      <categories>
          
          <category> 深度学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tensorflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深度工作哲学解读</title>
      <link href="/2018/05/20/%E6%B7%B1%E5%BA%A6%E5%B7%A5%E4%BD%9C%E5%93%B2%E5%AD%A6%E8%A7%A3%E8%AF%BB/"/>
      <url>/2018/05/20/%E6%B7%B1%E5%BA%A6%E5%B7%A5%E4%BD%9C%E5%93%B2%E5%AD%A6%E8%A7%A3%E8%AF%BB/</url>
      
        <content type="html"><![CDATA[<p>卡尔.纽波特的《深度工作》一书中提到，深度工作的哲学包括以下几种：</p><ol><li><p>禁欲主义哲学；</p></li><li><p>双峰哲学；</p></li><li><p>节奏哲学；</p></li><li><p>新闻工作者哲学；</p></li></ol><p>以下是个人的一下理解：</p><ol><li><p>深度工作与浮浅工作相对，是一种排除外界干扰，长时间连续的集中全部精力于某一项活动的工作形式。</p></li><li><p>以上四种深度工作哲学按专注时间从长到短的顺序排列依次是：禁欲主义哲学 &gt; 双峰哲学 &gt; 节奏哲学 &gt; 新闻工作者哲学。</p></li><li><p>禁欲主义哲学主张工作中全力排除一切干扰，专注于工作，比如说作家隐居写作就是运用了这种深度工作哲学，适合使用这种哲学的人，一般是有很高的职业追求的人，并且这种人的职业看得到实际的产出，比如说作家一年要出多少本书。此外，使用这种哲学要求长时间的与世隔绝，过一种苦行僧式的生活。</p></li><li><p>双峰哲学是把生活中的时间分为部分，一部分用于深度工作，一部分用于浮浅工作。比如说一年有十二个月，可以预备三个月完全与世隔绝，用来进行深度工作。或者是每一周花一天完全与世隔绝进行深度工作。这种哲学要求要有大于一天的深度工作时间，可以说适合大部分人。</p></li><li><p>节奏哲学主张养成深度工作的习惯，每天花一部分的时间进行深度学习。比如八点半上班，可以五点起来进行深度工作到七点半。这是个人比较推崇的一种深度工作哲学，这种哲学可以保证每天都有一定的高效工作的时间，可以做任何自己想做的目标事物，坚持一段时间就能看到产出，还是很不错的，适合任何有有目标的人群。</p></li><li><p>新闻工作者哲学，顾名思义，像新闻工作者一样，随时可以进入状态。这种哲学只适合已熟使用其他哲学的少部分人，要求随时能够进入到深度工作的状态。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于写周报的笔记</title>
      <link href="/2018/05/20/%E5%85%B3%E4%BA%8E%E5%86%99%E5%91%A8%E6%8A%A5%E7%9A%84%E7%AC%94%E8%AE%B0/"/>
      <url>/2018/05/20/%E5%85%B3%E4%BA%8E%E5%86%99%E5%91%A8%E6%8A%A5%E7%9A%84%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>如果你上班了，你们公司会要求你写周报吗？如果你还是学生，你的父母或老师会要求你写周报吗？没人要求，还会自发性的写周报吗？写周报给你带来了什么样的改变？</p><p>我是写周报的，虽然公司也要求写，但更多出于自发性的写，我把他当作 GTD 系统中的一部分，对我而言是 CONTEXT，起承上启下的作用。</p><ol><li><p>区别</p><p>(1) 被动写周报和主动记录反馈本周状态是有区别的，被动通常受命于人，属于履行任务，追求的是效率，希望尽可能快的完成；而主动写周报通常是自发性的，属于自我反省，追求的是问题的发现-解决-反馈，需要静下心来思考。</p><p>(2) 工作周报和个人总结周报也是有区别的：</p><p>(3) 内容上，工作周报只需要记录和工作相关的事情，而个人周报不仅需要总结工作，还需要总结生活、学习；</p><p>(4) 深度上，由于工作周报通常是需要提交给部门老大看，因此在剖析问题、总结得失，自我反省上非常不深刻，甚至会出现避重就轻的问题，一份周报常常沦为简单对工作任务的概括和陈述；而个人周报则不容易出现这类问题，就好比面壁自省，谁还会在乎什么话该说还是不该说，都是自个儿的事；</p></li><li><p>方法</p><p>(1) Step-1-回顾</p><pre><code>A. 检查计划中关键项目/任务的完成进度是否符合预期；B. 反馈各项目/任务的执行结果，如：完成情况/未达预期的原因/失败的原因；C. 统计日程表中各任务的耗时情况是否正常，有没有效率特低或特高的情况，原因写到备注中；D. 回溯上一周面临的问题是否得到解决，解决方案是否有效，并对问题解决的过程进行概括；</code></pre><p>(2) Step-2-总结</p><pre><code>A. 总结本周面临的新问题，描述问题并概括导致问题出现的原因，准备以何种解决方案应对？B. 对工作、学习、生活（主要是人际关系）三方面进行评估，一方面对重点任务进行陈述性总结，另一方面评估重点任务的完成质量</code></pre></li><li><p>Step-3-计划</p><p>(1) 列出能预见到的项目/任务，如：阅读书籍&lt;在你身边为你设计&gt;；</p><p>(2) 细化任务，一方面要计划任务量，另一方面要计划时间分配，如：阅读到用研部分（P125 页）完，睡前阅读 30 分钟，周末统一整理笔记</p><p>OK，通过这三个步骤，基本上就可以写出一份到位的周报总结了，另外月报的方法也大同小异，可参考着写。</p></li></ol><p>另外，以前还看到过别人周报中设置的一些关注点，可供大家参考：</p><ol><li><p>黄金时间分布段：目的是把重点任务分配到精力最集中，最不容易受干扰的时间段去做；</p></li><li><p>总结任务的分类，各分类下的任务量，无需脑力的 Brain Dead 任务和需要静下心做的 Deep Time 任务各占了多少时间</p></li><li><p>如果你有建立一个靠谱的理想，你每天花费多少时间在上面？</p></li><li><p>评估你的精力状况，避免因为安排太多任务而透支</p></li></ol><p>一句话就是总结：你这周做了什么？做得怎么样？接下来你准备做什么？怎么去做？</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 个人管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>登陆华南师范大学校园网的方法</title>
      <link href="/2018/05/20/%E7%99%BB%E9%99%86%E5%8D%8E%E5%8D%97%E5%B8%88%E8%8C%83%E5%A4%A7%E5%AD%A6%E6%A0%A1%E5%9B%AD%E7%BD%91%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2018/05/20/%E7%99%BB%E9%99%86%E5%8D%8E%E5%8D%97%E5%B8%88%E8%8C%83%E5%A4%A7%E5%AD%A6%E6%A0%A1%E5%9B%AD%E7%BD%91%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>最近刚装了 unbuntu 系统,刚开始网络连接遇到了点小问题,原来是校园网不知道怎么认证,于是向好基友请教了下,得出快捷的方法如下:</p><ol><li><p>下载学校网络的认证客户端,记住位置,一般都是默认下载地址是 Download.</p></li><li><p>使用快捷键<code>Ctrl+Alt+T</code>打开终端，使用命令 <code>cd ~/下载</code> 或 <code>cd ～/Downloads</code>（如果您的系统语言为英文）进入文件下载目录。</p></li><li><p><code>unzip *.zip</code> 解压刚刚下载的客户端压缩文件,</p></li><li><p>如果您的下载目录不止一个 zip 文件，请把名字打全一点，如：<code>unzip RG_*.zip</code>,RG 为文件名.</p></li><li><p>如果提示 unzip 未安装，请安装它： <code>sudo apt-get install unzip</code> ；若提示输入密码，请输入您的系统账户密码，输入过程中不会有***的显示；若提示需要联网下载，请先用 Wifi（比如手机热点），安装文件并不大。</p></li></ol><p>6 以后的步骤,以后我们每次打开电脑都用这几行代码进行认证,可以复制到一个文件里,懒得每次都打代码</p><ol start="6"><li><p><code>cd ~/下载</code> –切换到安装目录</p></li><li><p><code>cd rjsup*</code> –进入文件夹.</p></li><li><p><code>sudo chmod +x ./rjsupplicant.sh</code> –给予 sh 文件最高权限</p></li><li><p><code>(sudo ./rj*.sh --dhcp=1 --nic=enp2s0 --user=201***** --password=****** &amp;)</code>进行认证,user 后是校园网账号,password 后是校园网密码.</p></li><li><p><code>service network-manager restart</code> 重新显示网络中心图标</p></li></ol><p>切记以后每次认证网络都用</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~/下载</span><br><span class="line">cd rjsup*</span><br><span class="line">sudo chmod +x ./rjsupplicant.sh</span><br><span class="line">(sudo ./rj*.sh <span class="attribute">--dhcp</span>=1 <span class="attribute">--nic</span>=enp2s0 <span class="attribute">--user</span>=20143702058 <span class="attribute">--password</span>=232824 &amp;)</span><br><span class="line">service network-manager restart</span><br></pre></td></tr></table></figure><p>这几行代码,一条代码执行完再执行下一条.</p><p>本文是看完 blackstorm 的博客之后的笔记,因为对于小白来说,他写的文章太晦涩了,第一次看很懵懂,所以我就把他的文章简化了.</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>天使之恋</title>
      <link href="/2018/05/20/%E5%A4%A9%E4%BD%BF%E4%B9%8B%E6%81%8B/"/>
      <url>/2018/05/20/%E5%A4%A9%E4%BD%BF%E4%B9%8B%E6%81%8B/</url>
      
        <content type="html"><![CDATA[<p>天使之恋，是一部日本的爱情电影。电影主要讲述的是失足女高中生由里与得了脑肿瘤又不愿意做手术准备等死的光辉大叔的纯纯的爱情故事。其实，选择继续看这部电影，是因为一开头给了一个镜头，是在医院中，光辉大叔刚从检查室出来，遇到由里和她妈妈，并且插肩而过，当时就在想，这样医院中毫不相干的两个人怎么把他们联系起来呢？后来看到由里跟一个老人家在一起，以为她做了人家的小三，应该跟在医院邂逅的那个大叔无关，可是这个画面也给了大叔一个镜头。再后一点，看到由里跟一个女的在床上接吻，心想，可能由里是一个双性恋者。就是跟着这一个个线索，最后我才看到了这部电影的最深情节，17岁的高中女生与35岁的大叔的纯洁的爱情故事，非常动人。大叔即使知道由里之前做过援交女的种种劣迹，依然表示自己是真的爱由里。也许，这就是浪漫主义的剧情吧。现实中，大多数男人都表示，自己不能接受自己的女朋友有过不洁的行为，即使是自己的女朋友跟之前的男朋友有过什么，也是不能容忍的。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 影评 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海边的曼彻斯特</title>
      <link href="/2018/05/20/%E6%B5%B7%E8%BE%B9%E7%9A%84%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9/"/>
      <url>/2018/05/20/%E6%B5%B7%E8%BE%B9%E7%9A%84%E6%9B%BC%E5%BD%BB%E6%96%AF%E7%89%B9/</url>
      
        <content type="html"><![CDATA[<p>看完这部影片，用一个词来形容就是安静，安静的环境下，平凡的生活，同时又夹杂着男主人过去的故事。很喜欢这种叙述方式，通过唯美的画面，渲染故事情节，将男主人公的伤心，悔恨，往事不堪回首等种种复杂心情，一一展现。</p><p>整部片围绕乔的葬礼，层层铺垫，叙事朴实而又不会让人觉得乏味。</p><p>在看影片的过程中，我就想：要是自己能死于这样大雪纷飞的冬天里，那该多好啊，估计此生也无憾了吧。摇荡的海水也是我喜欢的，它使人冷静而又充满了哲思。</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 影评 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>碎片化阅读知识系统化方法</title>
      <link href="/2018/05/20/%E7%A2%8E%E7%89%87%E5%8C%96%E9%98%85%E8%AF%BB%E7%9F%A5%E8%AF%86%E7%B3%BB%E7%BB%9F%E5%8C%96%E6%96%B9%E6%B3%95/"/>
      <url>/2018/05/20/%E7%A2%8E%E7%89%87%E5%8C%96%E9%98%85%E8%AF%BB%E7%9F%A5%E8%AF%86%E7%B3%BB%E7%BB%9F%E5%8C%96%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ol><li><p>认识： 碎片化阅读分为两个维度，即阅读时间碎片化和阅读内容碎片化。</p></li><li><p>高效阅读是指在读完大量书籍之后能记住书中的有效信息，可以讲出读过的书的主要内容，能讲的核心是学会做笔记和整理笔记。</p></li><li><p>阅读材料分类，基础的分类：专业精读、兴趣泛读、休闲轻松（阅读材料分级）。</p></li><li><p>个人阅读时间规划（阅读时间分级），大致可以分为：长时段（周末超过2小时的长时段、晚饭后到睡前1-4小时不等的时间）、每日恒定时间（乘坐各种交通工具上下班/学的时间，午饭/晚饭前、后的半小时，学生的课间）、机动时间（偶然状况空闲）。随机时间的应对策略：随身带书或者阅读器（要求：能做笔记、输出笔记）。</p></li><li><p>阅读的材料与时间段合理 配比，比如：长时间段→阅读专业精读书目、每日恒定时间→阅读兴趣泛读书目、机动时间→阅读休闲轻松书目。注意：无论选用哪种时间与书目的配比类型，一周之内都需要一个完整的时间段来完成全部笔记的整理工作，只有这样才能永久性保证阅读质量。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wordpress安装</title>
      <link href="/2018/05/20/wordpress%E5%AE%89%E8%A3%85/"/>
      <url>/2018/05/20/wordpress%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p><a href="https://codex.wordpress.org/zh-cn:%E5%AE%89%E8%A3%85_WordPress#.E6.AD.A5.E9.AA.A43:.E8.AE.BE.E7.BD.AEwp-config.php" target="_blank" rel="noopener">原文链接：</a></p><ol><li><p>下载并解压缩 WordPress 程序安装包</p></li><li><p>在你的网页服务器上为 WordPress 创建一个数据库, 并且创建一个 MySQL 拥有所有权限可以进入和修改的用户</p></li><li><p>重命名 wp-config-sample.php 文件为 wp-config.php</p></li><li><p>把 WordPress 文件夹放在你服务器上想要放的地方:</p></li></ol><p>(1) 如果你想把通过顶级域名来访问你的 WordPress 博客 (例如 <a href="http://example.com/),移动或上传所有解压后的" target="_blank" rel="noopener">http://example.com/),移动或上传所有解压后的</a> WordPress 文件夹里面的文件(但不包括 WordPress 文件夹本身) 到你服务器的根目录下.</p><p>(2) 如果你想通过子域名来访问你的博客(例如 <a href="http://example.com/blog/)" target="_blank" rel="noopener">http://example.com/blog/)</a>, 将 wordpress 重命名为你想要的子目录名称， 接着上传至你的网站服务器。 例如，你想让 WordPress 安装在子目录”blog”中，你就应该将”wordpress”这个文件夹重命名为”blog”，接着上传至你的网站服务器的根目录中。</p><ol start="5"><li>在你喜欢的浏览器中访问 wp-admin/install.php 以便启动安装程序.</li></ol><p>(1) 如果你在根目录下安装 WordPress,，你应该访问: <a href="http://example.com/wp-admin/install.php" target="_blank" rel="noopener">http://example.com/wp-admin/install.php</a></p><p>(2) 如果你将 WordPress 安装在子目录 blog 下，你应该访问: <a href="http://example.com/blog/wp-admin/install.php" target="_blank" rel="noopener">http://example.com/blog/wp-admin/install.php</a></p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitpage+hexo</title>
      <link href="/2018/05/20/gitpage-hexo/"/>
      <url>/2018/05/20/gitpage-hexo/</url>
      
        <content type="html"><![CDATA[<p>大半天，一边折腾，一边查找各种文档，写出的这篇文档，不知道有没有把程序表示得足够简明，有不足之处望指明。</p><a id="more"></a><ol><li><p>前提：已安装好 nodeJS 和 git。</p></li><li><p>桌面右击进入 gitbash，输入 npm install -g hexo 安装 hexo，关闭 gitbash。</p></li><li><p>在电脑中建立一个名为【hexo】的文件夹，新建的文件夹右击打开 gitbash，输入 hexo init 命令，命令执行完后，根据提示接着执行 npm install 命令。</p></li><li><p>运行 hexo server 命令，出现 running 字样说明 Hexo Server 已经启动了，在浏览器中打开<a href="http://localhost:4000/，可以看到生成的博客，按ctrl+C可以停止server；。" target="_blank" rel="noopener">http://localhost:4000/，可以看到生成的博客，按ctrl+C可以停止server；。</a></p></li><li><p>新打开一个 git bash 命令行窗口，cd 到/D/hexo 下，执行 hexo new “My New Post” 命令,可以生成一篇新的文章 “My New Post”，打开<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 可以预览到新生成的文章。</p></li><li><p>执行 hexo generate 命令可以将 markdown 文章生成静态网页，该命令执行完后，会在 D:\Hexo\public\ 目录下生成一系列 html，css 等文件。</p></li><li><p>hexo new “My NewPost”会在 D:\Hexo\source\ _posts 目录下生成一个 markdown 文件：My-New-Post.md，可以使用一个支持 markdown 语法的编辑器（比如 Sublime Text 2）来编辑该文件。</p></li><li><p>部署博客到 github</p></li></ol><p>(1) 部署到 Github 前需要配置_config.yml 文件，首先找到下面的内容</p><pre><code><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">type:</span></span><br></pre></td></tr></table></figure></code></pre><p>(2) 然后将它们修改为</p><pre><code><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line"><span class="attribute">type</span>: git（新版本的hexo必须用git，不然会出错）</span><br><span class="line"><span class="attribute">repository</span>:git<span class="variable">@github</span>.<span class="attribute">com</span>:zhchnchn/zhchnchn.git（新版本用SSH不然会出错）</span><br><span class="line"><span class="attribute">branch</span>: gh-pages</span><br></pre></td></tr></table></figure></code></pre><p>(3) 执行 npm install hexo-deployer-git –save 命令（hexo3.0 以上的版本必须在执行此命令后才能部署到 git 上）</p><pre><code>A. 执行 hexo clean，清除缓存B. 执行 hexo generate 更新生成静态网页C. 执行hexo deploy 命令部署博客到github上；D. 部署完成后，在浏览器中打开http://zhchnchn.github.io/（https://zhchnchn.github.io/） ，正常显示网页，表明部署成功。</code></pre><h3 id="注意两大坑"><a href="#注意两大坑" class="headerlink" title="注意两大坑:"></a>注意两大坑:</h3><ol><li><p>deploy 不了，3.0 版本以上要执行这个命令： npm install hexo-deployer-git<br>–save，切记！不然可能一直 error</p></li><li><p>然后部署到 git 上记得修改 url，不然可能发布之后有些 js 和 css 文件路径找不到！</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 概谈</title>
      <link href="/2018/05/20/JS%E6%A6%82%E8%B0%88/"/>
      <url>/2018/05/20/JS%E6%A6%82%E8%B0%88/</url>
      
        <content type="html"><![CDATA[<p>话说 JavaScript 其实是诞生在一个特殊的时期，20 世纪 90 年代，正值第三次科技革命<br>时期，互联网刚开始进入人们的生活。设想一下，在网速只有几十比特的那个时代，在登录注册时要花上很长一段时间等待服务器传回验证信息，会是怎样一种体验？简直是嘴上也不笑眯眯，心里千万句 mmp 吧？为了解决这个问题，网景公司着手设计出了 JavaScript，与它的浏览器一起捆绑推出。</p><a id="more"></a><p>这里有个问题，那就是 Java 跟 JavaScript 有什么关系呢？毕竟单词里都带有相同的“Java”字节，难免会让人把他们联系在一起啊。这里只要记住 Java 跟 JavaScript 没有半毛钱关系，如果说勉强算得上有关系的话，那就是 JavaScript 在创立之初本名叫 LiveScript，但是因为当时 Java 风头正足，为了蹭热点，改了名。</p><p>JavaScript 在诞生之初，有一些克隆兄弟，比如微软家推出的 JScript。我们知道，克隆人的出现会影响社会秩序，编程语言亦然。论天下之大事，分久必合，合久必分，这个时候就继续一个统一的标准对这些脚本语言进行规范了，于是 ECMA 组织了一些大公司的程序员开始策划这个规范，ECMAScript 第一代就这样诞生了。现在我们说的 JavaScript 其实是说对 ECMAScript 的实现。</p><p>ECMAScript 第一代出现后，很快就繁衍到了第二代，但是这一代的 ECMAScript 基本继承了第一代的特性，对 JavaScript 的语法、句法进行描述，没有做什么改动。到第三代的时候，ECMAScript 已经开始成熟，可以被称为一门编程语言了，其中加入了新的的描述，比如支持错误处理、正则表达式等。第四代的 ECMAScript 可以说是废弃的一代，因为它的欲望太强了，试图改朝换代，把旧有的 ECMAScript 改得面目全非，最终没有被组织通过。第五代的 ECMAScript 可以说是经历了一个漫长的讨论孕育期终于在 2009 年发布了正式版，对 ECMAScript 特性进行了进一步的描述，包括引入模式，弥补 JAVAScript 松散的语言结构缺点，提供了更多方便快捷的新方法等。紧随着 ECMAScript5 之后，2015 年演化出了 ECMAScript6，这一代的 ECMAScript 是他自己看起来更像是一门系统的编程语言了，添加了箭头年符号简化函数的写法，强化了对象字面量等都使他看起来更像是年轻力壮的青年男子。进入壮年后的 ECMAScript 发展更加迅速了，2016 年推出了第六代，新增了 Array.prototype.includes 和幂运算符。2017 年又奋起直追，推出了第八代，新增了字符串填充、对象值遍历、对象的属性描述符获取、 函数参数列表与调用中的尾部逗号、异步函数、共享内存与原子操作等。</p><p>所以，时至今日，ECMAScript 也就是 JavaScript 的核心标准已经发展到了第八代，但是比较经常听到周围人提起的依然是 ECMAScript6。</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django-Channels</title>
      <link href="/2018/05/20/Django-channels/"/>
      <url>/2018/05/20/Django-channels/</url>
      
        <content type="html"><![CDATA[<p>写在前面，这个项目用到了 py 的全能框架 Django 来写 web 界面，其中引用了一个通道插件 Django Channel。Django Channels 是为了解决 Django 只发送一个调用视图请求，却不断发送数据到客户端的问题而存在的。Django Channels 的实现机制大概是：生产者把消息推到通道队列中，再通过通道队列把消息传递给消费者之一。</p><a id="more"></a><h5 id="一、-关于-Django-实现实时聊天应用"><a href="#一、-关于-Django-实现实时聊天应用" class="headerlink" title="一、 关于 Django 实现实时聊天应用"></a>一、 关于 Django 实现实时聊天应用</h5><p>Django 实现实时聊天应用一共分为以下几步：</p><ol><li><p>定义一个模型，用来表示聊天室和其中的消息；</p></li><li><p>创建聊天室视图以及相应的 urls.py 和模板；</p></li><li><p>定义一个通道层；</p></li><li><p>创建通道路由；</p></li><li><p>替换 Django 的基于 HTTP/WSGI 的请求处理器；</p></li><li><p>运行应用</p></li></ol><h5 id="二、-项目目录"><a href="#二、-项目目录" class="headerlink" title="二、 项目目录"></a>二、 项目目录</h5><p>主要包括以下文件。</p><ol><li><p><strong>urls.py</strong> 是 Django 项目的 URL 声明，配置目录映射。</p></li><li><p><strong><em>init</em>.py</strong> 是一个空文件，告诉 python 该目录事一个 python 包。</p></li><li><p><strong>setting.py</strong> 是 Django 项目的配置文件，包括 template 模板 path 设置之类的。</p></li><li><p><strong>wsgi.py</strong> 是 WSGI 兼容的 Web 服务器入口。</p></li><li><p><strong>asgi.py</strong> 文件用于替换 Django 的基于 HTTP/WSGI 的请求处理器。</p></li><li><p><strong>production.py</strong> 创建队列消息。</p></li><li><p><strong>logger.py</strong> 提供 log 接口，记录 log，这里可以直接这么用，是因为在 setting 里已经配置过 logging 了。</p></li></ol><h5 id="三、-网页文件"><a href="#三、-网页文件" class="headerlink" title="三、 网页文件"></a>三、 网页文件</h5><p>主要网页文件，相当于 Django 框架的一个应用实例，通过 urls.py 可以映射到该文件夹并进行页面或者函数的调用。</p><ol><li><p><strong>admin.py</strong> 文件调用了 Django 的网站后台管理模块，主要使用方式是在 Django 框架的 url.py 中映射路径，激活该功能。</p></li><li><p><strong>apps.py</strong> 配置应用信息.</p></li><li><p><strong>consumer.py</strong></p><p>(1) 首先检测有没有新的请求要求打开 WebSocket,有的话,记录该请求产生的房间并给出回应。</p><p>(2) 接着，检测有没有新的消息请求，有的话，先把它转换为 json 字段，然后把它放入消息队列，并给出回应，这个过程会一直执行，知道接下来收到客户端发出的结束请求为止。简言之，这个文档就是实现线程通信的，俗称实时通信。</p></li><li><p><strong>routing.py</strong> 通信路由，用于连接 WebSocket。</p></li><li><p><strong>view.py</strong> 视图页，渲染前端页面。</p></li><li><p><strong>accounts 文件夹</strong> 是用户组件。</p></li></ol><h5 id="四、-tensorflow-组件"><a href="#四、-tensorflow-组件" class="headerlink" title="四、 tensorflow 组件"></a>四、 tensorflow 组件</h5><p>主要是用了 tensorflow 进行人机交互。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 使用指南</title>
      <link href="/2018/05/20/hexo%E5%85%A5%E9%97%A8/"/>
      <url>/2018/05/20/hexo%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建 Django 博客系统</title>
      <link href="/2018/05/20/%E6%90%AD%E5%BB%BA%20Django%20%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F/"/>
      <url>/2018/05/20/%E6%90%AD%E5%BB%BA%20Django%20%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h5 id="一、-环境："><a href="#一、-环境：" class="headerlink" title="一、 环境："></a>一、 环境：</h5><p>win7 系统、Django、python</p><h5 id="二、-需求分析："><a href="#二、-需求分析：" class="headerlink" title="二、 需求分析："></a>二、 需求分析：</h5><p>实现博客的创建、编辑和删除功能，并开通后台 admin,加入富文本编辑器，并入项目中</p><h5 id="三、-搭建-Django-网站："><a href="#三、-搭建-Django-网站：" class="headerlink" title="三、 搭建 Django 网站："></a>三、 搭建 Django 网站：</h5><ol><li><p>检查 Django 版本信息，python &gt;&gt; import django &gt;&gt; django.get_version()</p></li><li><p>启动 DOS 命令窗口，切换到相应文件路径，输入：<code>django-admin startproject mysite(网站名称)</code> 命令，创建一个 blog 项目目录。</p></li><li><p><code>cd mysite</code> &gt; <code>ls -l</code> 查看项目目录，可以看到项目目录包括：<em>init</em>.py、manage.py、setting.py、urls.py。<em>init</em>.py 会把项目目录变成一个 python 包（相关模块的一个集合)，可以方便我们用 python 的“点记号”来制定项目中的某个部分，比如 mysite.urls。</p></li><li><p>manage.py 是项目的启动文件，我们完成之后，要在 dos 中启动的就是这个文件。</p></li><li><p>setting.py 顾名思义，项目的配置文件，主要用来配置数据库、变量之类的基础信息。</p></li><li><p>urls.py 有点像路由配置，就是一些路径的集合，方便在文件中调用。</p></li></ol><h5 id="四、-搭建-Django-博客："><a href="#四、-搭建-Django-博客：" class="headerlink" title="四、 搭建 Django 博客："></a>四、 搭建 Django 博客：</h5><p><code>cd mysite</code> &lt; <code>python manage.py startapp blog</code> 利用 manage.py 创建博客 app，可以看到生成了<em>init.py</em>、models.py、views.py。同样的,<em>init</em>.py 把博客变成了一个 python 包，model.py 和 views.py 是两个空文件，先占着位置。</p><h5 id="五、-修改配置文件："><a href="#五、-修改配置文件：" class="headerlink" title="五、 修改配置文件："></a>五、 修改配置文件：</h5><p>打开 setting.py ，找到 INSTALLED_APPS 元组，把 APP 以模块的形式添加到元组里。</p><h5 id="六、-初始化后台数据库："><a href="#六、-初始化后台数据库：" class="headerlink" title="六、 初始化后台数据库："></a>六、 初始化后台数据库：</h5><ol><li><p>由于使用的是 mysql 数据库，而 Django 默认的数据库是 SQLite3 ，所以需要修改 setting.py 文件中的数据库信息。</p></li><li><p>同步数据库信息：<code>python manage.py migrate</code></p></li><li><p>创建超级管理员账号，用于登录 admin 初始化后台数据库</p></li><li><p>访问 admin 后台： <code>python manage.py runserver</code> 启动页面，然后在主页链接后面加上 admin 路径 /admin/，用新创建的超级用户登录，就可以看到管理者后台了。</p></li></ol><h5 id="七、设计数据表"><a href="#七、设计数据表" class="headerlink" title="七、设计数据表"></a>七、设计数据表</h5><p>打开 blog 目录下的 models.py 文件，加入以下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogsPost</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    title = models.CharField(max_length = <span class="number">150</span>)  <span class="comment"># 博客标题</span></span><br><span class="line">    body = models.TextField()                   <span class="comment"># 博客正文</span></span><br><span class="line">    timestamp = models.DateTimeField()          <span class="comment"># 创建时间</span></span><br></pre></td></tr></table></figure><p>然后执行 <code>python manage.py makemigrations blog</code> &gt; <code>python manage.py migrate</code> 命令，同步数据库。</p><h5 id="八、-admin-后台管理搭建："><a href="#八、-admin-后台管理搭建：" class="headerlink" title="八、 admin 后台管理搭建："></a>八、 admin 后台管理搭建：</h5><ol><li><p>打开 setting.py 文件，找到 INSTALLED_APPS 添加 <code>django.contrib.admin</code> 内置模块到元组里。</p></li><li><p>打开 urls.py ，配置 admin 的 url 映射，也就是添加<code>（r&#39;^admin/&#39;,include(django.contrib.admin.urls&#39;)),</code>到文件里。</p></li><li><p>注册 BlogPost model，打开 blog/models.py 文件，添加以下代码,启动项目，访问 admin 路径，就可以在后台添加 blog 文章了。</p></li></ol><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="title">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"></span><br><span class="line"><span class="meta"># Create your models here.</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">BlogsPost</span>(<span class="title">models</span>.<span class="type">Model</span>):</span></span><br><span class="line"><span class="class">    title = models.<span class="type">CharField</span>(<span class="title">max_length</span> = 150)  # 博客标题</span></span><br><span class="line"><span class="class">    body = models.<span class="type">TextField</span>()                   # 博客正文</span></span><br><span class="line"><span class="class">    timestamp = models.<span class="type">DateTimeField</span>()          # 创建时间</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">admin.site.register(<span class="type">BlogsPost</span>,<span class="type">BlogPostAdmin</span>)</span></span><br></pre></td></tr></table></figure><ol start="4"><li>但是我们发现这个 blog 管理界面有点丑，怎么办？添加一个列表展示类，就可以选择我们需要展示的内容了，代码如下,打开页面，点击 title 我们可以发现会按照 title 进行文章排序，点击其他两个，一样的效果。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogPostAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    list_display = (<span class="string">'title'</span>, <span class="string">'body'</span>,<span class="string">'timestamp'</span>)</span><br></pre></td></tr></table></figure><h5 id="九、-创建文章列表模板："><a href="#九、-创建文章列表模板：" class="headerlink" title="九、 创建文章列表模板："></a>九、 创建文章列表模板：</h5><p>在 blog 项目下创建 templates 目录（mysite/blog/templates/）,在目录下创建模板文件 archive.html，内容如下：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">for</span></span> post <span class="keyword">in</span> posts %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.title &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.timestamp &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.body &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endfor</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><h5 id="十、创建视图模板"><a href="#十、创建视图模板" class="headerlink" title="十、创建视图模板"></a>十、创建视图模板</h5><p>打开 mysite/blog/views.py 文件，添加以下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.template <span class="keyword">import</span> loader,context</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> matrixtech.blog.models <span class="keyword">import</span> BlogsPost</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">archive</span><span class="params">(request)</span>:</span></span><br><span class="line">    blog_list = BlogsPost.objects.all()  <span class="comment"># 获取所有数据</span></span><br><span class="line">    t  = loader.get_template(<span class="string">'archive.html'</span>)</span><br><span class="line">    c = context(&#123;&#123;<span class="string">'posts'</span>: posts &#125;&#125;)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(t.render(c))  <span class="comment"># 返回blog.html页面</span></span><br></pre></td></tr></table></figure><h5 id="十一、创建-blog-的-url"><a href="#十一、创建-blog-的-url" class="headerlink" title="十一、创建 blog 的 url"></a>十一、创建 blog 的 url</h5><ol><li>在 mysite/urls 里创建 url 模式，添加如下代码</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url(<span class="string">r'^blog/'</span>, include(<span class="string">'blog.urls'</span>))</span><br></pre></td></tr></table></figure><ol start="2"><li>在 blog/urls 定义 url，添加以下代码,重启服务，就可以访问 blog 了。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls.defaults <span class="keyword">import</span>  *</span><br><span class="line"><span class="keyword">from</span> matrixtech.blog.views <span class="keyword">import</span> archive</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^$'</span>, archive),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h5 id="十二、-博客整合到网站中"><a href="#十二、-博客整合到网站中" class="headerlink" title="十二、 博客整合到网站中"></a>十二、 博客整合到网站中</h5><p>博客创建好之后，我需要把它整合到项目中，这里我主要是用链接的形式，把博客链接放在了主导航栏上，点击就会跳转到博客，博客导航栏有主页项，点击也可以调回来。方法是这样的：</p><p>通过 url 匹配名称，查找资源位置，代码如下：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-tag">&#123;% <span class="name"><span class="name">url</span></span> 'blog' %&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>博客<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="十三、博客外观改善"><a href="#十三、博客外观改善" class="headerlink" title="十三、博客外观改善"></a>十三、博客外观改善</h5><ol><li><p>外观改善主要是生成 templates 文件夹，在里面添加一个 archive.html 文件作为文章模板，还有各个 theme.html 文件作为页面主题模板，其中会涉及到一些 Django 模板语言，需要去了解下，感觉用起来爽歪歪。</p></li><li><p>除了模板语言之外，可以直接通过 url 来查找相关的。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP/IP三次握手</title>
      <link href="/2017/05/25/TCP-IP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/"/>
      <url>/2017/05/25/TCP-IP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<p>TCP/IP 三次握手描述</p><a id="more"></a><ol><li><p>第一次 握手：客户端向服务器端发包，并且不确定服务器端是否收到，同时服务器端确认接受包；</p></li><li><p>第二次握手：服务器端向客户端发包作为回复，并且不确定客户端是否能接收自己发出的包，同时客户端收到包；</p></li><li><p>客户端发包回应服务器端，服务器端确认收到包，两边都确认能接收传递信息，通过快速连接，客户端发出初始信息，开始通信;<br>用简洁易懂的话说就是：</p><pre><code>A：在吗？亲（第一次握手）B：恩，有啥事？（第二次握手）A：我们来聊天吧。（第三次握手）</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git域名配置</title>
      <link href="/2017/05/09/git%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/"/>
      <url>/2017/05/09/git%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>git 域名配置</p><a id="more"></a><ol><li><p>在 Godaddy 购买的域名；</p></li><li><p>查找 DNSpod 解析域名，没什么难度，就是添加一条记录，保存而已，记得在添加域名到 DNSpod 之后，复制两个 NS 地址到 godaddy 的域名服务器下；</p></li><li><p>Git 项目根目录下创建 CNAME 文件，把域名填进去，push 就行了。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git环境配置</title>
      <link href="/2017/05/09/git%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2017/05/09/git%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>结合了一些网上的方法，结合自己配置的实际情况写的文档。</p><a id="more"></a><ol><li><p>下载 git 主程序，下载地址：<a href="https://git-scm.com/downloads，" target="_blank" rel="noopener">https://git-scm.com/downloads，</a> 双击安装包，一路 next 就行；</p></li><li><p>对于技术小白的我来说，命令行神马的太复杂了，所以就需要一个 git 界面画的软件来帮助我啦，这个软件就是 TortoiseGit，下载地址：<a href="https://tortoisegit.org/download/，" target="_blank" rel="noopener">https://tortoisegit.org/download/，</a> 分为 32 位版和 64 位版，下载时要选好，安装的时候也是一路 next；</p></li><li><p>接下来就是解决怎么把本地项目关联发布到 git 上的问题了；</p></li></ol><p>(1) 首先打开 git 上的项目，复制 git 的 HTTP 地址；</p><p>(2) 然后创打开硬盘里的一个目录，最好是专门开发用的目录，点右键，选择“Git Clone…”，将地址复制进去，点击 OK；<br>(3) 出现 Success 提示，就代表 clone 成功了，close 掉对话框，然后就出现了名为 git 项目的文件夹了；</p><ol start="4"><li>本地改动保存为一个版本，我们以新建文件为例；</li></ol><p>(1) 首先，打开刚才生成文件夹，新建一个名为 readme.txt 的空文件；</p><p>(2) 然后在这里鼠标右击，选择 Git Commit -&gt; “master”…，会弹出一个对话框（注意：这里可能会提醒设置用户名、密码 和邮箱，点击确定，填写 git 账户的用户名和注册邮箱以及密码即可）；</p>]]></content>
      
      
      <categories>
          
          <category> 项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodeJs 配置</title>
      <link href="/2017/05/09/nodeJs%E9%85%8D%E7%BD%AE/"/>
      <url>/2017/05/09/nodeJs%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>nodeJs 配置</p><a id="more"></a><ol><li><p>下载 node.js 安装包，下载地址： <a href="https://nodejs.org/dist/v4.4.3/node-v4.4.3-x64.msi，" target="_blank" rel="noopener">https://nodejs.org/dist/v4.4.3/node-v4.4.3-x64.msi，</a> 双击安装包，开始安装，一路 next 就行；</p></li><li><p>检测 PATH 环境变量是否配置了 node.js，进入 cmd 界面，输入 path 命令，结果中环境变量出现了 nodeJS 字眼，说明环境变量配置成功了；</p></li><li><p>运行 node -v 命令，检测 node.js 版本，查看是否安装成功；</p></li><li><p>运行 npm -v 命令，检测 npm 版本，查看是否安装成功；</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodeJs </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
